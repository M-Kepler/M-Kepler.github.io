DEBUG    mypy.utils.file:file.py:396 🔵 测试文件 ['/home/runner/work/github-runner/github-runner/mypy/assets/media/doc/test.docx'] 成功拷贝到 /home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/test_ppt2douyin
INFO     mypy.lib.playwright.publish_config:publish_config.py:157 🟢 -----> 配置如下 <-----
INFO     mypy.apps.ppt2douyin.main:log.py:192 🟢 ========================================
INFO     mypy.apps.ppt2douyin.main:main.py:168 🟢 正在把当前目录下的文件转成 image_article
INFO     mypy.apps.ppt2douyin.main:log.py:192 🟢 ========================================
INFO     mypy.apps.ppt2douyin.ppt_converter:ppt_converter.py:237 🟢 开始把《/home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/test_ppt2douyin/test.docx》转换成 image_article
DEBUG    mypy.lib.libreoffice.libreoffice_helper:libreoffice_helper.py:133 🔵 把 PPT 转成 PDF
DEBUG    mypy.lib.libreoffice.libreoffice_helper:libreoffice_helper.py:78 🔵 通过 libreoffice 把 PPT 转成 PDF
DEBUG    /home/runner/work/github-runner/github-runner/mypy/utils/tools.py:tools.py:245 🔵 正在执行命令: ['soffice', '--headless', '--convert-to', 'pdf', '--outdir', '/home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/test_ppt2douyin/_out/test', '/home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/test_ppt2douyin/test.docx']
DEBUG    mypy.lib.pdf.pdf_handler:pdf_handler.py:41 🔵 通过 pdf2image 库转成图片，输出到: /home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/test_ppt2douyin/_out/test
INFO     mypy.apps.ppt2douyin.ppt_converter:ppt_converter.py:116 🟢 -----> 添加 logo: /home/runner/work/github-runner/github-runner/mypy/assets/account/test/logo.png
INFO     mypy.apps.ppt2douyin.ppt_converter:ppt_converter.py:255 🟢 转换完成，结果输出在 /home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/test_ppt2douyin/_out 目录下
INFO     mypy.apps.ppt2douyin.main:log.py:192 🟢 ========================================
INFO     mypy.apps.ppt2douyin.main:main.py:174 🟢 开始发布 /home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/test_ppt2douyin/_out 目录下的文件
INFO     mypy.apps.ppt2douyin.main:log.py:192 🟢 ========================================
INFO     mypy.lib.playwright.publish_handler:publish_handler.py:84 🟢 -----> 开始发布《/home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/test_ppt2douyin/_out/test》到 ['douyin'] 平台
WARNING  mypy.lib.playwright.publish_handler:log.py:123 🟠 [platform: douyin], [publish_file: test] - /home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/test_ppt2douyin/config/cookie/douyin 下发现多个 cookie: ['/home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/test_ppt2douyin/config/cookie/douyin/cookie_large.json', '/home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/test_ppt2douyin/config/cookie/douyin/cookie_test.json', '/home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/test_ppt2douyin/config/cookie/douyin/cookie_middle.json']
INFO     mypy.lib.playwright.publish_handler:log.py:120 🟢 [platform: douyin], [publish_file: test] - 默认选择第一个 cookie: /home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/test_ppt2douyin/config/cookie/douyin/cookie_large.json
INFO     mypy.lib.playwright.publish_handler:log.py:120 🟢 [platform: douyin], [publish_file: test] - 从配置文件中读取的发布账号: /home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/test_ppt2douyin/config/cookie/douyin/cookie_test.json
INFO     mypy.lib.playwright.publish_handler:log.py:120 🟢 [platform: douyin], [publish_file: test] - 正在使用 [/home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/test_ppt2douyin/config/cookie/douyin/cookie_test.json] 发布作品
WARNING  mypy.lib.proxy_pool.proxy_pool_helper:proxy_pool_helper.py:49 🟠 未找到可用的 深圳(https) 代理地址
DEBUG    mypy.lib.playwright.publish_handler:log.py:117 🔵 [platform: douyin], [publish_file: test] - 从文件标题解析出话题: #test
INFO     mypy.lib.playwright.publish_handler:log.py:120 🟢 [platform: douyin], [publish_file: test] - ============================================================
INFO     mypy.lib.playwright.publish_handler:log.py:120 🟢 [platform: douyin], [publish_file: test] - [DouyinImagesPublishHelper] 开始执行发布任务
INFO     mypy.lib.playwright.publish_handler:log.py:120 🟢 [platform: douyin], [publish_file: test] - ============================================================
CRITICAL mypy.lib.playwright.publish_handler:log.py:129 ❌ [platform: douyin], [publish_file: test] - 账号登录状态已失效，正在跳出: Page.inner_text: Timeout 120000ms exceeded.
Call log:
waiting for locator(".rNsML")

CRITICAL mypy.lib.playwright.publish_handler:log.py:129 ❌ [platform: douyin], [publish_file: test] - 《test》发布异常: Page.inner_text: Timeout 120000ms exceeded.
Call log:
waiting for locator(".rNsML")

ERROR    mypy.lib.playwright.common:common.py:169 🔴 Page.inner_text: Timeout 120000ms exceeded.
Call log:
waiting for locator(".rNsML")
Traceback (most recent call last):
  File "/home/runner/work/github-runner/github-runner/mypy/lib/playwright/core/publish_helper.py", line 95, in _check_login_status
    user_name = await self._get_logined_username(page)
  File "/home/runner/work/github-runner/github-runner/mypy/lib/playwright/core/publish_helper.py", line 86, in _get_logined_username
    raise ex
  File "/home/runner/work/github-runner/github-runner/mypy/lib/playwright/core/publish_helper.py", line 82, in _get_logined_username
    user_name = await page.inner_text(
  File "/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/site-packages/playwright/async_api/_generated.py", line 10475, in inner_text
    await self._impl_obj.inner_text(
  File "/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/site-packages/playwright/_impl/_page.py", line 904, in inner_text
    return await self._main_frame.inner_text(**locals_to_params(locals()))
  File "/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/site-packages/playwright/_impl/_frame.py", line 618, in inner_text
    return await self._channel.send("innerText", locals_to_params(locals()))
  File "/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/site-packages/playwright/_impl/_connection.py", line 59, in send
    return await self._connection.wrap_api_call(
  File "/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/site-packages/playwright/_impl/_connection.py", line 514, in wrap_api_call
    raise rewrite_error(error, f"{parsed_st['apiName']}: {error}") from None
playwright._impl._errors.TimeoutError: Page.inner_text: Timeout 120000ms exceeded.
Call log:
waiting for locator(".rNsML")


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/runner/work/github-runner/github-runner/mypy/lib/playwright/common.py", line 167, in launch_browser_mgr
    yield browser, context, page
  File "/home/runner/work/github-runner/github-runner/mypy/lib/playwright/core/publish_helper.py", line 162, in publish_mission
    raise ex
  File "/home/runner/work/github-runner/github-runner/mypy/lib/playwright/core/publish_helper.py", line 146, in publish_mission
    await self._check_login_status(page)
  File "/home/runner/work/github-runner/github-runner/mypy/lib/playwright/core/publish_helper.py", line 99, in _check_login_status
    raise CheckLoginStatusExp(original_exception=ex) from ex
mypy.lib.playwright.exceptions.CheckLoginStatusExp: Page.inner_text: Timeout 120000ms exceeded.
Call log:
waiting for locator(".rNsML")

CRITICAL mypy.lib.playwright.publish_handler:log.py:129 ❌ [platform: douyin], [publish_file: test] - 《test》发布异常: Page.inner_text: Timeout 120000ms exceeded.
Call log:
waiting for locator(".rNsML")

WARNING  mypy.lib.playwright.publish_handler:publish_handler.py:61 🟠 [/home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/test_ppt2douyin/_out/test] 发布到 [douyin] 失败，原因: [Page.inner_text: Timeout 120000ms exceeded.
Call log:
waiting for locator(".rNsML")
]
INFO     mypy.apps.ppt2douyin.ppt_publish_helper:ppt_publish_helper.py:181 🟢 发布结果: [['douyin', False, 'Page.inner_text: Timeout 120000ms exceeded.\nCall log:\nwaiting for locator(".rNsML")\n']], 删除文件夹: /home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/test_ppt2douyin/_out/test
INFO     mypy.lib.playwright.publish_handler:publish_handler.py:84 🟢 -----> 开始发布《/home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/test_ppt2douyin/_out/music》到 ['douyin'] 平台
WARNING  mypy.lib.playwright.publish_handler:log.py:123 🟠 [platform: douyin], [publish_file: music] - /home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/test_ppt2douyin/config/cookie/douyin 下发现多个 cookie: ['/home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/test_ppt2douyin/config/cookie/douyin/cookie_large.json', '/home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/test_ppt2douyin/config/cookie/douyin/cookie_test.json', '/home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/test_ppt2douyin/config/cookie/douyin/cookie_middle.json']
INFO     mypy.lib.playwright.publish_handler:log.py:120 🟢 [platform: douyin], [publish_file: music] - 默认选择第一个 cookie: /home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/test_ppt2douyin/config/cookie/douyin/cookie_large.json
INFO     mypy.lib.playwright.publish_handler:log.py:120 🟢 [platform: douyin], [publish_file: music] - 从配置文件中读取的发布账号: /home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/test_ppt2douyin/config/cookie/douyin/cookie_test.json
INFO     mypy.lib.playwright.publish_handler:log.py:120 🟢 [platform: douyin], [publish_file: music] - 正在使用 [/home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/test_ppt2douyin/config/cookie/douyin/cookie_test.json] 发布作品
WARNING  mypy.lib.proxy_pool.proxy_pool_helper:proxy_pool_helper.py:49 🟠 未找到可用的 深圳(https) 代理地址
DEBUG    mypy.lib.playwright.publish_handler:log.py:117 🔵 [platform: douyin], [publish_file: music] - 从文件标题解析出话题: #music
INFO     mypy.lib.playwright.publish_handler:log.py:120 🟢 [platform: douyin], [publish_file: music] - ============================================================
INFO     mypy.lib.playwright.publish_handler:log.py:120 🟢 [platform: douyin], [publish_file: music] - [DouyinImagesPublishHelper] 开始执行发布任务
INFO     mypy.lib.playwright.publish_handler:log.py:120 🟢 [platform: douyin], [publish_file: music] - ============================================================
CRITICAL mypy.lib.playwright.publish_handler:log.py:129 ❌ [platform: douyin], [publish_file: music] - 账号登录状态已失效，正在跳出: Page.inner_text: Timeout 120000ms exceeded.
Call log:
waiting for locator(".rNsML")

CRITICAL mypy.lib.playwright.publish_handler:log.py:129 ❌ [platform: douyin], [publish_file: music] - 《music》发布异常: Page.inner_text: Timeout 120000ms exceeded.
Call log:
waiting for locator(".rNsML")

ERROR    mypy.lib.playwright.common:common.py:169 🔴 Page.inner_text: Timeout 120000ms exceeded.
Call log:
waiting for locator(".rNsML")
Traceback (most recent call last):
  File "/home/runner/work/github-runner/github-runner/mypy/lib/playwright/core/publish_helper.py", line 95, in _check_login_status
    user_name = await self._get_logined_username(page)
  File "/home/runner/work/github-runner/github-runner/mypy/lib/playwright/core/publish_helper.py", line 86, in _get_logined_username
    raise ex
  File "/home/runner/work/github-runner/github-runner/mypy/lib/playwright/core/publish_helper.py", line 82, in _get_logined_username
    user_name = await page.inner_text(
  File "/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/site-packages/playwright/async_api/_generated.py", line 10475, in inner_text
    await self._impl_obj.inner_text(
  File "/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/site-packages/playwright/_impl/_page.py", line 904, in inner_text
    return await self._main_frame.inner_text(**locals_to_params(locals()))
  File "/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/site-packages/playwright/_impl/_frame.py", line 618, in inner_text
    return await self._channel.send("innerText", locals_to_params(locals()))
  File "/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/site-packages/playwright/_impl/_connection.py", line 59, in send
    return await self._connection.wrap_api_call(
  File "/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/site-packages/playwright/_impl/_connection.py", line 514, in wrap_api_call
    raise rewrite_error(error, f"{parsed_st['apiName']}: {error}") from None
playwright._impl._errors.TimeoutError: Page.inner_text: Timeout 120000ms exceeded.
Call log:
waiting for locator(".rNsML")


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/runner/work/github-runner/github-runner/mypy/lib/playwright/common.py", line 167, in launch_browser_mgr
    yield browser, context, page
  File "/home/runner/work/github-runner/github-runner/mypy/lib/playwright/core/publish_helper.py", line 162, in publish_mission
    raise ex
  File "/home/runner/work/github-runner/github-runner/mypy/lib/playwright/core/publish_helper.py", line 146, in publish_mission
    await self._check_login_status(page)
  File "/home/runner/work/github-runner/github-runner/mypy/lib/playwright/core/publish_helper.py", line 99, in _check_login_status
    raise CheckLoginStatusExp(original_exception=ex) from ex
mypy.lib.playwright.exceptions.CheckLoginStatusExp: Page.inner_text: Timeout 120000ms exceeded.
Call log:
waiting for locator(".rNsML")

CRITICAL mypy.lib.playwright.publish_handler:log.py:129 ❌ [platform: douyin], [publish_file: music] - 《music》发布异常: Page.inner_text: Timeout 120000ms exceeded.
Call log:
waiting for locator(".rNsML")

WARNING  mypy.lib.playwright.publish_handler:publish_handler.py:61 🟠 [/home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/test_ppt2douyin/_out/music] 发布到 [douyin] 失败，原因: [Page.inner_text: Timeout 120000ms exceeded.
Call log:
waiting for locator(".rNsML")
]
INFO     mypy.apps.ppt2douyin.ppt_publish_helper:ppt_publish_helper.py:181 🟢 发布结果: [['douyin', False, 'Page.inner_text: Timeout 120000ms exceeded.\nCall log:\nwaiting for locator(".rNsML")\n']], 删除文件夹: /home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/test_ppt2douyin/_out/music
INFO     mypy.apps.ppt2douyin.ppt_publish_helper:ppt_publish_helper.py:184 🟢 处理完成，一共处理了 2 个图文
DEBUG    mypy.utils.file:file.py:409 🔵 测试完成，删除拷贝过来的文件: /home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/test_ppt2douyin/test.docx