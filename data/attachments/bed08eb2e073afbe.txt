INFO     mypy.apps.youtu2douyin.main:main.py:21 🟢 运行模式: manual
INFO     mypy.apps.youtu2douyin.main:main.py:23 🟢 video_url: https://www.youtube.com/watch?v=mAxFB3vbt7c
INFO     mypy.apps.youtu2douyin.channel_loop:channel_loop.py:40 🟢 new video《One of the world’s oldest condiments - Dan Kwartler》found, id: mAxFB3vbt7c, publish date: 2024-03-12 00:00:00
INFO     mypy.lib.youtube.video_handler:video_handler.py:181 🟢 ===== 获取视频 =====
INFO     mypy.lib.youtube.video_handler:video_handler.py:182 🟢 输出路径: /home/runner/work/Python/Python/mypy/tests/apps/youtu2douyin/_out/channel_UCsooa4yRKGN_zEE8iknghZA
INFO     mypy.lib.youtube.video_handler:video_handler.py:193 🟢 ===== 下载视频资源 =====
INFO     mypy.lib.youtube.ytdlp_helper:ytdlp_helper.py:164 🟢 ----- 下载视频 -----
DEBUG    /home/runner/work/Python/Python/mypy/utils/tools.py:tools.py:169 🔵 正在执行命令: ['yt-dlp', '--format', 'bv+ba', '--merge-output-format', 'mp4', '--output', '/home/runner/work/Python/Python/mypy/tests/apps/youtu2douyin/_out/channel_UCsooa4yRKGN_zEE8iknghZA/mAxFB3vbt7c/mAxFB3vbt7c.mp4', '--write-thumbnail', '--convert-thumbnail', 'jpg', '--output', 'thumbnail:/home/runner/work/Python/Python/mypy/tests/apps/youtu2douyin/_out/channel_UCsooa4yRKGN_zEE8iknghZA/mAxFB3vbt7c/mAxFB3vbt7c', 'https://youtube.com/watch?v=mAxFB3vbt7c']
INFO     mypy.lib.youtube.ytdlp_helper:ytdlp_helper.py:168 🟢 ----- 下载字幕 -----
INFO     mypy.lib.youtube.y2_srt_handler:y2_srt_handler.py:34 🟢 ----- 下载字幕 -----
INFO     mypy.lib.youtube.video_handler:video_handler.py:197 🟢 ===== 视频剪辑 =====
INFO     mypy.lib.youtube.video_handler:video_handler.py:208 🟢 ----- 处理后视频路径: /home/runner/work/Python/Python/mypy/tests/apps/youtu2douyin/_out/channel_UCsooa4yRKGN_zEE8iknghZA/mAxFB3vbt7c.mp4
INFO     mypy.lib.youtube.video_handler:video_handler.py:211 🟢 ===== 获取封面 =====
DEBUG    mypy.apps.youtu2douyin.channel_loop:channel_loop.py:106 🔵 ----- 视频信息: {'id': 'mAxFB3vbt7c', 'url': 'https://youtube.com/watch?v=mAxFB3vbt7c', 'title': 'One of the world’s oldest condiments - Dan Kwartler', 'publish_date': '2024-03-12 00:00:00', 'published': []}
INFO     mypy.apps.youtu2douyin.channel_loop:channel_loop.py:113 🟢 立即发布监控到的第一个视频《世界上最古老的调味品之一》
INFO     mypy.apps.youtu2douyin.publish_handler:publish_handler.py:24 🟢 -----> 发布到抖音
INFO     mypy.lib.douyin.publisher:publisher.py:714 🟢 正在使用 [cookie_17688150852.json] 发布作品，当前账号排序: [1]
INFO     mypy.lib.douyin.publisher:publisher.py:367 🟢 -----> 当前登录账号为 “PPT320210”
INFO     mypy.lib.douyin.publisher:publisher.py:435 🟢 设置视频简介为: 世界上最古老的调味品之一#TED #四六级 #英语口语 #雅思
ERROR    mypy.lib.douyin.publisher:publisher.py:532 🔴 ❌❌❌《世界上最古老的调味品之一》发布异常 ❌❌❌
Traceback (most recent call last):
  File "/home/runner/work/Python/Python/mypy/lib/douyin/publisher.py", line 518, in publish_mission
    await self._set_collection(page)
  File "/home/runner/work/Python/Python/mypy/lib/douyin/publisher.py", line 189, in _set_collection
    selected_collection = await self._get_collection(page)
  File "/home/runner/work/Python/Python/mypy/lib/douyin/publisher.py", line 128, in _get_collection
    await page.wait_for_selector(self._playwright_cfg.coll_list_loc)
  File "/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/playwright/async_api/_generated.py", line 7786, in wait_for_selector
    await self._impl_obj.wait_for_selector(
  File "/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/playwright/_impl/_page.py", line 373, in wait_for_selector
    return await self._main_frame.wait_for_selector(**locals_to_params(locals()))
  File "/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/playwright/_impl/_frame.py", line 323, in wait_for_selector
    await self._channel.send("waitForSelector", locals_to_params(locals()))
  File "/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/playwright/_impl/_connection.py", line 59, in send
    return await self._connection.wrap_api_call(
  File "/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/playwright/_impl/_connection.py", line 509, in wrap_api_call
    return await cb()
  File "/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/playwright/_impl/_connection.py", line 97, in inner_send
    result = next(iter(done)).result()
playwright._impl._errors.TimeoutError: Timeout 120000ms exceeded.
ERROR    mypy.apps.youtu2douyin.publish_handler:publish_handler.py:39 🔴 发布失败: 
Traceback (most recent call last):
  File "/home/runner/work/Python/Python/mypy/lib/douyin/publisher.py", line 518, in publish_mission
    await self._set_collection(page)
  File "/home/runner/work/Python/Python/mypy/lib/douyin/publisher.py", line 189, in _set_collection
    selected_collection = await self._get_collection(page)
  File "/home/runner/work/Python/Python/mypy/lib/douyin/publisher.py", line 128, in _get_collection
    await page.wait_for_selector(self._playwright_cfg.coll_list_loc)
  File "/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/playwright/async_api/_generated.py", line 7786, in wait_for_selector
    await self._impl_obj.wait_for_selector(
  File "/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/playwright/_impl/_page.py", line 373, in wait_for_selector
    return await self._main_frame.wait_for_selector(**locals_to_params(locals()))
  File "/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/playwright/_impl/_frame.py", line 323, in wait_for_selector
    await self._channel.send("waitForSelector", locals_to_params(locals()))
  File "/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/playwright/_impl/_connection.py", line 59, in send
    return await self._connection.wrap_api_call(
  File "/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/playwright/_impl/_connection.py", line 509, in wrap_api_call
    return await cb()
  File "/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/playwright/_impl/_connection.py", line 97, in inner_send
    result = next(iter(done)).result()
playwright._impl._errors.TimeoutError: Timeout 120000ms exceeded.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/runner/work/Python/Python/mypy/apps/youtu2douyin/publish_handler.py", line 31, in publish
    self._publish2_douyin(pub_cfg)
  File "/home/runner/work/Python/Python/mypy/apps/youtu2douyin/publish_handler.py", line 25, in _publish2_douyin
    DouyinPublishApp(self._work_path).publish(video_path=self._video_path,
  File "/home/runner/work/Python/Python/mypy/lib/douyin/publisher.py", line 719, in publish
    asyncio.run(app.do_publish())
  File "/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/asyncio/base_events.py", line 616, in run_until_complete
    return future.result()
  File "/home/runner/work/Python/Python/mypy/lib/douyin/publisher.py", line 542, in do_publish
    async for attempt in AsyncRetrying(
  File "/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/tenacity/_asyncio.py", line 71, in __anext__
    do = self.iter(retry_state=self._retry_state)
  File "/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/tenacity/__init__.py", line 314, in iter
    return fut.result()
  File "/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/concurrent/futures/_base.py", line 437, in result
    return self.__get_result()
  File "/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/concurrent/futures/_base.py", line 389, in __get_result
    raise self._exception
  File "/home/runner/work/Python/Python/mypy/lib/douyin/publisher.py", line 550, in do_publish
    await self.publish_mission(playwright)
  File "/home/runner/work/Python/Python/mypy/lib/douyin/publisher.py", line 533, in publish_mission
    raise PublishFail() from ex
mypy.lib.douyin.exceptions.PublishFail
ERROR    mypy.apps.youtu2douyin.channel_loop:channel_loop.py:126 🔴 《One of the world’s oldest condiments - Dan Kwartler》发布到 [douyin] 失败
WARNING  mypy.apps.youtu2douyin.channel_loop:channel_loop.py:140 🟠 《/home/runner/work/Python/Python/mypy/tests/apps/youtu2douyin/_out/channel_UCsooa4yRKGN_zEE8iknghZA/mAxFB3vbt7c.mp4》已处理，删除该视频文件