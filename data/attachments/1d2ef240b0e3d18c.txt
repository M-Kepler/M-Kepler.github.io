INFO     mypy.lib.playwright.publish_config:publish_config.py:121 🟢 -----> 配置如下 <-----
INFO     mypy.apps.ppt2douyin.main:log.py:192 🟢 ========================================
INFO     mypy.apps.ppt2douyin.main:main.py:116 🟢 正在把当前目录下的 PPT 转成 video
INFO     mypy.apps.ppt2douyin.main:log.py:192 🟢 ========================================
INFO     mypy.apps.ppt2douyin.ppt2video:ppt2video.py:161 🟢 开始把《/home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/消化内科护士长竞聘.pptx》转换成 video
INFO     mypy.apps.ppt2douyin.ppt2video:ppt2video.py:98 🟢 去除 《/home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/消化内科护士长竞聘.pptx》 中的敏感信息
INFO     mypy.apps.ppt2douyin.ppt2video:ppt2video.py:47 🟢 PPT 转换成视频，并生成一张拼图作为封面
DEBUG    mypy.lib.ppt.ppt_handler:ppt_handler.py:27 🔵 把 PPT 转成 PDF
DEBUG    mypy.lib.ppt.ppt_handler_linux:ppt_handler_linux.py:58 🔵 [linux] 通过 libreoffice 把 PPT 转成 PDF
DEBUG    /home/runner/work/github-runner/github-runner/mypy/utils/tools.py:tools.py:245 🔵 正在执行命令: ['libreoffice', '--headless', '--convert-to', 'pdf', '--outdir', '/home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out', '/home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/消化内科护士长竞聘.pptx']
DEBUG    mypy.lib.pdf.pdf_handler:pdf_handler.py:36 🔵 通过 pdf2image 库转成图片，输出到: /tmp/tmpf7g_0yme
DEBUG    mypy.lib.video.ffmpeg_pro:ffmpeg_pro.py:554 🔵 把 /tmp/tmpf7g_0yme 目录下的图片合成视频，输出到: /home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/消化内科护士长竞聘_ppt2video.mp4
DEBUG    mypy.lib.video.ffmpeg_pro:ffmpeg_pro.py:563 🔵 正在把图片序列转换成视频，输出到: /tmp/tmpk3w76g8d
INFO     mypy.lib.video.ffmpeg_pro:ffmpeg_pro.py:582 🟢 文件夹 /tmp/tmpf7g_0yme 下的图片成功转成视频： /home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/消化内科护士长竞聘_ppt2video.mp4
INFO     mypy.apps.ppt2douyin.ppt2video:ppt2video.py:179 🟢 转换完成，结果输出在 /home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out 目录下
INFO     mypy.apps.ppt2douyin.main:log.py:192 🟢 ========================================
INFO     mypy.apps.ppt2douyin.main:main.py:122 🟢 开始发布 /home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out 目录下的文件
INFO     mypy.apps.ppt2douyin.main:log.py:192 🟢 ========================================
WARNING  mypy.lib.music.music:music.py:24 🟠 在 /home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin 下未发现歌曲，开始下载 douyin 热门歌曲
INFO     mypy.lib.douyin.douyin_music:douyin_music.py:33 🟢 一共发现 91 条音乐信息
DEBUG    mypy.lib.mqs.pylib.downloader:downloader.py:84 🔵 ------------------------------------------------------------
DEBUG    mypy.lib.mqs.pylib.downloader:downloader.py:85 🔵 下载任务数量: 91
DEBUG    mypy.lib.mqs.pylib.downloader:downloader.py:86 🔵 ------------------------------------------------------------
DEBUG    mypy.lib.mqs.pylib.downloader:downloader.py:93 🔵 ------------------------------------------------------------
DEBUG    mypy.lib.mqs.pylib.downloader:downloader.py:94 🔵 生产者数量: 5, 每个生产者负责 20 个任务
DEBUG    mypy.lib.mqs.pylib.downloader:downloader.py:96 🔵 消费者数量: 20
DEBUG    mypy.lib.mqs.pylib.downloader:downloader.py:97 🔵 ------------------------------------------------------------
INFO     mypy.lib.mqs.pylib.downloader:downloader.py:107 🟢 下载任务结束
INFO     mypy.apps.ppt2douyin.video_handler:video_handler.py:49 🟢 -----> 正在合并音视频《/home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/消化内科护士长竞聘_ppt2video.mp4》和 《/home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/music/用情（剪辑版3）.m4a》
DEBUG    mypy.lib.video.ffmpeg_pro:ffmpeg_pro.py:203 🔵 视频时长(38s) >= bgm 时长(29.808005s)，循环播放 bgm 2 次
DEBUG    mypy.lib.video.ffmpeg_pro:ffmpeg_pro.py:99 🔵 ffmpeg 命令: ['-i', '/home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/消化内科护士长竞聘_ppt2video.mp4', '-stream_loop', '2', '-i', '/home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/music/用情（剪辑版3）.m4a', '-filter_complex', '[0]setpts=0.5757575757575757*PTS[s0];[s0]fps=fps=30[s1];[1]atrim=duration=38[s2];[s2]volume=volume=0.5[s3];[s3]afade=d=1:st=0:t=in[s4];[s4]afade=d=1:st=37:t=out[s5]', '-map', '[s1]', '-map', '[s5]', '/home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/消化内科护士长竞聘_ppt2video_merge_audio_and_video.mp4']
INFO     mypy.apps.ppt2douyin.video_handler:video_handler.py:75 🟢 -----> 开始进行视频剪辑 <-----
INFO     mypy.lib.video.video_clip_helper:video_clip_helper.py:284 🟢 -----> 开始把视频嵌入绿幕
DEBUG    mypy.lib.video.video_clip_helper:video_clip_helper.py:73 🔵 正在使用 /home/runner/work/github-runner/github-runner/mypy/assets/video/green_screen_background/22_crop.mp4 绿幕素材
DEBUG    mypy.lib.video.video_clip_helper:video_clip_helper.py:79 🔵 输出视频分辨率为: (1080, 1920)
WARNING  mypy.lib.video.video_clip_helper:video_clip_helper.py:83 🟠 输入视频强制使用 30 帧率
DEBUG    mypy.lib.video.video_clip_helper:video_clip_helper.py:154 🔵 在第 0.0s 处开始出现绿幕
INFO     mypy.lib.video.utils:utils.py:98 🟢 视频文件 /home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/消化内科护士长竞聘_ppt2video_merge_audio_and_video_replaced_video_filepath.mp4 正常
INFO     mypy.apps.ppt2douyin.video_handler:video_handler.py:95 🟢 -----> 视频剪辑完成 <-----
INFO     mypy.lib.playwright.publish_handler:publish_handler.py:75 🟢 -----> 开始发布《/home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/消化内科护士长竞聘.mp4》到 ['douyin'] 平台
WARNING  mypy.lib.playwright.publish_handler:log.py:123 🟠 [platform: douyin], [publish_file: 消化内科护士长竞聘.mp4] - /home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/config/cookie/douyin 下发现多个 cookie: ['/home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/config/cookie/douyin/cookie_middle.json', '/home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/config/cookie/douyin/cookie_test.json']
INFO     mypy.lib.playwright.publish_handler:log.py:120 🟢 [platform: douyin], [publish_file: 消化内科护士长竞聘.mp4] - 默认选择第一个 cookie: /home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/config/cookie/douyin/cookie_middle.json
INFO     mypy.lib.playwright.publish_handler:log.py:120 🟢 [platform: douyin], [publish_file: 消化内科护士长竞聘.mp4] - 正在使用 [/home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/config/cookie/douyin/cookie_middle.json] 发布作品
WARNING  mypy.lib.proxy_pool.proxy_pool_helper:proxy_pool_helper.py:49 🟠 未找到可用的 深圳(https) 代理地址
INFO     mypy.lib.playwright.publish_handler:log.py:120 🟢 [platform: douyin], [publish_file: 消化内科护士长竞聘.mp4] - ============================================================
INFO     mypy.lib.playwright.publish_handler:log.py:120 🟢 [platform: douyin], [publish_file: 消化内科护士长竞聘.mp4] - [DouyinVideoPublishHelper] 开始执行发布任务
INFO     mypy.lib.playwright.publish_handler:log.py:120 🟢 [platform: douyin], [publish_file: 消化内科护士长竞聘.mp4] - ============================================================
CRITICAL mypy.lib.playwright.publish_handler:log.py:129 ❌ [platform: douyin], [publish_file: 消化内科护士长竞聘.mp4] - 账号登录状态已失效，正在跳出: Page.inner_text: Timeout 120000ms exceeded.
Call log:
waiting for locator(".rNsML")

CRITICAL mypy.lib.playwright.publish_handler:log.py:129 ❌ [platform: douyin], [publish_file: 消化内科护士长竞聘.mp4] - 《消化内科护士长竞聘》发布异常: Page.inner_text: Timeout 120000ms exceeded.
Call log:
waiting for locator(".rNsML")

ERROR    mypy.lib.playwright.common:common.py:141 🔴 Page.inner_text: Timeout 120000ms exceeded.
Call log:
waiting for locator(".rNsML")
Traceback (most recent call last):
  File "/home/runner/work/github-runner/github-runner/mypy/lib/playwright/publish_helper.py", line 81, in _check_login_status
    user_name = await self._get_logined_username(page)
  File "/home/runner/work/github-runner/github-runner/mypy/lib/playwright/publish_helper.py", line 72, in _get_logined_username
    raise ex
  File "/home/runner/work/github-runner/github-runner/mypy/lib/playwright/publish_helper.py", line 68, in _get_logined_username
    user_name = await page.inner_text(
  File "/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/site-packages/playwright/async_api/_generated.py", line 10493, in inner_text
    await self._impl_obj.inner_text(
  File "/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/site-packages/playwright/_impl/_page.py", line 904, in inner_text
    return await self._main_frame.inner_text(**locals_to_params(locals()))
  File "/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/site-packages/playwright/_impl/_frame.py", line 618, in inner_text
    return await self._channel.send("innerText", locals_to_params(locals()))
  File "/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/site-packages/playwright/_impl/_connection.py", line 59, in send
    return await self._connection.wrap_api_call(
  File "/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/site-packages/playwright/_impl/_connection.py", line 514, in wrap_api_call
    raise rewrite_error(error, f"{parsed_st['apiName']}: {error}") from None
playwright._impl._errors.TimeoutError: Page.inner_text: Timeout 120000ms exceeded.
Call log:
waiting for locator(".rNsML")


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/runner/work/github-runner/github-runner/mypy/lib/playwright/common.py", line 139, in launch_browser_mgr
    yield browser, context, page
  File "/home/runner/work/github-runner/github-runner/mypy/lib/playwright/publish_helper.py", line 147, in publish_mission
    raise ex
  File "/home/runner/work/github-runner/github-runner/mypy/lib/playwright/publish_helper.py", line 131, in publish_mission
    await self._check_login_status(page)
  File "/home/runner/work/github-runner/github-runner/mypy/lib/playwright/publish_helper.py", line 85, in _check_login_status
    raise CheckLoginStatusExp(original_exception=ex) from ex
mypy.lib.playwright.exceptions.CheckLoginStatusExp: Page.inner_text: Timeout 120000ms exceeded.
Call log:
waiting for locator(".rNsML")

CRITICAL mypy.lib.playwright.publish_handler:log.py:129 ❌ [platform: douyin], [publish_file: 消化内科护士长竞聘.mp4] - 《消化内科护士长竞聘》发布异常: Page.inner_text: Timeout 120000ms exceeded.
Call log:
waiting for locator(".rNsML")

WARNING  mypy.lib.playwright.publish_handler:publish_handler.py:58 🟠 [/home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/消化内科护士长竞聘.mp4] 发布到 [douyin] 失败，原因: [Page.inner_text: Timeout 120000ms exceeded.
Call log:
waiting for locator(".rNsML")
]
INFO     mypy.apps.ppt2douyin.video2douyin:video2douyin.py:122 🟢 -----> 清理 消化内科护士长竞聘.mp4 临时文件
WARNING  mypy.utils.file:file.py:213 🟠 正在删除文件名前缀为 消化内科护士长竞聘 文件: /home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/消化内科护士长竞聘_ppt2video.mp4
WARNING  mypy.utils.file:file.py:213 🟠 正在删除文件名前缀为 消化内科护士长竞聘 文件: /home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/消化内科护士长竞聘.pdf
WARNING  mypy.utils.file:file.py:213 🟠 正在删除文件名前缀为 消化内科护士长竞聘 文件: /home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/消化内科护士长竞聘_ppt2video_merge_audio_and_video_replaced_video_filepath.mp4
WARNING  mypy.utils.file:file.py:213 🟠 正在删除文件名前缀为 消化内科护士长竞聘 文件: /home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/消化内科护士长竞聘.mp4
WARNING  mypy.utils.file:file.py:213 🟠 正在删除文件名前缀为 消化内科护士长竞聘 文件: /home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/消化内科护士长竞聘.jpg
WARNING  mypy.utils.file:file.py:213 🟠 正在删除文件名前缀为 消化内科护士长竞聘 文件: /home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/消化内科护士长竞聘_ppt2video_merge_audio_and_video.mp3
WARNING  mypy.utils.file:file.py:213 🟠 正在删除文件名前缀为 消化内科护士长竞聘 文件: /home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/_out/消化内科护士长竞聘_ppt2video_merge_audio_and_video.mp4
WARNING  mypy.utils.file:file.py:213 🟠 正在删除文件名前缀为 消化内科护士长竞聘 文件: /home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/消化内科护士长竞聘.pdf
INFO     mypy.apps.ppt2douyin.video2douyin:video2douyin.py:131 🟢 继续处理下一个视频...
INFO     mypy.apps.ppt2douyin.video2douyin:video2douyin.py:132 🟢 处理完成，一共处理了 1 个视频
INFO     mypy.apps.ppt2douyin.main:main.py:40 🟢 -----> 微信通知发布结果 <-----
INFO     mypy.lib.wechat.pushplus:pushplus.py:30 🍊🍊🍊 微信消息: 自动发布 PPT 完成 推送成功
INFO     mypy.apps.ppt2douyin.main:main.py:56 🟢 -----> 开始归档已发布文件 <-----
DEBUG    /home/runner/work/github-runner/github-runner/mypy/utils/tools.py:tools.py:245 🔵 正在执行命令: ['aliyunpan', 'who']
DEBUG    /home/runner/work/github-runner/github-runner/mypy/utils/tools.py:tools.py:232 🔵 设置环境变量: {'ALIYUNPAN_CONFIG_DIR': '/home/runner/work/github-runner/github-runner/mypy/3party/_3party_runtime/03.aliyunpan/config'}
DEBUG    /home/runner/work/github-runner/github-runner/mypy/utils/tools.py:tools.py:272 🔵 output: 当前帐号UID: d575b53f61b8429babb74cd67c55e7bf, 昵称: huangjinjie, 用户名: , 当前使用网盘：备份盘

DEBUG    /home/runner/work/github-runner/github-runner/mypy/utils/tools.py:tools.py:245 🔵 正在执行命令: ['aliyunpan', 'upload', '/home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin//消化内科护士长竞聘.pptx', '/01.mypy/apps/baidu2douyin/20240710']
DEBUG    /home/runner/work/github-runner/github-runner/mypy/utils/tools.py:tools.py:232 🔵 设置环境变量: {'ALIYUNPAN_CONFIG_DIR': '/home/runner/work/github-runner/github-runner/mypy/3party/_3party_runtime/03.aliyunpan/config'}
DEBUG    /home/runner/work/github-runner/github-runner/mypy/utils/tools.py:tools.py:272 🔵 output: 
[0] 当前文件上传最大并发量为: 10, 上传分片大小为: 10.00MB
[1] 加入上传队列: /home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/消化内科护士长竞聘.pptx
[1] 2024-07-10 21:30:24 准备上传: /home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/消化内科护士长竞聘.pptx => /01.mypy/apps/baidu2douyin/20240710/消化内科护士长竞聘.pptx
[1] 2024-07-10 21:30:24 正在检测和创建云盘文件夹: /01.mypy/apps/baidu2douyin/20240710
[1] 2024-07-10 21:30:24 正在计算文件SHA1: /home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin/消化内科护士长竞聘.pptx
[1] 2024-07-10 21:30:24 检测秒传中, 请稍候...
[1] 2024-07-10 21:30:24 秒传失败，开始正常上传文件

[1] ↑ 128.00KB/4.59MB(2.72%) 969.62KB/s(966.52KB/s) in 1s ............
[1] ↑ 4.00MB/4.59MB(87.12%) 3.34MB/s(3.34MB/s) in 2s ............
[1] ↑ 4.59MB/4.59MB(100.00%) 605.41KB/s(605.34KB/s) in 3s ............
[1] 2024-07-10 21:30:24 上传文件成功, 保存到网盘路径: /01.mypy/apps/baidu2douyin/20240710/消化内科护士长竞聘.pptx
[1] 2024-07-10 21:30:24 文件上传结果： 成功！ 耗时 6秒

上传结束, 时间: 6秒, 数据总量: 4.59MB

INFO     mypy.apps.ppt2douyin.main:main.py:74 🟢 《/home/runner/work/github-runner/github-runner/mypy/tests/apps/ppt2douyin//消化内科护士长竞聘.pptx》已归档到网盘: /01.mypy/apps/baidu2douyin/20240710