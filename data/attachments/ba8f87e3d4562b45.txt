INFO     mypy.apps.youtu2douyin.tools:tools.py:104 🟢 更新 /home/runner/work/github-runner/github-runner/mypy/tests/apps/youtu2douyin/config/playlist_record.json 中的 videos 为较新的记录
INFO     mypy.apps.youtu2douyin.tools:tools.py:81 🟢 new video《Fluid and Electrolytes for Nursing Students - Comprehensive NCLEX Review》found, id: QJUxSm_t42o, publish date: 2024-05-07 00:00:00
WARNING  mypy.lib.youtube.core.base:base.py:93 🟠 playlist has no shorts
INFO     mypy.apps.youtu2douyin.tools:tools.py:119 🟢 更新频道视频内容到倒数第 1 个视频成功
INFO     mypy.apps.youtu2douyin.main:main.py:37 🟢 运行模式: once
INFO     mypy.apps.youtu2douyin.tools:tools.py:44 🟢 开始对 /home/runner/work/github-runner/github-runner/mypy/tests/apps/youtu2douyin/config/playlist_record.json 视频列表按照 publish_date 进行降序排序
INFO     mypy.apps.youtu2douyin.channel_loop:log.py:191 🟢 ========================================
INFO     mypy.apps.youtu2douyin.channel_loop:channel_loop.py:294 🟢 handing channel: [Nursing Fundamentals] [https://www.youtube.com/playlist?list=PLQrdx7rRsKfV7rYMLXUs8L8IJAbDecClE]
INFO     mypy.apps.youtu2douyin.channel_loop:log.py:191 🟢 ========================================
INFO     mypy.apps.youtu2douyin.channel_loop:channel_loop.py:306 🟢 频道 [Nursing Fundamentals] 发现 0 条新 video
INFO     mypy.apps.youtu2douyin.channel_loop:channel_loop.py:164 🟢 -----> 开始下载第 1/1 个视频: https://youtube.com/watch?v=QJUxSm_t42o
INFO     mypy.lib.youtube.video_handler:video_handler.py:278 🟢 ===== 获取视频 =====
INFO     mypy.lib.youtube.video_handler:video_handler.py:279 🟢 输出路径: /home/runner/work/github-runner/github-runner/mypy/tests/apps/youtu2douyin/_out/channel_PLQrdx7rRsKfV7rYMLXUs8L8IJAbDecClE
INFO     mypy.lib.youtube.video_handler:video_handler.py:290 🟢 ===== 下载视频资源 =====
INFO     mypy.lib.youtube.ytdlp_helper:ytdlp_helper.py:143 🟢 ----- 下载视频 -----
DEBUG    /home/runner/work/github-runner/github-runner/mypy/utils/tools.py:tools.py:235 🔵 正在执行命令: ['yt-dlp', '--format', 'bv+ba', '--merge-output-format', 'mp4', '--output', '/home/runner/work/github-runner/github-runner/mypy/tests/apps/youtu2douyin/_out/channel_PLQrdx7rRsKfV7rYMLXUs8L8IJAbDecClE/QJUxSm_t42o/QJUxSm_t42o.mp4', '--write-thumbnail', '--convert-thumbnail', 'jpg', '--output', 'thumbnail:/home/runner/work/github-runner/github-runner/mypy/tests/apps/youtu2douyin/_out/channel_PLQrdx7rRsKfV7rYMLXUs8L8IJAbDecClE/QJUxSm_t42o/QJUxSm_t42o', '--quiet', '--no-warnings', '--verbose', 'https://youtube.com/watch?v=QJUxSm_t42o']
INFO     mypy.lib.youtube.y2_subtitle_handler:y2_subtitle_handler.py:34 🟢 ----- 下载字幕 -----
INFO     mypy.lib.subtitle.subtitle_handler:subtitle_handler.py:48 🟢 ----- 把同一时间的字幕合并到同一行输出到: /home/runner/work/github-runner/github-runner/mypy/tests/apps/youtu2douyin/_out/channel_PLQrdx7rRsKfV7rYMLXUs8L8IJAbDecClE/QJUxSm_t42o/QJUxSm_t42o_zh.srt
INFO     mypy.lib.subtitle.subtitle_handler:subtitle_handler.py:48 🟢 ----- 把同一时间的字幕合并到同一行输出到: /home/runner/work/github-runner/github-runner/mypy/tests/apps/youtu2douyin/_out/channel_PLQrdx7rRsKfV7rYMLXUs8L8IJAbDecClE/QJUxSm_t42o/QJUxSm_t42o_en.srt
INFO     mypy.lib.youtube.video_handler:video_handler.py:296 🟢 ===== 获取封面 =====
INFO     mypy.lib.youtube.video_handler:video_handler.py:259 🟢 封面图片上添加标题
INFO     mypy.lib.youtube.video_handler:video_handler.py:304 🟢 ===== 视频剪辑 =====
INFO     mypy.lib.subtitle.subtitle_handler:subtitle_handler.py:106 🟢 字幕时间线可能重叠，需要整理字幕时间线
INFO     mypy.lib.subtitle.subtitle_handler:subtitle_handler.py:106 🟢 字幕时间线可能重叠，需要整理字幕时间线
DEBUG    mypy.lib.video.ffmpeg_pro:ffmpeg_pro.py:99 🔵 ffmpeg 命令: ['-i', '/home/runner/work/github-runner/github-runner/mypy/tests/apps/youtu2douyin/_out/channel_PLQrdx7rRsKfV7rYMLXUs8L8IJAbDecClE/QJUxSm_t42o/QJUxSm_t42o.mp4', '-filter_complex', '[0]drawbox=0:ih-140:0:0:black@0.6:t=fill[s0];[s0]subtitles=filename=/home/runner/work/github-runner/github-runner/mypy/tests/apps/youtu2douyin/_out/channel_PLQrdx7rRsKfV7rYMLXUs8L8IJAbDecClE/QJUxSm_t42o/QJUxSm_t42o_zh.srt:fontsdir=/home/runner/work/github-runner/github-runner/mypy/assets/font/MiSans-Medium.ttf:force_style=BorderStyle\\\\=0\\,BackColour\\\\=&H80000000\\,Outline\\\\=0\\,OutlineColour\\\\=&H80000000\\,Shadow\\\\=0\\,MarginV\\\\=16\\,Fontname\\\\=MiSans-Medium\\,Fontsize\\\\=18\\,Alignment\\\\=2[s1];[s1]subtitles=filename=/home/runner/work/github-runner/github-runner/mypy/tests/apps/youtu2douyin/_out/channel_PLQrdx7rRsKfV7rYMLXUs8L8IJAbDecClE/QJUxSm_t42o/QJUxSm_t42o_en.srt:fontsdir=/home/runner/work/github-runner/github-runner/mypy/assets/font/MiSans-Medium.ttf:force_style=BorderStyle\\\\=0\\,BackColour\\\\=&H80000000\\,Outline\\\\=0\\,OutlineColour\\\\=&H80000000\\,Shadow\\\\=0\\,MarginV\\\\=3\\,Fontname\\\\=MiSans-Medium\\,Fontsize\\\\=13\\,Alignment\\\\=2[s2];[s2]drawtext=box=1:boxborderw=30:boxcolor=#02c1b1f6@0.6:enable=between(t\\,0\\,2):fontcolor=white:fontfile=/home/runner/work/github-runner/github-runner/mypy/assets/font/MiSans-Medium.ttf:fontsize=137.14285714285714:text=护理学生的流体和电解\n质:x=(w-tw)/2:y=(h-th)/2[s3]', '-map', '[s3]', '-map', '0:a', '/home/runner/work/github-runner/github-runner/mypy/tests/apps/youtu2douyin/_out/channel_PLQrdx7rRsKfV7rYMLXUs8L8IJAbDecClE/QJUxSm_t42o.mp4']
INFO     mypy.lib.youtube.video_handler:video_handler.py:317 🟢 -----> 剪辑后视频路径: /home/runner/work/github-runner/github-runner/mypy/tests/apps/youtu2douyin/_out/channel_PLQrdx7rRsKfV7rYMLXUs8L8IJAbDecClE/QJUxSm_t42o.mp4
DEBUG    mypy.apps.youtu2douyin.channel_loop:channel_loop.py:82 🔵 ----- 视频信息: {'id': 'QJUxSm_t42o', 'url': 'https://youtube.com/watch?v=QJUxSm_t42o', 'title': 'Fluid and Electrolytes for Nursing Students - Comprehensive NCLEX Review', 'publish_date': '2024-05-07 00:00:00', 'published': []}
INFO     mypy.lib.playwright.publish_handler:publish_handler.py:84 🟢 -----> 开始发布到 ['douyin', 'xiaohongshu'] 平台
INFO     mypy.lib.playwright.publish_handler:log.py:119 🟢 [platform: douyin], [publish_file: QJUxSm_t42o.mp4] - 正在使用 [cookie_17688150852.json] 发布作品，当前账号排序: [1]
INFO     mypy.lib.playwright.publish_handler:log.py:119 🟢 [platform: xiaohongshu], [publish_file: QJUxSm_t42o.mp4] - 正在使用 [cookie_17688150852.json] 发布作品，当前账号排序: [1]
INFO     mypy.lib.playwright.publish_handler:log.py:119 🟢 [platform: douyin], [publish_file: QJUxSm_t42o.mp4] - ============================================================
INFO     mypy.lib.playwright.publish_handler:log.py:119 🟢 [platform: douyin], [publish_file: QJUxSm_t42o.mp4] - [DouyinVideoPublishHelper] 开始执行发布任务
INFO     mypy.lib.playwright.publish_handler:log.py:119 🟢 [platform: douyin], [publish_file: QJUxSm_t42o.mp4] - ============================================================
INFO     mypy.lib.playwright.publish_handler:log.py:119 🟢 [platform: xiaohongshu], [publish_file: QJUxSm_t42o.mp4] - ============================================================
INFO     mypy.lib.playwright.publish_handler:log.py:119 🟢 [platform: xiaohongshu], [publish_file: QJUxSm_t42o.mp4] - [XiaohongshuPublishHelper] 开始执行发布任务
INFO     mypy.lib.playwright.publish_handler:log.py:119 🟢 [platform: xiaohongshu], [publish_file: QJUxSm_t42o.mp4] - ============================================================
INFO     mypy.lib.playwright.publish_handler:log.py:119 🟢 [platform: xiaohongshu], [publish_file: QJUxSm_t42o.mp4] - 当前登录账号为 [医护PPT代做&HKRN报名指导]
INFO     mypy.lib.playwright.publish_handler:log.py:119 🟢 [platform: xiaohongshu], [publish_file: QJUxSm_t42o.mp4] - 视频上传中
INFO     mypy.lib.playwright.publish_handler:log.py:119 🟢 [platform: xiaohongshu], [publish_file: QJUxSm_t42o.mp4] - 视频上传中...
INFO     mypy.lib.playwright.publish_handler:log.py:119 🟢 [platform: douyin], [publish_file: QJUxSm_t42o.mp4] - 当前登录账号为 [啊斯顿非更]
INFO     mypy.lib.playwright.publish_handler:log.py:119 🟢 [platform: douyin], [publish_file: QJUxSm_t42o.mp4] - 获取并上传封面
CRITICAL mypy.lib.playwright.publish_handler:log.py:128 ❌ [platform: xiaohongshu], [publish_file: QJUxSm_t42o.mp4] - ❌❌❌《护理学生的流体和电解质》发布异常: Locator.fill: Timeout 120000ms exceeded.
Call log:
waiting for locator("//*[@id=\"publish-container\"]/div/div[3]/div[2]/div[3]/input")

WARNING  mypy.lib.playwright.publish_handler:before_sleep.py:65 🟢 [platform: xiaohongshu], [publish_file: QJUxSm_t42o.mp4] - Retrying <unknown> in 3.0 seconds as it raised PublishFail: Locator.fill: Timeout 120000ms exceeded.
Call log:
waiting for locator("//*[@id=\"publish-container\"]/div/div[3]/div[2]/div[3]/input")
.
INFO     mypy.lib.playwright.publish_handler:log.py:119 🟢 [platform: xiaohongshu], [publish_file: QJUxSm_t42o.mp4] - ============================================================
INFO     mypy.lib.playwright.publish_handler:log.py:119 🟢 [platform: xiaohongshu], [publish_file: QJUxSm_t42o.mp4] - [XiaohongshuPublishHelper] 开始执行发布任务
INFO     mypy.lib.playwright.publish_handler:log.py:119 🟢 [platform: xiaohongshu], [publish_file: QJUxSm_t42o.mp4] - ============================================================
INFO     mypy.lib.playwright.publish_handler:log.py:119 🟢 [platform: xiaohongshu], [publish_file: QJUxSm_t42o.mp4] - 当前登录账号为 [医护PPT代做&HKRN报名指导]
INFO     mypy.lib.playwright.publish_handler:log.py:119 🟢 [platform: xiaohongshu], [publish_file: QJUxSm_t42o.mp4] - 视频上传中
INFO     mypy.lib.playwright.publish_handler:log.py:119 🟢 [platform: xiaohongshu], [publish_file: QJUxSm_t42o.mp4] - 视频上传中...
CRITICAL mypy.lib.playwright.publish_handler:log.py:128 ❌ [platform: douyin], [publish_file: QJUxSm_t42o.mp4] - 上传封面失败: Page.click: Timeout 120000ms exceeded.
Call log:
waiting for locator(".cover--37AJu")

CRITICAL mypy.lib.playwright.publish_handler:log.py:128 ❌ [platform: xiaohongshu], [publish_file: QJUxSm_t42o.mp4] - ❌❌❌《护理学生的流体和电解质》发布异常: Locator.fill: Timeout 120000ms exceeded.
Call log:
waiting for locator("//*[@id=\"publish-container\"]/div/div[3]/div[2]/div[3]/input")

WARNING  mypy.lib.playwright.publish_handler:before_sleep.py:65 🟢 [platform: xiaohongshu], [publish_file: QJUxSm_t42o.mp4] - Retrying <unknown> in 3.0 seconds as it raised PublishFail: Locator.fill: Timeout 120000ms exceeded.
Call log:
waiting for locator("//*[@id=\"publish-container\"]/div/div[3]/div[2]/div[3]/input")
.
INFO     mypy.lib.playwright.publish_handler:log.py:119 🟢 [platform: xiaohongshu], [publish_file: QJUxSm_t42o.mp4] - ============================================================
INFO     mypy.lib.playwright.publish_handler:log.py:119 🟢 [platform: xiaohongshu], [publish_file: QJUxSm_t42o.mp4] - [XiaohongshuPublishHelper] 开始执行发布任务
INFO     mypy.lib.playwright.publish_handler:log.py:119 🟢 [platform: xiaohongshu], [publish_file: QJUxSm_t42o.mp4] - ============================================================
INFO     mypy.lib.playwright.publish_handler:log.py:119 🟢 [platform: xiaohongshu], [publish_file: QJUxSm_t42o.mp4] - 当前登录账号为 [医护PPT代做&HKRN报名指导]
INFO     mypy.lib.playwright.publish_handler:log.py:119 🟢 [platform: xiaohongshu], [publish_file: QJUxSm_t42o.mp4] - 视频上传中
INFO     mypy.lib.playwright.publish_handler:log.py:119 🟢 [platform: xiaohongshu], [publish_file: QJUxSm_t42o.mp4] - 视频上传中...
CRITICAL mypy.lib.playwright.publish_handler:log.py:128 ❌ [platform: douyin], [publish_file: QJUxSm_t42o.mp4] - ❌❌❌《护理学生的流体和电解质》发布异常: Page.wait_for_selector: Timeout 120000ms exceeded.
Call log:
waiting for locator(".ace-line > div") to be visible

WARNING  mypy.lib.playwright.publish_handler:before_sleep.py:65 🟢 [platform: douyin], [publish_file: QJUxSm_t42o.mp4] - Retrying <unknown> in 3.0 seconds as it raised PublishFail: Page.wait_for_selector: Timeout 120000ms exceeded.
Call log:
waiting for locator(".ace-line > div") to be visible
.
INFO     mypy.lib.playwright.publish_handler:log.py:119 🟢 [platform: douyin], [publish_file: QJUxSm_t42o.mp4] - ============================================================
INFO     mypy.lib.playwright.publish_handler:log.py:119 🟢 [platform: douyin], [publish_file: QJUxSm_t42o.mp4] - [DouyinVideoPublishHelper] 开始执行发布任务
INFO     mypy.lib.playwright.publish_handler:log.py:119 🟢 [platform: douyin], [publish_file: QJUxSm_t42o.mp4] - ============================================================
INFO     mypy.lib.playwright.publish_handler:log.py:119 🟢 [platform: douyin], [publish_file: QJUxSm_t42o.mp4] - 当前登录账号为 [啊斯顿非更]
INFO     mypy.lib.playwright.publish_handler:log.py:119 🟢 [platform: douyin], [publish_file: QJUxSm_t42o.mp4] - 获取并上传封面
CRITICAL mypy.lib.playwright.publish_handler:log.py:128 ❌ [platform: xiaohongshu], [publish_file: QJUxSm_t42o.mp4] - ❌❌❌《护理学生的流体和电解质》发布异常: Locator.fill: Timeout 120000ms exceeded.
Call log:
waiting for locator("//*[@id=\"publish-container\"]/div/div[3]/div[2]/div[3]/input")

CRITICAL mypy.lib.playwright.publish_handler:log.py:128 ❌ [platform: xiaohongshu], [publish_file: QJUxSm_t42o.mp4] - ❌❌❌《护理学生的流体和电解质》发布异常: RetryError[<Future at 0x7fc9710b80a0 state=finished raised PublishFail>]
CRITICAL mypy.lib.playwright.publish_handler:log.py:128 ❌ [platform: douyin], [publish_file: QJUxSm_t42o.mp4] - 上传封面失败: Page.click: Timeout 120000ms exceeded.
Call log:
waiting for locator(".cover--37AJu")

CRITICAL mypy.lib.playwright.publish_handler:log.py:128 ❌ [platform: douyin], [publish_file: QJUxSm_t42o.mp4] - ❌❌❌《护理学生的流体和电解质》发布异常: Page.wait_for_selector: Timeout 120000ms exceeded.
Call log:
waiting for locator(".ace-line > div") to be visible

WARNING  mypy.lib.playwright.publish_handler:before_sleep.py:65 🟢 [platform: douyin], [publish_file: QJUxSm_t42o.mp4] - Retrying <unknown> in 3.0 seconds as it raised PublishFail: Page.wait_for_selector: Timeout 120000ms exceeded.
Call log:
waiting for locator(".ace-line > div") to be visible
.
INFO     mypy.lib.playwright.publish_handler:log.py:119 🟢 [platform: douyin], [publish_file: QJUxSm_t42o.mp4] - ============================================================
INFO     mypy.lib.playwright.publish_handler:log.py:119 🟢 [platform: douyin], [publish_file: QJUxSm_t42o.mp4] - [DouyinVideoPublishHelper] 开始执行发布任务
INFO     mypy.lib.playwright.publish_handler:log.py:119 🟢 [platform: douyin], [publish_file: QJUxSm_t42o.mp4] - ============================================================
INFO     mypy.lib.playwright.publish_handler:log.py:119 🟢 [platform: douyin], [publish_file: QJUxSm_t42o.mp4] - 当前登录账号为 [啊斯顿非更]
INFO     mypy.lib.playwright.publish_handler:log.py:119 🟢 [platform: douyin], [publish_file: QJUxSm_t42o.mp4] - 获取并上传封面
CRITICAL mypy.lib.playwright.publish_handler:log.py:128 ❌ [platform: douyin], [publish_file: QJUxSm_t42o.mp4] - 上传封面失败: Page.click: Timeout 120000ms exceeded.
Call log:
waiting for locator(".cover--37AJu")

CRITICAL mypy.lib.playwright.publish_handler:log.py:128 ❌ [platform: douyin], [publish_file: QJUxSm_t42o.mp4] - ❌❌❌《护理学生的流体和电解质》发布异常: Page.wait_for_selector: Timeout 120000ms exceeded.
Call log:
waiting for locator(".ace-line > div") to be visible

CRITICAL mypy.lib.playwright.publish_handler:log.py:128 ❌ [platform: douyin], [publish_file: QJUxSm_t42o.mp4] - ❌❌❌《护理学生的流体和电解质》发布异常: RetryError[<Future at 0x7fc98b9887c0 state=finished raised PublishFail>]
WARNING  mypy.lib.playwright.publish_handler:publish_handler.py:63 🟠 [/home/runner/work/github-runner/github-runner/mypy/tests/apps/youtu2douyin/_out/channel_PLQrdx7rRsKfV7rYMLXUs8L8IJAbDecClE/QJUxSm_t42o.mp4] 发布到 [douyin] 失败原因: [RetryError[<Future at 0x7fc98b9887c0 state=finished raised PublishFail>]]
WARNING  mypy.lib.playwright.publish_handler:publish_handler.py:63 🟠 [/home/runner/work/github-runner/github-runner/mypy/tests/apps/youtu2douyin/_out/channel_PLQrdx7rRsKfV7rYMLXUs8L8IJAbDecClE/QJUxSm_t42o.mp4] 发布到 [xiaohongshu] 失败原因: [RetryError[<Future at 0x7fc9710b80a0 state=finished raised PublishFail>]]