{"uid":"92634df5032f72e6","name":"test_ppt2video","fullName":"lib.ppt.test_ppt2video#test_ppt2video","historyId":"361a26cf0d0ddd76c6e8ef5b2b55ce46","time":{"start":1721836306336,"stop":1721836311601,"duration":5265},"description":"\n    PPT 转视频\n    ","descriptionHtml":"<pre><code>PPT 转视频\n</code></pre>\n","status":"broken","statusMessage":"TypeError: expected str, bytes or os.PathLike object, not NoneType","statusTrace":"test_output_dir = '/home/runner/work/github-runner/github-runner/mypy/tests/lib/ppt/_out/test_ppt2video'\n\n    def test_ppt2video(test_output_dir):\n        \"\"\"\n        PPT 转视频\n        \"\"\"\n        # 把测试文件拷贝进来\n        with FileUtil.copy_file_context(\n                Assets.ppt, test_output_dir) as test_ppt_file:\n            # ppt 转成视频的文件名\n            output_video_filepath = os.path.join(\n                test_output_dir, curr_func_name() + '.mp4')\n    \n>           ppt2video(ppt_path=test_ppt_file,\n                      output_video_path=output_video_filepath)\n\nmypy/tests/lib/ppt/test_ppt2video.py:24: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nmypy/lib/ppt/ppt_handler.py:58: in ppt2video\n    PDFHandler(output_pdf_path).pdf2video(output_video_path)\nmypy/lib/pdf/pdf_handler.py:68: in pdf2video\n    self.pdf2images(temp_dir)\nmypy/lib/pdf/pdf_handler.py:43: in pdf2images\n    _, file_ext = os.path.splitext(self._input_pdf_path)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\np = None\n\n    def splitext(p):\n>       p = os.fspath(p)\nE       TypeError: expected str, bytes or os.PathLike object, not NoneType\n\n/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/posixpath.py:118: TypeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop_policy","time":{"start":1721831550977,"stop":1721831550977,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"copy_config_to_dir","time":{"start":1721836306333,"stop":1721836306335,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_output_dir","time":{"start":1721836306335,"stop":1721836306335,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    PPT 转视频\n    ","status":"broken","statusMessage":"TypeError: expected str, bytes or os.PathLike object, not NoneType","statusTrace":"test_output_dir = '/home/runner/work/github-runner/github-runner/mypy/tests/lib/ppt/_out/test_ppt2video'\n\n    def test_ppt2video(test_output_dir):\n        \"\"\"\n        PPT 转视频\n        \"\"\"\n        # 把测试文件拷贝进来\n        with FileUtil.copy_file_context(\n                Assets.ppt, test_output_dir) as test_ppt_file:\n            # ppt 转成视频的文件名\n            output_video_filepath = os.path.join(\n                test_output_dir, curr_func_name() + '.mp4')\n    \n>           ppt2video(ppt_path=test_ppt_file,\n                      output_video_path=output_video_filepath)\n\nmypy/tests/lib/ppt/test_ppt2video.py:24: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nmypy/lib/ppt/ppt_handler.py:58: in ppt2video\n    PDFHandler(output_pdf_path).pdf2video(output_video_path)\nmypy/lib/pdf/pdf_handler.py:68: in pdf2video\n    self.pdf2images(temp_dir)\nmypy/lib/pdf/pdf_handler.py:43: in pdf2images\n    _, file_ext = os.path.splitext(self._input_pdf_path)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\np = None\n\n    def splitext(p):\n>       p = os.fspath(p)\nE       TypeError: expected str, bytes or os.PathLike object, not NoneType\n\n/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/posixpath.py:118: TypeError","steps":[],"attachments":[{"uid":"5fb348f024d8e7e5","name":"log","source":"5fb348f024d8e7e5.txt","type":"text/plain","size":829}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_output_dir::0","time":{"start":1721836311620,"stop":1721836311620,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"copy_config_to_dir::finish_callback","time":{"start":1721836311620,"stop":1721836311621,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"ppt"},{"name":"parentSuite","value":"lib.ppt"},{"name":"suite","value":"test_ppt2video"},{"name":"host","value":"fv-az1206-225"},{"name":"thread","value":"8866-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"lib.ppt.test_ppt2video"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":["ppt"]},"source":"92634df5032f72e6.json","parameterValues":[]}