{"uid":"254d7838839f1d03","name":"test_baidu2douyin","fullName":"apps.baidu2douyin.test_baidu2douyin#test_baidu2douyin","historyId":"daa7b2b542d047ba8f08c7db7bb54734","time":{"start":1713502348900,"stop":1713502568107,"duration":219207},"status":"broken","statusMessage":"AttributeError: 'NoneType' object has no attribute 'split'","statusTrace":"@run_with_analyze('test_baidu2douyin')\n    def test_baidu2douyin():\n>       main(work_path=curr_dir,\n             topic_cnt=2,\n             run_mod=RUNMOD_AUTO)\n\nmypy/tests/apps/baidu2douyin/test_baidu2douyin.py:11: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nmypy/apps/baidu2douyin/main.py:19: in main\n    baidu_aigc_api.handle(topic_cnt=topic_cnt,\nmypy/lib/baidu/baidu_aigc_ppt.py:71: in handle\n    asyncio.run(self.async_handle(topic_cnt=topic_cnt, run_mod=run_mod))\n/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/asyncio/runners.py:44: in run\n    return loop.run_until_complete(main)\n/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/asyncio/base_events.py:616: in run_until_complete\n    return future.result()\nmypy/lib/baidu/baidu_aigc_ppt.py:45: in async_handle\n    topics = self.gen_ppt_topic(topic_cnt)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <mypy.lib.baidu.baidu_aigc_ppt.BaiduAigcPPT object at 0x7f689e19c550>\ntopic_cnt = 2\n\n    def gen_ppt_topic(self, topic_cnt=2) -> List[str]:\n        \"\"\"\n        用 AI 生成 PPT 题目\n        \"\"\"\n        api = LLMHelper()\n        prompts = [\n            f'''https://zhuanlan.zhihu.com/p/144192472?utm_id=0\n            参考这个链接提到的科室，给出 {topic_cnt} 个护理相关的PPT主题，比如 肿瘤科护士长年终总结\n            每行一个主题，并且不需要对输出内容进行编号，用最近见得方式回答，不用过多的话术''',\n            '我说了，不需要序号']\n>       return api.chat(user_asks=prompts).split('\\n')\nE       AttributeError: 'NoneType' object has no attribute 'split'\n\nmypy/lib/baidu/baidu_aigc_ppt.py:32: AttributeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop_policy","time":{"start":1713502348899,"stop":1713502348900,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"AttributeError: 'NoneType' object has no attribute 'split'","statusTrace":"@run_with_analyze('test_baidu2douyin')\n    def test_baidu2douyin():\n>       main(work_path=curr_dir,\n             topic_cnt=2,\n             run_mod=RUNMOD_AUTO)\n\nmypy/tests/apps/baidu2douyin/test_baidu2douyin.py:11: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nmypy/apps/baidu2douyin/main.py:19: in main\n    baidu_aigc_api.handle(topic_cnt=topic_cnt,\nmypy/lib/baidu/baidu_aigc_ppt.py:71: in handle\n    asyncio.run(self.async_handle(topic_cnt=topic_cnt, run_mod=run_mod))\n/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/asyncio/runners.py:44: in run\n    return loop.run_until_complete(main)\n/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/asyncio/base_events.py:616: in run_until_complete\n    return future.result()\nmypy/lib/baidu/baidu_aigc_ppt.py:45: in async_handle\n    topics = self.gen_ppt_topic(topic_cnt)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <mypy.lib.baidu.baidu_aigc_ppt.BaiduAigcPPT object at 0x7f689e19c550>\ntopic_cnt = 2\n\n    def gen_ppt_topic(self, topic_cnt=2) -> List[str]:\n        \"\"\"\n        用 AI 生成 PPT 题目\n        \"\"\"\n        api = LLMHelper()\n        prompts = [\n            f'''https://zhuanlan.zhihu.com/p/144192472?utm_id=0\n            参考这个链接提到的科室，给出 {topic_cnt} 个护理相关的PPT主题，比如 肿瘤科护士长年终总结\n            每行一个主题，并且不需要对输出内容进行编号，用最近见得方式回答，不用过多的话术''',\n            '我说了，不需要序号']\n>       return api.chat(user_asks=prompts).split('\\n')\nE       AttributeError: 'NoneType' object has no attribute 'split'\n\nmypy/lib/baidu/baidu_aigc_ppt.py:32: AttributeError","steps":[],"attachments":[{"uid":"81dfb57d6a33361e","name":"log","source":"81dfb57d6a33361e.txt","type":"text/plain","size":12406}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"parentSuite","value":"apps.baidu2douyin"},{"name":"suite","value":"test_baidu2douyin"},{"name":"host","value":"fv-az1148-417"},{"name":"thread","value":"7114-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"apps.baidu2douyin.test_baidu2douyin"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"254d7838839f1d03.json","parameterValues":[]}