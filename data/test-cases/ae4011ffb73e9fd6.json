{"uid":"ae4011ffb73e9fd6","name":"test_y2douyin_manual[rn_channel]","fullName":"apps.youtu2douyin.test_youtu2douyin#test_y2douyin_manual","historyId":"34ce444535105d649cb685a3a1f2a24e","time":{"start":1725618212479,"stop":1725618214132,"duration":1653},"description":"\n    测试手动触发 youtube 视频发布\n    ","descriptionHtml":"<pre><code>测试手动触发 youtube 视频发布\n</code></pre>\n","status":"broken","statusMessage":"pytube.exceptions.PytubeError: Exception while accessing title of https://youtube.com/watch?v=WCh7oZrQOx4. Please file a bug report at https://github.com/pytube/pytube","statusTrace":"self = <pytube.__main__.YouTube object: videoId=WCh7oZrQOx4>\n\n    @property\n    def title(self) -> str:\n        \"\"\"Get the video title.\n    \n        :rtype: str\n        \"\"\"\n        if self._title:\n            return self._title\n    \n        try:\n>           self._title = self.vid_info['videoDetails']['title']\nE           KeyError: 'videoDetails'\n\n/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/site-packages/pytube/__main__.py:341: KeyError\n\nDuring handling of the above exception, another exception occurred:\n\nyoutube_url = 'https://www.youtube.com/watch?v=WCh7oZrQOx4'\n\n    @pytest.mark.parametrize(\n        'youtube_url',\n        ['https://www.youtube.com/watch?v=A8WVGxXHUuU',\n         'https://www.youtube.com/watch?v=mAxFB3vbt7c',\n         'https://www.youtube.com/watch?v=WCh7oZrQOx4'],\n        ids=['no_channel_cfg', 'teded_channel', 'rn_channel'])\n    def test_y2douyin_manual(youtube_url):\n        \"\"\"\n        测试手动触发 youtube 视频发布\n        \"\"\"\n>       main(run_mod=Config.RUN_MOD_MANUAL,\n             video_url=youtube_url,\n             force=True,\n             coll_handler=YouTubeChannel,\n             work_path=curr_dir)\n\nmypy/tests/apps/youtu2douyin/test_youtu2douyin.py:33: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nmypy/apps/youtu2douyin/main.py:49: in main\n    api.do_manual(video_url, force)\nmypy/apps/youtu2douyin/channel_loop.py:417: in do_manual\n    to_pub_videos = self._collect_channel_medias(\nmypy/apps/youtu2douyin/channel_loop.py:257: in _collect_channel_medias\n    item['title'] = YouTube(item['url']).title\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pytube.__main__.YouTube object: videoId=WCh7oZrQOx4>\n\n    @property\n    def title(self) -> str:\n        \"\"\"Get the video title.\n    \n        :rtype: str\n        \"\"\"\n        if self._title:\n            return self._title\n    \n        try:\n            self._title = self.vid_info['videoDetails']['title']\n        except KeyError:\n            # Check_availability will raise the correct exception in most cases\n            #  if it doesn't, ask for a report.\n            self.check_availability()\n>           raise exceptions.PytubeError(\n                (\n                    f'Exception while accessing title of {self.watch_url}. '\n                    'Please file a bug report at https://github.com/pytube/pytube'\n                )\n            )\nE           pytube.exceptions.PytubeError: Exception while accessing title of https://youtube.com/watch?v=WCh7oZrQOx4. Please file a bug report at https://github.com/pytube/pytube\n\n/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/site-packages/pytube/__main__.py:346: PytubeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop_policy","time":{"start":1725615796842,"stop":1725615796842,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"copy_config_to_dir","time":{"start":1725618210261,"stop":1725618210262,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    测试手动触发 youtube 视频发布\n    ","status":"broken","statusMessage":"pytube.exceptions.PytubeError: Exception while accessing title of https://youtube.com/watch?v=WCh7oZrQOx4. Please file a bug report at https://github.com/pytube/pytube","statusTrace":"self = <pytube.__main__.YouTube object: videoId=WCh7oZrQOx4>\n\n    @property\n    def title(self) -> str:\n        \"\"\"Get the video title.\n    \n        :rtype: str\n        \"\"\"\n        if self._title:\n            return self._title\n    \n        try:\n>           self._title = self.vid_info['videoDetails']['title']\nE           KeyError: 'videoDetails'\n\n/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/site-packages/pytube/__main__.py:341: KeyError\n\nDuring handling of the above exception, another exception occurred:\n\nyoutube_url = 'https://www.youtube.com/watch?v=WCh7oZrQOx4'\n\n    @pytest.mark.parametrize(\n        'youtube_url',\n        ['https://www.youtube.com/watch?v=A8WVGxXHUuU',\n         'https://www.youtube.com/watch?v=mAxFB3vbt7c',\n         'https://www.youtube.com/watch?v=WCh7oZrQOx4'],\n        ids=['no_channel_cfg', 'teded_channel', 'rn_channel'])\n    def test_y2douyin_manual(youtube_url):\n        \"\"\"\n        测试手动触发 youtube 视频发布\n        \"\"\"\n>       main(run_mod=Config.RUN_MOD_MANUAL,\n             video_url=youtube_url,\n             force=True,\n             coll_handler=YouTubeChannel,\n             work_path=curr_dir)\n\nmypy/tests/apps/youtu2douyin/test_youtu2douyin.py:33: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nmypy/apps/youtu2douyin/main.py:49: in main\n    api.do_manual(video_url, force)\nmypy/apps/youtu2douyin/channel_loop.py:417: in do_manual\n    to_pub_videos = self._collect_channel_medias(\nmypy/apps/youtu2douyin/channel_loop.py:257: in _collect_channel_medias\n    item['title'] = YouTube(item['url']).title\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pytube.__main__.YouTube object: videoId=WCh7oZrQOx4>\n\n    @property\n    def title(self) -> str:\n        \"\"\"Get the video title.\n    \n        :rtype: str\n        \"\"\"\n        if self._title:\n            return self._title\n    \n        try:\n            self._title = self.vid_info['videoDetails']['title']\n        except KeyError:\n            # Check_availability will raise the correct exception in most cases\n            #  if it doesn't, ask for a report.\n            self.check_availability()\n>           raise exceptions.PytubeError(\n                (\n                    f'Exception while accessing title of {self.watch_url}. '\n                    'Please file a bug report at https://github.com/pytube/pytube'\n                )\n            )\nE           pytube.exceptions.PytubeError: Exception while accessing title of https://youtube.com/watch?v=WCh7oZrQOx4. Please file a bug report at https://github.com/pytube/pytube\n\n/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/site-packages/pytube/__main__.py:346: PytubeError","steps":[],"attachments":[{"uid":"51eca93c157a7b6a","name":"log","source":"51eca93c157a7b6a.txt","type":"text/plain","size":375}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"copy_config_to_dir::finish_callback","time":{"start":1725618262196,"stop":1725618262196,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"app"},{"name":"parentSuite","value":"apps.youtu2douyin"},{"name":"suite","value":"test_youtu2douyin"},{"name":"host","value":"fv-az651-110"},{"name":"thread","value":"8815-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"apps.youtu2douyin.test_youtu2douyin"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"youtube_url","value":"'https://www.youtube.com/watch?v=WCh7oZrQOx4'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":["app"]},"source":"ae4011ffb73e9fd6.json","parameterValues":["'https://www.youtube.com/watch?v=WCh7oZrQOx4'"]}