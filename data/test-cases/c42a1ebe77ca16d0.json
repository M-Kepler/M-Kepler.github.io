{"uid":"c42a1ebe77ca16d0","name":"test_pdf2image_by_pylib","fullName":"lib.pdf.test_pdf_handler#test_pdf2image_by_pylib","historyId":"c8cc9e54aeb7966b2ae7fda4952e226c","time":{"start":1715239129876,"stop":1715239129877,"duration":1},"description":"\n    测试通过 ppt2image 库进行转换\n    ","descriptionHtml":"<pre><code>测试通过 ppt2image 库进行转换\n</code></pre>\n","status":"broken","statusMessage":"FileNotFoundError: [Errno 2] No such file or directory: '/home/runner/work/Python/Python/mypy/assets/media/pdf.pdf'","statusTrace":"test_output_dir = '/home/runner/work/Python/Python/mypy/tests/lib/pdf/_out/test_pdf_handler'\n\n    def test_pdf2image_by_pylib(test_output_dir):\n        \"\"\"\n        测试通过 ppt2image 库进行转换\n        \"\"\"\n        output_image_dir = os.path.join(\n            test_output_dir, curr_func_name())\n        os.makedirs(output_image_dir, exist_ok=True)\n        api = PDFHandler(Assets.pdf)\n>       api.pdf2images(output_image_dir)\n\nmypy/tests/lib/pdf/test_pdf_handler.py:33: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nmypy/lib/pdf/pdf_handler.py:42: in pdf2images\n    shutil.copy2(self._input_pdf_path, tmp_filename)\n/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/shutil.py:444: in copy2\n    copyfile(src, dst, follow_symlinks=follow_symlinks)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nsrc = '/home/runner/work/Python/Python/mypy/assets/media/pdf.pdf'\ndst = '/tmp/tmpsmwrsq0d/ZgoqdG8AUh29isTO.pdf'\n\n    def copyfile(src, dst, *, follow_symlinks=True):\n        \"\"\"Copy data from src to dst in the most efficient way possible.\n    \n        If follow_symlinks is not set and src is a symbolic link, a new\n        symlink will be created instead of copying the file it points to.\n    \n        \"\"\"\n        sys.audit(\"shutil.copyfile\", src, dst)\n    \n        if _samefile(src, dst):\n            raise SameFileError(\"{!r} and {!r} are the same file\".format(src, dst))\n    \n        file_size = 0\n        for i, fn in enumerate([src, dst]):\n            try:\n                st = _stat(fn)\n            except OSError:\n                # File most likely does not exist\n                pass\n            else:\n                # XXX What about other special files? (sockets, devices...)\n                if stat.S_ISFIFO(st.st_mode):\n                    fn = fn.path if isinstance(fn, os.DirEntry) else fn\n                    raise SpecialFileError(\"`%s` is a named pipe\" % fn)\n                if _WINDOWS and i == 0:\n                    file_size = st.st_size\n    \n        if not follow_symlinks and _islink(src):\n            os.symlink(os.readlink(src), dst)\n        else:\n>           with open(src, 'rb') as fsrc:\nE           FileNotFoundError: [Errno 2] No such file or directory: '/home/runner/work/Python/Python/mypy/assets/media/pdf.pdf'\n\n/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/shutil.py:264: FileNotFoundError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop_policy","time":{"start":1715236488701,"stop":1715236488702,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false},{"name":"copy_config_to_dir","time":{"start":1715239129832,"stop":1715239129833,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false},{"name":"test_output_dir","time":{"start":1715239129833,"stop":1715239129834,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false}],"afterStages":[{"name":"copy_config_to_dir::finish_callback","time":{"start":1715239130105,"stop":1715239130106,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false},{"name":"test_output_dir::0","time":{"start":1715239130105,"stop":1715239130105,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false}],"labels":[{"name":"tag","value":"pdf"},{"name":"parentSuite","value":"lib.pdf"},{"name":"suite","value":"test_pdf_handler"},{"name":"host","value":"fv-az1145-772"},{"name":"thread","value":"6357-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"lib.pdf.test_pdf_handler"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":["pdf"]},"source":"c42a1ebe77ca16d0.json","parameterValues":[]}