{"uid":"1ff920c019750ee3","name":"test_y2_downloader[channel]","fullName":"lib.youtube.test_y2_downloader#test_y2_downloader","historyId":"430d40b76483cd776ef489f8aa30e630","time":{"start":1723221919393,"stop":1723221919723,"duration":330},"description":"\n    测试 youtu 下载工具\n    ","descriptionHtml":"<pre><code>测试 youtu 下载工具\n</code></pre>\n","status":"broken","statusMessage":"KeyError: 'c4TabbedHeaderRenderer'","statusTrace":"test_output_dir = '/home/runner/work/github-runner/github-runner/mypy/tests/lib/youtube/_out/test_y2_downloader'\nurl = 'https://www.youtube.com/channel/UC4cw8Y12uIvrh8eLwGA3n8A'\n\n    @pytest.mark.parametrize(\"url\", [\n        \"https://www.youtube.com/watch?v=0AVrZ5tw_SM\",\n        \"https://www.youtube.com/playlist?list=PL-CDIidnoXnBqgBVbf5y9Qm4y4ZKHHYUS\",\n        \"https://www.youtube.com/channel/UC4cw8Y12uIvrh8eLwGA3n8A\"],\n        ids=['video', 'playlist', 'channel'])\n    def test_y2_downloader(test_output_dir, url):\n        \"\"\"\n        测试 youtu 下载工具\n        \"\"\"\n        api = Y2Downloader(work_path=test_output_dir, url=url)\n>       api.do_download()\n\nmypy/tests/lib/youtube/test_y2_downloader.py:16: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nmypy/lib/youtube/y2_downloader.py:277: in do_download\n    download_filepath = self.download_coll(coll_handler)\nmypy/lib/youtube/y2_downloader.py:217: in download_coll\n    if coll_handler.length == 0:\nmypy/lib/youtube/core/base.py:78: in length\n    return self._channel.length\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = []\n\n    @property\n    def length(self):\n        \"\"\"Extracts the approximate amount of videos from the channel.\n    \n        :return: Channel videos count\n        :rtype: str\n        \"\"\"\n        self.html_url = self.channel_url\n>       return self.initial_data['header']['c4TabbedHeaderRenderer']['videosCountText']['runs'][0]['text']\nE       KeyError: 'c4TabbedHeaderRenderer'\n\n/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/site-packages/pytube/contrib/channel.py:320: KeyError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop_policy","time":{"start":1723210575505,"stop":1723210575505,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"copy_config_to_dir","time":{"start":1723221843146,"stop":1723221843148,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_output_dir","time":{"start":1723221843148,"stop":1723221843149,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[{"name":"test_output_dir::0","time":{"start":1723221919852,"stop":1723221919852,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"copy_config_to_dir::finish_callback","time":{"start":1723221919853,"stop":1723221919853,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"lib.youtube"},{"name":"suite","value":"test_y2_downloader"},{"name":"host","value":"fv-az1424-733"},{"name":"thread","value":"8761-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"lib.youtube.test_y2_downloader"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"url","value":"'https://www.youtube.com/channel/UC4cw8Y12uIvrh8eLwGA3n8A'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"1ff920c019750ee3.json","parameterValues":["'https://www.youtube.com/channel/UC4cw8Y12uIvrh8eLwGA3n8A'"]}