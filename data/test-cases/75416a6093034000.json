{"uid":"75416a6093034000","name":"test_ppt_topic[KimiHelper]","fullName":"lib.llm.test_llm.TestLLM#test_ppt_topic","historyId":"51f14ad7742afba1088ccdd49ea20a0e","time":{"start":1721400999344,"stop":1721401026572,"duration":27228},"description":"\n        测试生成 PPT 题目\n        ","descriptionHtml":"<pre><code>    测试生成 PPT 题目\n</code></pre>\n","status":"failed","statusMessage":"AssertionError: assert 4 == 3\n +  where 4 = len(['急诊科护理工作年中总结', '手术室不良事件预防与处理', '内科护理查房案例分析', '儿科优质护理服务实践'])","statusTrace":"self = <test_llm.TestLLM object at 0x7fea0e61cfa0>\nllm_provider = <class 'mypy.lib.llm.kimi.helper.KimiHelper'>\n\n    def test_ppt_topic(self, llm_provider):\n        \"\"\"\n        测试生成 PPT 题目\n        \"\"\"\n        print(f'----- {llm_provider.__name__} -----')\n        topic_cnt = 3\n        llm_api: OpenAIBaseHelper = llm_provider()\n        ask_msg = NursePPT.gen_ppt_topics(topic_cnt)\n        llm_api.ask_helper.add_ask_message(message=ask_msg)\n        result = llm_api.chat()\n        print(result)\n        result = json.loads(result)\n        print(result)\n        assert isinstance(result, list)\n>       assert len(result) == topic_cnt\nE       AssertionError: assert 4 == 3\nE        +  where 4 = len(['急诊科护理工作年中总结', '手术室不良事件预防与处理', '内科护理查房案例分析', '儿科优质护理服务实践'])\n\nmypy/tests/lib/llm/test_llm.py:61: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop_policy","time":{"start":1721396243764,"stop":1721396243764,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"copy_config_to_dir","time":{"start":1721400980228,"stop":1721400980230,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[{"name":"copy_config_to_dir::finish_callback","time":{"start":1721401251059,"stop":1721401251060,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"lib.llm"},{"name":"suite","value":"test_llm"},{"name":"subSuite","value":"TestLLM"},{"name":"host","value":"fv-az1788-365"},{"name":"thread","value":"8963-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"lib.llm.test_llm"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"llm_provider","value":"<class 'mypy.lib.llm.kimi.helper.KimiHelper'>"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"75416a6093034000.json","parameterValues":["<class 'mypy.lib.llm.kimi.helper.KimiHelper'>"]}