{"uid":"9c521631e39c0b9f","name":"test_multi_chat[\\u76f4\\u63a5\\u54cd\\u5e94-QWenHelper]","fullName":"lib.llm.test_llm.TestLLM#test_multi_chat","historyId":"49caf6c5ee56bb72c76e26c86ced5ff4","time":{"start":1714032028956,"stop":1714032028956,"duration":0},"description":"\n        多轮对话\n        ","descriptionHtml":"<pre><code>    多轮对话\n</code></pre>\n","status":"broken","statusMessage":"AttributeError: 'NoneType' object has no attribute 'model'","statusTrace":"self = <test_llm.TestLLM object at 0x7f28ce56c970>, use_stream_response = False\nllm_provider = <class 'mypy.lib.llm.qwen.helper.QWenHelper'>\n\n    @pytest.mark.parametrize(\n        'use_stream_response', [True, False],\n        ids=['流式响应', '直接响应'])\n    def test_multi_chat(self, use_stream_response, llm_provider):\n        \"\"\"\n        多轮对话\n        \"\"\"\n        system_set = '你是一个数学家'\n        user_asks = ['1888 乘以 3212等于多少', '继续减去 1314 后是多少']\n>       llm_api: OpenAIBaseHelper = llm_provider()\n\nmypy/tests/lib/llm/test_llm.py:53: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nmypy/lib/llm/qwen/helper.py:22: in __init__\n    super().__init__(config=None)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <mypy.lib.llm.qwen.helper.QWenHelper object at 0x7f28c7925910>\nconfig = None\n\n    def __init__(self, config: LLMBaseConfig) -> None:\n        self.ask_helper = AskHelper()\n>       self._model = config.model\nE       AttributeError: 'NoneType' object has no attribute 'model'\n\nmypy/lib/llm/core/helper.py:67: AttributeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop_policy","time":{"start":1714029720253,"stop":1714029720254,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[],"labels":[{"name":"parentSuite","value":"lib.llm"},{"name":"suite","value":"test_llm"},{"name":"subSuite","value":"TestLLM"},{"name":"host","value":"fv-az1731-443"},{"name":"thread","value":"6365-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"lib.llm.test_llm"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"llm_provider","value":"<class 'mypy.lib.llm.qwen.helper.QWenHelper'>"},{"name":"use_stream_response","value":"False"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"9c521631e39c0b9f.json","parameterValues":["<class 'mypy.lib.llm.qwen.helper.QWenHelper'>","False"]}