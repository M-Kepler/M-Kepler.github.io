{"uid":"e3ccd8d7211f6a64","name":"test_translate_string[input_en]","fullName":"utils.test_tools#test_translate_string","historyId":"56c3aad8acc34c07a57bce549842ea5b","time":{"start":1728644559413,"stop":1728644559413,"duration":0},"status":"broken","statusMessage":"AttributeError: module 'translators' has no attribute 'translators_pool'","statusTrace":"input_str = 'Cristiano Ronaldo X Anime team ⚽⚡ 4 weeks of work • Animated by @brknsergio & Tman #cristianoedit #cristianoronaldo #sasukeedit #vegetaedit #zoroedit #brknsergio.mp4'\n\n    @pytest.mark.parametrize(\n        'input_str',\n        ['Cristiano Ronaldo X Anime team ⚽⚡ 4 weeks of work • Animated by @brknsergio & Tman #cristianoedit #cristianoronaldo #sasukeedit #vegetaedit #zoroedit #brknsergio.mp4',\n         '香港优才计划通过率因素分析，哪些人更容易拿到香港移民身份？'],\n        ids=['input_en', 'input_zh'])\n    def test_translate_string(input_str):\n>       result = translate_string(input_str)\n\nmypy/tests/utils/test_tools.py:132: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\noriginal_str = 'Cristiano Ronaldo X Anime team ⚽⚡ 4 weeks of work • Animated by @brknsergio & Tman #cristianoedit #cristianoronaldo #sasukeedit #vegetaedit #zoroedit #brknsergio.mp4'\ndef_translator = 'google', to_language = 'zh-CHS'\n\n    def translate_string(original_str, def_translator='google',\n                         to_language: Optional[List[Literal['zh-CHS', 'en']]] = 'zh-CHS'):\n        \"\"\"\n        文本翻译，可以重试多个翻译引擎\n        TIPS: 用 sougu 翻译引擎的话，如果输入的是中文，会默认转成英文\n        \"\"\"\n        # 网络不好的话，导入这个库会出错\n        import translators  # pylint: disable=C0415\n    \n        def do_translate(translator=def_translator):\n            try:\n                return translators.translate_text(query_text=original_str,\n                                                  translator=translator,\n                                                  to_language=to_language)\n            except Exception:\n                return None\n    \n        # 先试一下 def_translator，不行再轮询尝试其他服务\n        result = do_translate()\n        if result:\n            return result\n    \n>       for translator in translators.translators_pool:\nE       AttributeError: module 'translators' has no attribute 'translators_pool'\n\nmypy/utils/tools.py:63: AttributeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop_policy","time":{"start":1728639928624,"stop":1728639928625,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"copy_config_to_dir","time":{"start":1728644555264,"stop":1728644555266,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[{"name":"copy_config_to_dir::finish_callback","time":{"start":1728644564478,"stop":1728644564479,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"utils"},{"name":"parentSuite","value":"utils"},{"name":"suite","value":"test_tools"},{"name":"host","value":"fv-az2021-771"},{"name":"thread","value":"10015-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"utils.test_tools"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"input_str","value":"'Cristiano Ronaldo X Anime team ⚽⚡ 4 weeks of work • Animated by @brknsergio & Tman #cristianoedit #cristianoronaldo #sasukeedit #vegetaedit #zoroedit #brknsergio.mp4'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":["utils"]},"source":"e3ccd8d7211f6a64.json","parameterValues":["'Cristiano Ronaldo X Anime team ⚽⚡ 4 weeks of work • Animated by @brknsergio & Tman #cristianoedit #cristianoronaldo #sasukeedit #vegetaedit #zoroedit #brknsergio.mp4'"]}