{"uid":"87af8bc0be50095d","name":"test_video_handler[SciePro]","fullName":"lib.youtube.test_video_handler#test_video_handler","historyId":"5155c525dc7fd7dc00677328032399e4","time":{"start":1715522185243,"stop":1715522205490,"duration":20247},"status":"broken","statusMessage":"FileNotFoundError: [Errno 2] No such file or directory: '/home/runner/work/Python/Python/mypy/tests/lib/youtube/_out/test_video_handler/_out/channel_UCWFHv4Iyw6hXP6HIrb2gzgQ/B0lkyu2NFnA/B0lkyu2NFnA_zh.srt'","statusTrace":"test_output_dir = '/home/runner/work/Python/Python/mypy/tests/lib/youtube/_out/test_video_handler'\nvideo_url = 'https://www.youtube.com/shorts/B0lkyu2NFnA'\n\n    @pytest.mark.parametrize('video_url', [\n        'https://www.youtube.com/shorts/B0lkyu2NFnA',\n        'https://www.youtube.com/shorts/3OSwmeCuq_0',\n        'https://www.youtube.com/watch?v=mAxFB3vbt7c',\n        'https://www.youtube.com/watch?v=c9hWEA9fiNQ'\n    ], ids=['SciePro', 'SlideSkills', 'TedEd', 'RegisteredNurseRN'])\n    def test_video_handler(test_output_dir, video_url):\n        api = VideoHandler(work_path=test_output_dir,\n                           channel_id=YouTube(video_url).channel_id,\n                           video_url=video_url,\n                           ffmpeg_log_output=True)\n>       _, video_fullpath = api.get_video(with_srt=True,\n                                          clean_download=False)\n\nmypy/tests/lib/youtube/test_video_handler.py:21: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nmypy/lib/youtube/video_handler.py:253: in get_video\n    download_video, zh_srt, en_srt = y2_api.download_media(with_srt)\nmypy/lib/youtube/ytdlp_helper.py:170: in download_media\n    SubtitleHandler().merge_subtitle_text_oneline(self.zh_srt_download_path)\nmypy/lib/subtitle/subtitle_handler.py:35: in merge_subtitle_text_oneline\n    sub_rip_items = pysrt.open(subtitle_filepath)\n/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/site-packages/pysrt/srtfile.py:151: in open\n    source_file, encoding = cls._open_unicode_file(path, claimed_encoding=encoding)\n/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/site-packages/pysrt/srtfile.py:292: in _open_unicode_file\n    encoding = claimed_encoding or cls._detect_encoding(path)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ncls = <class 'pysrt.srtfile.SubRipFile'>\npath = '/home/runner/work/Python/Python/mypy/tests/lib/youtube/_out/test_video_handler/_out/channel_UCWFHv4Iyw6hXP6HIrb2gzgQ/B0lkyu2NFnA/B0lkyu2NFnA_zh.srt'\n\n    @classmethod\n    def _detect_encoding(cls, path):\n>       file_descriptor = open(path, 'rb')\nE       FileNotFoundError: [Errno 2] No such file or directory: '/home/runner/work/Python/Python/mypy/tests/lib/youtube/_out/test_video_handler/_out/channel_UCWFHv4Iyw6hXP6HIrb2gzgQ/B0lkyu2NFnA/B0lkyu2NFnA_zh.srt'\n\n/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/site-packages/pysrt/srtfile.py:279: FileNotFoundError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop_policy","time":{"start":1715519457720,"stop":1715519457720,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"copy_config_to_dir","time":{"start":1715522185240,"stop":1715522185242,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_output_dir","time":{"start":1715522185242,"stop":1715522185242,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"FileNotFoundError: [Errno 2] No such file or directory: '/home/runner/work/Python/Python/mypy/tests/lib/youtube/_out/test_video_handler/_out/channel_UCWFHv4Iyw6hXP6HIrb2gzgQ/B0lkyu2NFnA/B0lkyu2NFnA_zh.srt'","statusTrace":"test_output_dir = '/home/runner/work/Python/Python/mypy/tests/lib/youtube/_out/test_video_handler'\nvideo_url = 'https://www.youtube.com/shorts/B0lkyu2NFnA'\n\n    @pytest.mark.parametrize('video_url', [\n        'https://www.youtube.com/shorts/B0lkyu2NFnA',\n        'https://www.youtube.com/shorts/3OSwmeCuq_0',\n        'https://www.youtube.com/watch?v=mAxFB3vbt7c',\n        'https://www.youtube.com/watch?v=c9hWEA9fiNQ'\n    ], ids=['SciePro', 'SlideSkills', 'TedEd', 'RegisteredNurseRN'])\n    def test_video_handler(test_output_dir, video_url):\n        api = VideoHandler(work_path=test_output_dir,\n                           channel_id=YouTube(video_url).channel_id,\n                           video_url=video_url,\n                           ffmpeg_log_output=True)\n>       _, video_fullpath = api.get_video(with_srt=True,\n                                          clean_download=False)\n\nmypy/tests/lib/youtube/test_video_handler.py:21: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nmypy/lib/youtube/video_handler.py:253: in get_video\n    download_video, zh_srt, en_srt = y2_api.download_media(with_srt)\nmypy/lib/youtube/ytdlp_helper.py:170: in download_media\n    SubtitleHandler().merge_subtitle_text_oneline(self.zh_srt_download_path)\nmypy/lib/subtitle/subtitle_handler.py:35: in merge_subtitle_text_oneline\n    sub_rip_items = pysrt.open(subtitle_filepath)\n/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/site-packages/pysrt/srtfile.py:151: in open\n    source_file, encoding = cls._open_unicode_file(path, claimed_encoding=encoding)\n/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/site-packages/pysrt/srtfile.py:292: in _open_unicode_file\n    encoding = claimed_encoding or cls._detect_encoding(path)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ncls = <class 'pysrt.srtfile.SubRipFile'>\npath = '/home/runner/work/Python/Python/mypy/tests/lib/youtube/_out/test_video_handler/_out/channel_UCWFHv4Iyw6hXP6HIrb2gzgQ/B0lkyu2NFnA/B0lkyu2NFnA_zh.srt'\n\n    @classmethod\n    def _detect_encoding(cls, path):\n>       file_descriptor = open(path, 'rb')\nE       FileNotFoundError: [Errno 2] No such file or directory: '/home/runner/work/Python/Python/mypy/tests/lib/youtube/_out/test_video_handler/_out/channel_UCWFHv4Iyw6hXP6HIrb2gzgQ/B0lkyu2NFnA/B0lkyu2NFnA_zh.srt'\n\n/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/site-packages/pysrt/srtfile.py:279: FileNotFoundError","steps":[],"attachments":[{"uid":"f150b2e4cc23de44","name":"log","source":"f150b2e4cc23de44.txt","type":"text/plain","size":2098}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_output_dir::0","time":{"start":1715522687195,"stop":1715522687195,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"copy_config_to_dir::finish_callback","time":{"start":1715522687196,"stop":1715522687196,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"youtube"},{"name":"parentSuite","value":"lib.youtube"},{"name":"suite","value":"test_video_handler"},{"name":"host","value":"fv-az926-195"},{"name":"thread","value":"6423-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"lib.youtube.test_video_handler"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"video_url","value":"'https://www.youtube.com/shorts/B0lkyu2NFnA'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":["youtube"]},"source":"87af8bc0be50095d.json","parameterValues":["'https://www.youtube.com/shorts/B0lkyu2NFnA'"]}