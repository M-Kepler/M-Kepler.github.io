{"uid":"640e1a6547aa31b4","name":"test_chat_with_file[QWenHelper]","fullName":"lib.llm.test_llm.TestLLM#test_chat_with_file","historyId":"e6cec812bab129e75c1c68e5de6e953a","time":{"start":1719586128630,"stop":1719586128630,"duration":0},"status":"broken","statusMessage":"AttributeError: 'QWenHelper' object has no attribute '_client'","statusTrace":"self = <test_llm.TestLLM object at 0x7fc3e124ca30>\nllm_provider = <class 'mypy.lib.llm.qwen.helper.QWenHelper'>\n\n    def test_chat_with_file(self, llm_provider):\n        print('----- %s -----', llm_provider.__name__)\n        llm_api: OpenAIBaseHelper = llm_provider()\n>       result = llm_api.chat_with_file(Assets.ppt)\n\nmypy/tests/lib/llm/test_llm.py:126: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <mypy.lib.llm.qwen.helper.QWenHelper object at 0x7fc3ce5a5d30>\nfilepath = '/home/runner/work/github-runner/github-runner/mypy/assets/media/ppt/ppt.pptx'\nuse_stream = False\n\n    def chat_with_file(self, filepath: str, use_stream=False):\n        \"\"\"\n        AI 读懂文件，与文件交流\n        \"\"\"\n        # 读取文件\n        LOG.info('正在读取文件...')\n>       file_object = self._client.files.create(\n            file=Path(filepath), purpose='file-extract')\nE       AttributeError: 'QWenHelper' object has no attribute '_client'\n\nmypy/lib/llm/core/helper.py:120: AttributeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop_policy","time":{"start":1719581870889,"stop":1719581870890,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"copy_config_to_dir","time":{"start":1719585450547,"stop":1719585450548,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"AttributeError: 'QWenHelper' object has no attribute '_client'","statusTrace":"self = <test_llm.TestLLM object at 0x7fc3e124ca30>\nllm_provider = <class 'mypy.lib.llm.qwen.helper.QWenHelper'>\n\n    def test_chat_with_file(self, llm_provider):\n        print('----- %s -----', llm_provider.__name__)\n        llm_api: OpenAIBaseHelper = llm_provider()\n>       result = llm_api.chat_with_file(Assets.ppt)\n\nmypy/tests/lib/llm/test_llm.py:126: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <mypy.lib.llm.qwen.helper.QWenHelper object at 0x7fc3ce5a5d30>\nfilepath = '/home/runner/work/github-runner/github-runner/mypy/assets/media/ppt/ppt.pptx'\nuse_stream = False\n\n    def chat_with_file(self, filepath: str, use_stream=False):\n        \"\"\"\n        AI 读懂文件，与文件交流\n        \"\"\"\n        # 读取文件\n        LOG.info('正在读取文件...')\n>       file_object = self._client.files.create(\n            file=Path(filepath), purpose='file-extract')\nE       AttributeError: 'QWenHelper' object has no attribute '_client'\n\nmypy/lib/llm/core/helper.py:120: AttributeError","steps":[],"attachments":[{"uid":"1aa4005637042f61","name":"log","source":"1aa4005637042f61.txt","type":"text/plain","size":74}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"copy_config_to_dir::finish_callback","time":{"start":1719586128643,"stop":1719586128644,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"lib.llm"},{"name":"suite","value":"test_llm"},{"name":"subSuite","value":"TestLLM"},{"name":"host","value":"fv-az1788-68"},{"name":"thread","value":"7120-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"lib.llm.test_llm"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"llm_provider","value":"<class 'mypy.lib.llm.qwen.helper.QWenHelper'>"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"640e1a6547aa31b4.json","parameterValues":["<class 'mypy.lib.llm.qwen.helper.QWenHelper'>"]}