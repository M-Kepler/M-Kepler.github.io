{"uid":"1def031c0dde05ed","name":"test_publish_app[image_article]","fullName":"lib.xiaohongshu.test_xiaohongshu_publish_app#test_publish_app","historyId":"dd976763dbbc627708495f8cf5e69694","time":{"start":1715576886094,"stop":1715576886104,"duration":10},"status":"broken","statusMessage":"Exception: xiaohongshu 还不支持发布图文","statusTrace":"publish_media_type = 'image_article'\n\n    @pytest.mark.parametrize('publish_media_type', [\n        Const.MEDIA_TYPE_IMG_ARTICLE, Const.MEDIA_TYPE_VIDEO],\n        ids=[Const.MEDIA_TYPE_IMG_ARTICLE, Const.MEDIA_TYPE_VIDEO])\n    def test_publish_app(publish_media_type):\n        set_publish_cfg(config_path=config_path,\n                        option='media_type',\n                        value=publish_media_type)\n    \n>       XiaohongshuPublishApp(curr_dir).publish(\n            upload_filepath=Assets.video)\n\nmypy/tests/lib/xiaohongshu/test_xiaohongshu_publish_app.py:24: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nmypy/lib/playwright/publish_app.py:143: in publish\n    asyncio.run(\n/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/asyncio/runners.py:44: in run\n    return loop.run_until_complete(main)\n/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/asyncio/base_events.py:647: in run_until_complete\n    return future.result()\nmypy/lib/playwright/publish_app.py:132: in async_publish\n    publish_helper = self.get_publish_helper(cookie_path=cookie_path,\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <mypy.lib.xiaohongshu.publish_app.XiaohongshuPublishApp object at 0x7f48002c5580>\ncookie_path = '/home/runner/work/Python/Python/mypy/tests/lib/xiaohongshu/config/cookie/xiaohongshu/cookie_17688150852.json'\nupload_filepath = '/home/runner/work/Python/Python/mypy/assets/media/ted/ted.mp4'\npub_cfg = <mypy.lib.playwright.publish_config.PublishConfig object at 0x7f4801356610>\n\n    def get_publish_helper(self, cookie_path: str, upload_filepath: str,\n                           pub_cfg: PublishConfig) -> BasePublishHelper:\n        if pub_cfg.media_type == Const.MEDIA_TYPE_IMG_ARTICLE:\n>           raise Exception('xiaohongshu 还不支持发布图文')\nE           Exception: xiaohongshu 还不支持发布图文\n\nmypy/lib/xiaohongshu/publish_app.py:22: Exception","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop_policy","time":{"start":1715574136385,"stop":1715574136385,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"copy_config_to_dir","time":{"start":1715576886092,"stop":1715576886094,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"Exception: xiaohongshu 还不支持发布图文","statusTrace":"publish_media_type = 'image_article'\n\n    @pytest.mark.parametrize('publish_media_type', [\n        Const.MEDIA_TYPE_IMG_ARTICLE, Const.MEDIA_TYPE_VIDEO],\n        ids=[Const.MEDIA_TYPE_IMG_ARTICLE, Const.MEDIA_TYPE_VIDEO])\n    def test_publish_app(publish_media_type):\n        set_publish_cfg(config_path=config_path,\n                        option='media_type',\n                        value=publish_media_type)\n    \n>       XiaohongshuPublishApp(curr_dir).publish(\n            upload_filepath=Assets.video)\n\nmypy/tests/lib/xiaohongshu/test_xiaohongshu_publish_app.py:24: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nmypy/lib/playwright/publish_app.py:143: in publish\n    asyncio.run(\n/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/asyncio/runners.py:44: in run\n    return loop.run_until_complete(main)\n/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/asyncio/base_events.py:647: in run_until_complete\n    return future.result()\nmypy/lib/playwright/publish_app.py:132: in async_publish\n    publish_helper = self.get_publish_helper(cookie_path=cookie_path,\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <mypy.lib.xiaohongshu.publish_app.XiaohongshuPublishApp object at 0x7f48002c5580>\ncookie_path = '/home/runner/work/Python/Python/mypy/tests/lib/xiaohongshu/config/cookie/xiaohongshu/cookie_17688150852.json'\nupload_filepath = '/home/runner/work/Python/Python/mypy/assets/media/ted/ted.mp4'\npub_cfg = <mypy.lib.playwright.publish_config.PublishConfig object at 0x7f4801356610>\n\n    def get_publish_helper(self, cookie_path: str, upload_filepath: str,\n                           pub_cfg: PublishConfig) -> BasePublishHelper:\n        if pub_cfg.media_type == Const.MEDIA_TYPE_IMG_ARTICLE:\n>           raise Exception('xiaohongshu 还不支持发布图文')\nE           Exception: xiaohongshu 还不支持发布图文\n\nmypy/lib/xiaohongshu/publish_app.py:22: Exception","steps":[],"attachments":[{"uid":"8b2d580945f9879d","name":"log","source":"8b2d580945f9879d.txt","type":"text/plain","size":241}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"copy_config_to_dir::finish_callback","time":{"start":1715576913102,"stop":1715576913102,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"lib.xiaohongshu"},{"name":"suite","value":"test_xiaohongshu_publish_app"},{"name":"host","value":"fv-az1496-306"},{"name":"thread","value":"6435-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"lib.xiaohongshu.test_xiaohongshu_publish_app"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"publish_media_type","value":"'image_article'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"1def031c0dde05ed.json","parameterValues":["'image_article'"]}