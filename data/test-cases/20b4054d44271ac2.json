{"uid":"20b4054d44271ac2","name":"test_ppt2video[by_powerpoint]","fullName":"lib.ppt.test_ppt_handler#test_ppt2video","historyId":"3b289a6f34565c57982dbce30c248c4d","time":{"start":1714671918804,"stop":1714671918818,"duration":14},"status":"broken","statusMessage":"NameError: name 'ppt2video_by_powerpoint' is not defined","statusTrace":"test_output_dir = '/home/runner/work/Python/Python/mypy/tests/lib/ppt/_out/test_ppt_handler'\nby_powerpoint = True\n\n    @pytest.mark.parametrize('by_powerpoint',\n                             [True, False],\n                             ids=['by_powerpoint', 'by_libreoffice'])\n    def test_ppt2video(test_output_dir, by_powerpoint):\n        # 把测试文件拷贝到当前函数名称的目录下\n        output_dir = os.path.join(\n            test_output_dir, curr_func_name())\n        os.makedirs(output_dir, exist_ok=True)\n        test_ppt_file = shutil.copy2(Assets.ppt, output_dir)\n    \n        # ppt 转成视频的文件名\n        output_video_filepath = FileUtil.rename_ext(\n            test_ppt_file, '.mp4')\n    \n>       ppt2video(ppt_path=test_ppt_file,\n                  output_path=output_video_filepath,\n                  by_powerpoint=by_powerpoint)\n\nmypy/tests/lib/ppt/test_ppt_handler.py:28: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nppt_path = '/home/runner/work/Python/Python/mypy/tests/lib/ppt/_out/test_ppt_handler/test_ppt2video/ppt.pptx'\noutput_path = '/home/runner/work/Python/Python/mypy/tests/lib/ppt/_out/test_ppt_handler/test_ppt2video/ppt.mp4'\nby_powerpoint = True\n\n    def ppt2video(ppt_path, output_path, by_powerpoint=False):\n        \"\"\"\n        把 PPT 转成视频\n        用 PowerPoint 转换的话，每次都要打开应用，很耗性能\n    \n        :param output_path: 输出的视频的路径\n        :param by_powerpoint: 是否使用 powerpoint 把 PPT 导出成视频\n        \"\"\"\n        if os.path.exists(output_path):\n            LOG.warning('[%s] 已经存在，不需要转换', output_path)\n            return\n    \n        _output_dir = os.path.dirname(output_path)\n        if by_powerpoint:\n>           ppt2video_by_powerpoint(ppt_path, output_path)\nE           NameError: name 'ppt2video_by_powerpoint' is not defined\n\nmypy/lib/ppt/ppt_handler.py:37: NameError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop_policy","time":{"start":1714669543618,"stop":1714669543618,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_output_dir","time":{"start":1714671918803,"stop":1714671918803,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[{"name":"test_output_dir::0","time":{"start":1714671955549,"stop":1714671955549,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"ppt"},{"name":"parentSuite","value":"lib.ppt"},{"name":"suite","value":"test_ppt_handler"},{"name":"host","value":"fv-az1158-460"},{"name":"thread","value":"6452-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"lib.ppt.test_ppt_handler"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"by_powerpoint","value":"True"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":["ppt"]},"source":"20b4054d44271ac2.json","parameterValues":["True"]}