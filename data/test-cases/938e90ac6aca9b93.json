{"uid":"938e90ac6aca9b93","name":"test_y2douyin_manual[rn_channel]","fullName":"apps.youtu2douyin.test_youtu2douyin#test_y2douyin_manual","historyId":"34ce444535105d649cb685a3a1f2a24e","time":{"start":1725012853934,"stop":1725012854073,"duration":139},"description":"\n    测试手动触发 youtube 视频发布\n    ","descriptionHtml":"<pre><code>测试手动触发 youtube 视频发布\n</code></pre>\n","status":"broken","statusMessage":"urllib.error.HTTPError: HTTP Error 404: Not Found","statusTrace":"youtube_url = 'https://www.youtube.com/watch?v=WCh7oZrQOx4'\n\n    @pytest.mark.parametrize(\n        'youtube_url',\n        ['https://www.youtube.com/watch?v=A8WVGxXHUuU',\n         'https://www.youtube.com/watch?v=mAxFB3vbt7c',\n         'https://www.youtube.com/watch?v=WCh7oZrQOx4'],\n        ids=['no_channel_cfg', 'teded_channel', 'rn_channel'])\n    def test_y2douyin_manual(youtube_url):\n        \"\"\"\n        测试手动触发 youtube 视频发布\n        \"\"\"\n>       main(run_mod=Config.RUN_MOD_MANUAL,\n             video_url=youtube_url,\n             force=True,\n             coll_handler=YouTubeChannel,\n             work_path=curr_dir)\n\nmypy/tests/apps/youtu2douyin/test_youtu2douyin.py:33: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nmypy/apps/youtu2douyin/main.py:49: in main\n    api.do_manual(video_url, force)\nmypy/apps/youtu2douyin/channel_loop.py:398: in do_manual\n    channel.channel_name, DEF_CHANNEL_CFG)\nmypy/lib/youtube/core/base.py:58: in channel_name\n    return self._channel.channel_name\n/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/site-packages/pytube/contrib/channel.py:52: in channel_name\n    return self.initial_data['metadata']['channelMetadataRenderer']['title']\n/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/site-packages/pytube/contrib/playlist.py:81: in initial_data\n    self._initial_data = extract.initial_data(self.html)\n/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/site-packages/pytube/contrib/channel.py:101: in html\n    self._html = request.get(self.html_url)\n/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/site-packages/pytube/request.py:53: in get\n    response = _execute_request(url, headers=extra_headers, timeout=timeout)\n/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/site-packages/pytube/request.py:37: in _execute_request\n    return urlopen(request, timeout=timeout)  # nosec\n/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/urllib/request.py:214: in urlopen\n    return opener.open(url, data, timeout)\n/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/urllib/request.py:523: in open\n    response = meth(req, response)\n/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/urllib/request.py:632: in http_response\n    response = self.parent.error(\n/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/urllib/request.py:561: in error\n    return self._call_chain(*args)\n/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/urllib/request.py:494: in _call_chain\n    result = func(*args)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <urllib.request.HTTPDefaultErrorHandler object at 0x7f7911be7790>\nreq = <urllib.request.Request object at 0x7f792c291190>\nfp = <http.client.HTTPResponse object at 0x7f792c2913a0>, code = 404\nmsg = 'Not Found', hdrs = <http.client.HTTPMessage object at 0x7f792c291430>\n\n    def http_error_default(self, req, fp, code, msg, hdrs):\n>       raise HTTPError(req.full_url, code, msg, hdrs, fp)\nE       urllib.error.HTTPError: HTTP Error 404: Not Found\n\n/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/urllib/request.py:641: HTTPError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop_policy","time":{"start":1725010968688,"stop":1725010968689,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"copy_config_to_dir","time":{"start":1725012852947,"stop":1725012852949,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    测试手动触发 youtube 视频发布\n    ","status":"broken","statusMessage":"urllib.error.HTTPError: HTTP Error 404: Not Found","statusTrace":"youtube_url = 'https://www.youtube.com/watch?v=WCh7oZrQOx4'\n\n    @pytest.mark.parametrize(\n        'youtube_url',\n        ['https://www.youtube.com/watch?v=A8WVGxXHUuU',\n         'https://www.youtube.com/watch?v=mAxFB3vbt7c',\n         'https://www.youtube.com/watch?v=WCh7oZrQOx4'],\n        ids=['no_channel_cfg', 'teded_channel', 'rn_channel'])\n    def test_y2douyin_manual(youtube_url):\n        \"\"\"\n        测试手动触发 youtube 视频发布\n        \"\"\"\n>       main(run_mod=Config.RUN_MOD_MANUAL,\n             video_url=youtube_url,\n             force=True,\n             coll_handler=YouTubeChannel,\n             work_path=curr_dir)\n\nmypy/tests/apps/youtu2douyin/test_youtu2douyin.py:33: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nmypy/apps/youtu2douyin/main.py:49: in main\n    api.do_manual(video_url, force)\nmypy/apps/youtu2douyin/channel_loop.py:398: in do_manual\n    channel.channel_name, DEF_CHANNEL_CFG)\nmypy/lib/youtube/core/base.py:58: in channel_name\n    return self._channel.channel_name\n/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/site-packages/pytube/contrib/channel.py:52: in channel_name\n    return self.initial_data['metadata']['channelMetadataRenderer']['title']\n/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/site-packages/pytube/contrib/playlist.py:81: in initial_data\n    self._initial_data = extract.initial_data(self.html)\n/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/site-packages/pytube/contrib/channel.py:101: in html\n    self._html = request.get(self.html_url)\n/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/site-packages/pytube/request.py:53: in get\n    response = _execute_request(url, headers=extra_headers, timeout=timeout)\n/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/site-packages/pytube/request.py:37: in _execute_request\n    return urlopen(request, timeout=timeout)  # nosec\n/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/urllib/request.py:214: in urlopen\n    return opener.open(url, data, timeout)\n/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/urllib/request.py:523: in open\n    response = meth(req, response)\n/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/urllib/request.py:632: in http_response\n    response = self.parent.error(\n/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/urllib/request.py:561: in error\n    return self._call_chain(*args)\n/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/urllib/request.py:494: in _call_chain\n    result = func(*args)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <urllib.request.HTTPDefaultErrorHandler object at 0x7f7911be7790>\nreq = <urllib.request.Request object at 0x7f792c291190>\nfp = <http.client.HTTPResponse object at 0x7f792c2913a0>, code = 404\nmsg = 'Not Found', hdrs = <http.client.HTTPMessage object at 0x7f792c291430>\n\n    def http_error_default(self, req, fp, code, msg, hdrs):\n>       raise HTTPError(req.full_url, code, msg, hdrs, fp)\nE       urllib.error.HTTPError: HTTP Error 404: Not Found\n\n/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/urllib/request.py:641: HTTPError","steps":[],"attachments":[{"uid":"95be77e8d4d9ce66","name":"log","source":"95be77e8d4d9ce66.txt","type":"text/plain","size":181}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"copy_config_to_dir::finish_callback","time":{"start":1725012913913,"stop":1725012913914,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"app"},{"name":"parentSuite","value":"apps.youtu2douyin"},{"name":"suite","value":"test_youtu2douyin"},{"name":"host","value":"fv-az881-351"},{"name":"thread","value":"8937-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"apps.youtu2douyin.test_youtu2douyin"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"youtube_url","value":"'https://www.youtube.com/watch?v=WCh7oZrQOx4'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":["app"]},"source":"938e90ac6aca9b93.json","parameterValues":["'https://www.youtube.com/watch?v=WCh7oZrQOx4'"]}