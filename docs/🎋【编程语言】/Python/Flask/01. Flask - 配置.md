- [`app.config` 配置](#appconfig-配置)
  - [设置配置信息](#设置配置信息)
  - [静态文件目录](#静态文件目录)
- [其他](#其他)

# `app.config` 配置

- [Flask 项目配置（Configuration）](https://zhuanlan.zhihu.com/p/24055329)

- [已有配置项](https://www.cnblogs.com/fengqiang626/p/11889471.html)

  - `'SESSION_COOKIE_NAME': 'session'` 在 cookies 中存放 session 加密字符串的名字

  - `SESSION_COOKIE_SECURE`

  - `SESSION_COOKIE_DOMAIN`

- 配置对象是一个字典的子类，所以可以把一些 APP 的配置或者自己的配置用键值对的方式存储进去

- 查看 `flask/config.py` 可以看到 Flask 支持很多种配置引入方式 `from_envvar、from_pyfile、from_json、from_mapping`

## 设置配置信息

- `app.config.update(config_dict)` 从字典引入

  ```py
  from flask import Flask
  app = Flask(__name__)
  app.config.update(
      dict(
        SECRET_KEY="string hard to guess", DEBUG=True,
        MY_CFG_TEST="my config test
      )
  )
  ```

- `app.config.from_object` 从对象引入配置

  ```py
  class Config:
    '''APP通用的配置'''
    # 敏感信息最好通过系统环境变量引入 export SECRET_KEY='test'
    SECRET_KEY = os.environ.get('SECRET_KEY') or 'string hard to guess'
    SQLALCHEMY_COMMIT_ON_TEARDOWN = True
    PER_POSTS_PER_PAGE = 8

  class DeveplopmentConfig(Config):
    '''继承Config，共同的配置放在 Config，开发模式下的配置放在这里'''
    DEBUG = True
    MAIL_SERVER = "smtp.qq.com"
    MAIL_USER_NAME = os.environ.get("MAIN_USER_NAME")

  class ProductionConfig(Config):
    '''生产部署配置'''
    pass

  config = {
    "development": DeveplopmentConfig,
    "production": ProductionConfig
  }

  # app.py
  app.config.from_object(config["development"])
  ```

- `app.config.from_pyfile` 从配置文件引入

  ```py
  # config.py
  SECRET_KEY = 'some secret words'
  DEBUG = True

  # app.py
  app.config.from_object(config)
  ```

## 静态文件目录

# 其他
