- [参考资料](#参考资料)
- [函数对象](#函数对象)
  - [什么是函数对象](#什么是函数对象)
  - [函数对象的例子](#函数对象的例子)
  - [为何要使用函数对象](#为何要使用函数对象)
  - [STL 中提供的函数对象类](#stl-中提供的函数对象类)
- [其他](#其他)

# 参考资料

> 仿函数（functor)

- [★ STL 学习 - 函数对象](https://www.cnblogs.com/gr-nick/p/3973137.html)

# 函数对象

## 什么是函数对象

- 函数对象是`行为类似函数的对象`。一个类对象表现出一个函数的特征，即`可通过对象名+(参数列表)`的方式使用一个类对象

- 可以没有参数，也可以带有若干参数

- 普通函数就是函数对象

- 重载了 `()` 运算符的类的实例是函数对象，就比如 `lambda`

- 需要包含头文件 `#include <functional>`

## 函数对象的例子

```cpp
#include <functional>

// 1. 完全可以看做是调用add函数
int sum = add(a, b);

// 2. 当然也可以看作是使用函数对象
Template <class T>

class Add{
public:
    T operator() (T a, T b){
        return a + b;
    }
};
Sum<int> add;

int sum = add(a, b);
```

## 为何要使用函数对象

- 在一些情况下，为了使程序富于变化，增加程序的通用性，`有时需要将函数当作参数传递，这就需要使用函数指针`， 但是函数指针的通用性不强，不能适应类型的变化

- 另外一个问题在于效率，必须通过指针才能调用这个函数，所以无法使用内联的方式，如果要执行的函数很小，进行一次函数调用将会有相对大的额外开销，而如果这个函数调用是在一个循环中，可以想象出其对效率有严重的影响。

## STL 中提供的函数对象类

```c++
// C++ 11 引入了函数对象标准库 <functional>
// 里面包含各种内建的函数对象以及相关的操作函数
#include <functional>
```

- 算术运算类

  ```cpp
  plus
  minus
  multiplies
  divides
  modules
  negate
  ```

- 比较运算

  ```cpp
  // 这些在需要指明容器顺序，比如优先队列、有序集合的时候常见
  greater
  greater_equal

  less
  less_equal

  equal_to
  not_equal_to
  ```

- 逻辑运算

  ```cpp
  logical_and
  logical_or
  logical_not
  ```

# 其他
