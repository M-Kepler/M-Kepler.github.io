- [参考资料](#参考资料)
- [Linux 操作系统](#linux-操作系统)
  - [一些概念](#一些概念)
    - [什么是全双工半双工](#什么是全双工半双工)
    - [内核态和用户态的区别](#内核态和用户态的区别)
    - [为什么要分内核态和用户态](#为什么要分内核态和用户态)
    - [系统调用和库函数调用的区别](#系统调用和库函数调用的区别)
    - [为什么系统调用比库函数调用更耗时](#为什么系统调用比库函数调用更耗时)
    - [什么是同步异步](#什么是同步异步)
    - [什么是阻塞非阻塞](#什么是阻塞非阻塞)
    - [什么是并发并行](#什么是并发并行)
- [其他](#其他)

# 参考资料

- [帅地 - 操作系统面试题](https://www.iamshuaidi.com/1346.html)

- [逆袭来大厂 - 操作系统篇](https://github.com/forthespada/InterviewGuide/blob/main/%E7%9F%A5%E8%AF%86%E5%82%A8%E5%A4%87/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F.md)

- [操作系统基础](https://blog.csdn.net/zisuu/article/details/110293764)

- [理解阻塞非阻塞与同步异步的有趣解释](https://www.cnblogs.com/kevincaptain/p/10305140.html)

- [进程间通信合集](https://www.cnblogs.com/xcywt/category/778140.html)

- [进程间通信](https://www.cnblogs.com/xcywt/category/778140.html)

- [面试题：进程间通信的方式](https://blog.csdn.net/wm12345645/article/details/82381407)

- [计算机操作系统常见面试题整理](https://blog.csdn.net/weixin_37561173/article/details/111219531)

- [常见面试题整理--操作系统篇（每位开发者必备）](https://mp.weixin.qq.com/s/KkPQxUWde0ILgFyWSUjJfw)

- [腾讯后台开发面试题--整理 1](https://blog.csdn.net/liu0808/article/details/80373527)

# Linux 操作系统

## 一些概念

### 什么是全双工半双工

- **单工**

  数据传输只支持数据在 `一个方向上` 传输

- **半双工**

  数据 `支持在两个方向上传输`，但是在`某一时刻，只允许数据在一个方向上传输`，实际上是一种切换方向的单工通信

- **全双工**

  数据可以 `同时在接收和发送两个方向上传输`，全双工通信是两个单工通信方式的结合，它要求发送设备和接收设备都有独立的接收和发送能力

### 内核态和用户态的区别

> 用户态切换到内核态的方式： `系统调用、异常、中断`

- 当进程执行系统调用而陷入内核代码中执行时，处于内核态，此时处理器处于`特权级`最高的（0 级）内核代码中执行。当进程处于内核态时，执行的内核代码会`使用当前进程的内核栈`。每个进程都有自己的内核栈

- 当进程在执行用户自己的代码时，则称其处于用户态

  - 此时处理器在特权级最低的（3 级）用户代码中运行。当正在执行用户程序而突然被中断程序中断时，此时用户程序也可以象征性地称为处于进程的内核态。因为中断处理程序将使用当前进程的内核栈。这与处于内核态的进程的状态有些类似。

- 既然库函数是调用系统函数, 那为什么不所有代码都放在内核中执行?

  虽然内核执行高效, 但是放内核中执行太危险了, 一旦发生问题就会有宕机的风险；所以把有风险的程序放到用户态执行

### 为什么要分内核态和用户态

- `保护硬件资源的安全`

  创建进程、读取文件、网络传输等都是`系统核心功能`，这些核心功能必须交给`特权级`最高的进程去执行

- `确保系统不会受到破坏`

  - 内核态为`特权级别`，有权对一些关键资源进行修改，用户态为`非特权级别`

  - 操作系统中发一些指令属于`极其危险的级别，如清理内存、设置时钟等`。如果允许用户随意调用，将发生无法预估的灾难，`导致系统奔溃`

### 系统调用和库函数调用的区别

> 函数库调用是语言的一部分，而系统调用是系统提供的一套访问系统资源的 API

- 应用程序访问并使用内核所提供的各种服务的途径即是系统调用

  - 系统调用是为了`方便应用使用操作系统的接口`

  - 系统调用处于内核和用户应用程序相交界的地方，`内核提供了一组系统调用接口，通过这组接口，应用程序可以访问系统硬件和各种操作系统资源`

- 库函数是为了方便人们编写应用程序而引出的，比如自己编写一个函数也可以说是一个库函数

### 为什么系统调用比库函数调用更耗时

> 上下文切换、恢复现场

- `上下文的切换`

  系统调用一般都需要保存用户程序的上下文(context) ,在进入内核的时候（系统调用实在内核态）需要保存用户态的寄存器，在内核态返回用户态得时候会恢复这些寄存器的内容，`需要从用户地址空间切换到内核地址空间`

- `堆栈恢复现场`

  当程序中有系统调用语句，程序执行到系统调用时，首先保存现场;去调系统调用号, 在内核态执行，然后恢复现场； 每个进程都会有两个栈，一个内核态栈和一个用户态栈。

- 进行系统调用时，系统要`进行额外的检查`来确保这次调用是安全的。系统调用的返回过程有很多额外工作; 比如检查是否需要调度等。

- 不是所有的库函数都会调用系统调用的，比如 strncpy、memcpy

### 什么是同步异步

> 指 `用户进程与内核的进行IO的方式`，即需不需要等待函数返回

- `同步`

  指在发出一个功能调用时，在没有得到结果之前，该调用就不返回,绝大多数函数都是同步调用的

- `异步`

  指用户线程发起 IO 请求后仍继续执行，当内核 IO 操作完成后会通知用户线程，或者调用用户线程注册的回调函数。

### 什么是阻塞非阻塞

> 关注的是在等待结果时 `进程的运行状态`，即是否让进程进入休眠（阻塞）

- `阻塞`

  指 IO 操作需要彻底完成后才返回到用户空间

- `非阻塞`

  指 IO 操作被调用后立即返回给用户一个状态值，无需等到 IO 操作彻底完成。

### 什么是并发并行

> 并行 `parallel`、并发 `concurrently`、异步 `asynchronously`

- 并行

  - 表示把任务分摊到`多个CPU`上，真正的在同一个时间片段上进行不一样的操作

  - 比如每个人都是独立的执行单元，各自完成各自的任务，这对应计算机中的分布式（多台计算机）或多核（多个 CPU）

- 并发

  - 表示在一个时间片段上，`一个CPU`只能处理一段逻辑，时间片到了要切换去处理其他进程的逻辑，交替进行的

  - 比如一个人同时耍多个球，对应着计算机一个 CPU 实现多个任务看起来是"同时"执行

- 异步

  比如你把衣服放进洗衣机了，然后去看书，等衣服洗完了再去晾衣服，而不是一直等到衣服洗完了才能进行看书的动作

# 其他

- [text 段、data 段和 bss 段知识介绍](https://blog.csdn.net/superjiangzhen/article/details/79938458)
