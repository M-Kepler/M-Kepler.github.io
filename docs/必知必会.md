- [参考资料](#参考资料)
- [施工计划](#施工计划)
- [知己知彼](#知己知彼)
  - [风险](#风险)
  - [面试技巧](#面试技巧)
- [随便写点](#随便写点)
- [施工记录](#施工记录)
- [★★★★★ 必考基础 ★★★★★](#-必考基础-)
  - [Python](#python)
  - [Cpp](#cpp)
    - [Cpp11](#cpp11)
    - [CPP-STL](#cpp-stl)
  - [数据库](#数据库)
    - [MySQL](#mysql)
    - [Redis](#redis)
  - [计算机网络](#计算机网络)
    - [网络基础](#网络基础)
    - [网络编程](#网络编程)
  - [Linux 操作系统](#linux-操作系统)
    - [进程线程协程](#进程线程协程)
    - [虚拟内存](#虚拟内存)
  - [数据结构与算法](#数据结构与算法)
  - [LeetCode](#leetcode)
  - [海量数据处理](#海量数据处理)
  - [系统架构](#系统架构)
- [过程记录](#过程记录)
  - [目标岗位](#目标岗位)
  - [面经](#面经)
    - [商汤](#商汤)
    - [易捷讯](#易捷讯)
    - [vivo](#vivo)
      - [20210903 高级后台开发工程师（消息云服务平台方向）](#20210903-高级后台开发工程师消息云服务平台方向)
        - [背景](#背景)
        - [面经](#面经-1)
        - [反馈](#反馈)
        - [结果](#结果)
    - [Shopee](#shopee)
      - [20210903 高级后台开发工程师](#20210903-高级后台开发工程师)
        - [背景](#背景-1)
        - [面经](#面经-2)
        - [反馈](#反馈-1)
        - [结果](#结果-1)
      - [20211222 生活服务后端开发工程师](#20211222-生活服务后端开发工程师)
        - [背景](#背景-2)
        - [面经](#面经-3)
        - [反馈](#反馈-2)
        - [结果](#结果-2)
      - [20211228 生活服务后端开发工程师 Ⅱ](#20211228-生活服务后端开发工程师-ⅱ)
        - [背景](#背景-3)
        - [面经](#面经-4)
        - [反馈](#反馈-3)
        - [结果](#结果-3)
    - [腾讯](#腾讯)
      - [腾讯事业群](#腾讯事业群)
      - [20210821 28600-微信支付商户后台开发工程师](#20210821-28600-微信支付商户后台开发工程师)
        - [背景](#背景-4)
        - [面经](#面经-5)
        - [反馈](#反馈-4)
        - [结果](#结果-4)
      - [20210901 TME-QQ 音乐搜索后台开发工程师](#20210901-tme-qq-音乐搜索后台开发工程师)
        - [背景](#背景-5)
        - [面经](#面经-6)
        - [反馈](#反馈-5)
        - [结果](#结果-5)
      - [20210816 TME-QQ 音乐商业化后台开发工程师](#20210816-tme-qq-音乐商业化后台开发工程师)
        - [背景](#背景-6)
        - [面经](#面经-7)
        - [反馈](#反馈-6)
        - [结果](#结果-6)
      - [20211014 TME-QQ 音乐运营后台开发工程师](#20211014-tme-qq-音乐运营后台开发工程师)
        - [背景](#背景-7)
        - [面经](#面经-8)
        - [反馈](#反馈-7)
        - [结果](#结果-7)
      - [20210827 TEG05-运营开发工程师](#20210827-teg05-运营开发工程师)
        - [背景](#背景-8)
        - [面经](#面经-9)
        - [反馈](#反馈-8)
        - [结果](#结果-8)
      - [20210827 TEG05-运营开发工程师 Ⅱ](#20210827-teg05-运营开发工程师-ⅱ)
        - [二面](#二面)
    - [字节跳动](#字节跳动)
      - [20210915 直播服务 SRE 工程师职位](#20210915-直播服务-sre-工程师职位)
        - [背景](#背景-9)
        - [面经](#面经-10)
        - [反馈](#反馈-9)
        - [结果](#结果-9)
      - [20210827 后台开发工程师 - 内容平台](#20210827-后台开发工程师---内容平台)
        - [背景](#背景-10)
        - [面经](#面经-11)
        - [反馈](#反馈-10)
        - [结果](#结果-10)
    - [微众银行](#微众银行)
    - [微诺](#微诺)
    - [荣耀](#荣耀)
    - [中金财富](#中金财富)
    - [顺丰](#顺丰)
    - [京东](#京东)
    - [富途](#富途)
      - [20220420 金融业务-交易系统后台开发工程师](#20220420-金融业务-交易系统后台开发工程师)
        - [背景](#背景-11)
        - [面经](#面经-12)
        - [反馈](#反馈-11)
        - [结果](#结果-11)
    - [携程](#携程)
    - [美团](#美团)
    - [阿里巴巴](#阿里巴巴)
    - [拉赞达](#拉赞达)
    - [布谷鸟](#布谷鸟)
    - [元气森林](#元气森林)
    - [小鹏](#小鹏)
    - [蔚来](#蔚来)
    - [思迈特](#思迈特)
    - [福里斯 crypto.com](#福里斯-cryptocom)
      - [20220422 Python 高级开发工程师](#20220422-python-高级开发工程师)
        - [背景](#背景-12)
        - [面经](#面经-13)
        - [反馈](#反馈-12)
        - [结果](#结果-12)
      - [20220428 Python 高级开发工程师 Ⅱ](#20220428-python-高级开发工程师-ⅱ)
        - [背景](#背景-13)
        - [面经](#面经-14)
        - [反馈](#反馈-13)
        - [结果](#结果-13)
      - [20220509 Python 高级开发工程师 Ⅲ](#20220509-python-高级开发工程师-ⅲ)
        - [背景](#背景-14)
        - [面经](#面经-15)
        - [反馈](#反馈-14)
        - [结果](#结果-14)
    - [AmberGroup](#ambergroup)
      - [20220421 Python 高级开发工程师](#20220421-python-高级开发工程师)
        - [背景](#背景-15)
        - [面经](#面经-16)
        - [反馈](#反馈-15)
        - [结果](#结果-15)
      - [20220428 Python 高级开发工程师 Ⅱ](#20220428-python-高级开发工程师-ⅱ-1)
        - [背景](#背景-16)
        - [面经](#面经-17)
        - [反馈](#反馈-16)
        - [结果](#结果-16)
      - [20220506 Python 高级开发工程师 Ⅲ](#20220506-python-高级开发工程师-ⅲ)
        - [背景](#背景-17)
        - [面经](#面经-18)
        - [反馈](#反馈-17)
        - [结果](#结果-17)
- [强化记忆](#强化记忆)
- [其他](#其他)

# 参考资料

- [菜鸟面试手册](https://www.mianshi.online/)

- [三年半后端鹅厂面试经历](https://mp.weixin.qq.com/s/dImvsvAxY1R7ZNqO7RUkAg)

- [腾讯面试准备](https://www.cnblogs.com/bitzhidu)

- [★ C++ 后台开发面试时一般考察什么](https://mp.weixin.qq.com/s/Mes6E_eA5ffBjnrXAEXvgw)

- [《自制力：如何掌握自己的时间与生活》](https://weread.qq.com/web/reader/b71328b056dcccb713a8f38)

- [万字攻略，详解腾讯面试](https://mp.weixin.qq.com/s/6pEFg_OwsT6RkueE-FV6hA)

- [★ 动荡下如何自救，社招一年收割 BATDK 算法 offer 经验帖](https://www.nowcoder.com/discuss/689718?type=all&order=time&pos=&page=1&ncTraceId=&channel=-1&source_id=search_all_nctrack)

- [★ 看了读者阿里面经，总结了这几个面试关键点](https://mp.weixin.qq.com/s/fIUFg1lueDg0gm7cWJVt4Q)

- [程序厨](http://www.chengxuchu.com/#/README)

- [yes 的练级攻略 - 面霸系列](https://mp.weixin.qq.com/mp/appmsgalbum?action=getalbum&__biz=MzkxNTE3NjQ3MA==&scene=1&album_id=1717644697302597643&count=3)

- [腾讯 C++ 面试题【合集】](https://blog.csdn.net/bitzhidu/article/details/106116472)

- [大厂面试指南系列](https://www.cnblogs.com/ilovejaney/category/1833404.html)

- [逆袭进大厂系列](https://github.com/forthespada/InterviewGuide)

- [大厂面试指南](https://www.cnblogs.com/ilovejaney/category/1833404.html)

- [阿里、腾讯、字节、快手、美团｜ JAVA 开发岗｜ 2020 春招、2021 秋招面试高频问题总结](https://leetcode-cn.com/circle/discuss/XXGdoF/)

- [CS-Notes](https://github.com/CyC2018/CS-Notes)

- [Skill-Tree](https://github.com/linw7/Skill-Tree)

- [疯狂创客圈 JAVA 高并发 总目录](https://www.cnblogs.com/crazymakercircle/p/9904544.html)

# 施工计划

- 理论知识准备阶段

  - 数据结构与算法（刷 codetop 上公司常考题）

  - 语言 `C++ / Python`

  - `Mysql`

  - `Redis`

  - 操作系统

  - 计算机网络基础

  - 计算机网络编程

  - `Linux` 命令

  - 设计模式

  - `Web`

  - 网络安全

  - 分布式

  - 消息队列

- 简历准备阶段

- 练手阶段

- 面试阶段

# 知己知彼

- 先找一些公司练习自己的表达能力，`语速不要太快`，领导面 HR 面虽然不问技术问题，但刷人的概率同样会很高，什么职业规划、个人性格、离职原因新公司的期望一定要找个时间理清楚，不要现想现编。

## 风险

- 算法题始终是个坎，感觉还是不能熟练使用 C++ 去求解，写的时候总是磕磕绊绊的

- 语言不确定要 `cpp` 还是 `python`

- 担心准备的内容太冷门

- 让我说可以，让我写就有点难了

## 面试技巧

[面试技巧](https://www.nowcoder.com/tutorial/93/a88b64c6d7b14a59aad2061b9fd15ac2)

- 二面主要问项目和业务，要对自己的项目非常熟悉

  - 面试官一上来就让讲一下项目，整体架构怎么样的，讲一下自己负责的最有挑战性的地方，有什么亮点

  - 之后就是让讲清楚业务细节，面临哪些问题，用什么方案解决的，为什么要这么做，为什么要选这个不要选那个

  - 等他理解你的业务之后，会出题：要实现某个功能，设计一下方案（系统设计题）

- 线上面试，去熟悉下牛客网的面试系统

- 可能项目中确实没有接触过用过一些特性，但是面试的时候可以蹭一下，比如说你们怎么使用 Redis 或 MySQL 的，如果按实际情况说，我们就是一个单机系统，MySQL 也是手动启动管理的，那面试官肯定给你贴一个没有高可用经验的标签了；那我们又知道 MySQL 有主从模式、Redis 有哨兵、集群，就可以往这方面靠一下，说我们组建了 Redis 集群，用哈希环来做负载均衡（一致性哈希），还开起了持久化，MySQL 主从同步等等，然后我们又是如何解决 MySQL 和 Redis 的数据同步问题的，如何解决进行读写分离的等等

- 被问到一个陌生的问题

  尽量往高频考点去想，比如问你能不能一次性把一百字节发出去，可以想到是在考察 mss、mtu。然后再进一步，把 mss 调大后能不能？这时候很难想到他想问什么，那就往高频考点去想，哪些考点是跟流量大小有关的，很显然有窗口大小（接收发送缓冲区）、流量控制

- 面试官也想更全面的了解你，那你呈现给面试官的是什么样子呢？你简历上写到的、你的项目、你回答问题时提到的，都会被面试官抓住并展开，所以可以根据这一点自己掌握面试的节奏，把问题往自己熟悉的方面引导

- 当面试官像你抛出一个问题，并且问的比较抽象时

  你可以问他能举个例子吗，我不太明白问题。比如面试官问我多线程中调用 fork 会发生什么？ 这个问题就比较抽象，反问面试官，能说具体例子吗？面试官又说了多线程中一个线程已经锁定了，另一个线程中去调用 fork 会有什么后果？ 这种问题一下就反应过来了 fork 的一些特性，结合上下文会导致死锁。

- 当面试官问你一个你熟悉的问题时

  不慌抢答，思考下该怎么把面试官绕进来，可以使用搬砖硬玉。比如面试官问你虚函数和纯虚函数的区别时。除了你要答出区别，你可以附带一句，虚函数的原理都在虚函数表中。有些面试官都见你这样说了，他就会主动问你，你能讲一下吗？这样达成抛砖引玉的效果

- 遇到不知道的问题时

  可以触类旁通，答几点和这个内容相关的，让面试官知道你在这些问题上的深度。比如面试官问我主键索引和普通索引的区别。这个问题很简单当时忘记了，然后给面试官说了才学会的内容就是页的分裂，然后面试官接着问我一些底层的实现

# 随便写点

- `2022年9月18日 18:21:32`

  永远不要等自己一切都准备好了再投递，因为永远没有完全准备充分的时候，多投递多尝试才是关键！！

  大多数人都高估了他们一天能做的事情，但低估了他们一年能做的事情

  以战养战

- `2021年10月26日 00:10:01`

  还是有规划一点，现在还是看到哪里算哪里，加油，重装出发！

- `2021年10月17日 20:03:03`

  - 9 月去旅游，回来就面了一个字节的岗，到现在都那么久了吗？现在一点也不像看；但是只要你看了，日积月累，总会有改变的嘛；不去改变，过再久也都是这样，一事无成。

  - 总是很纠结；因为一件事还没完成，所以做其他事情总是无法投入；比如我现在要复习，但是又想出去逛逛，结果两边都做不好；贵有恒，何必三更睡五更起；最无益，莫过于一曝十寒

- `2021年8月29日 10:40:12`

  话再说回来，面试其实也很看缘分，永远没有真正准备好的时候，知识一直都学不完。

- `2021年8月15日 22:15:39`

  怎么把知识串起来

- `2021年7月22日 01:41:10`

  题刷多少才够呢? 刷到有感觉就行了，差不多知道这些题该怎么做，把 codetop 上目标公司的 top 50 刷一下就行了

- `2021年7月6日 11:31:13`

  简历好难写啊，不懂怎么组织语言，要借鉴下别人的说辞才行，要不然不能发挥出自己的优势来

- `2021年7月2日 21:29:18`

  看着周边的同事拿到 offer，心里有点羡慕和紧张了

- `2021年6月27日 10:33:23`

  行动计划真的很重要，要不然就会自己瞎搞；也不要拖太久，一鼓作气，再而衰，三而竭；越到后面越麻木

- `2021年6月26日 00:47:51`

  运筹帷幄之中，决胜千里之外

- `2021年6月25日 10:19:19`

  简历最好放在准备阶段的中期，如果放太后面，签名准备的东西有的都忘了

- `2021年6月20日 21:36:52`

  写简历的时候头脑一阵混乱，对做过的项目难以做出总结，总觉得没什么技术含量

- `2021年6月16日 22:20:24`

  要知道所做的一切都是为了通过面试，而不是在舒适区内不能自拔

- `2021年6月13日 23:21:28`

  ==到底要准备到什么程度才可以啊==

- `2021年6月13日 19:31:10`

  一想到三四十 K 的薪资就又心动了，想想一年几十万，干个两三年直接全款，多爽

- `2021年6月05日 11:30:52`

  ==拒绝奇技淫巧，拒绝过于诡异的技巧，因为这些技巧无法举一反三，学了也不划算==

- `2021年5月21日 00:36:33`

  对面试会问的问题没有底，疯狂准备，准备多了，更没有低，不知道他会问什么，==是该练练手了==

- `2021年5月19日 23:32:07`

  - ==没有详细的规划==，做事情没有约束力，自身自制力有那么弱，很难做好事情

  - 尽可能细化，比如每天花在某某方面多长时间，这样完成一个专题大概需要多久，然后推测完成全部专题大概需要准备多长时间

  - 要不然，你准备了两个星期，最后发现啥进展也没有，那就目标无望了

  - 很多东西都是确定的，感觉时间估算应该很清晰啊

- `2021年5月8日 01:02:31`

  算法都已经准备过很多次了，特别是排序，唉

- `2021年5月5日 20:14:17`

  写得越多越会迷茫，感觉准备了很多东西，但是有感觉空空如也

- 识别最长路径，比如算法和数据结构这种靠平时积累的东西，总不能一直怕一直不动，到时候翻车了吧（项目管理中还是有点用的，到时候好好总结下）

- 越重要越难的越应该早点准备，排好优先级，这样后面还有时间查缺补漏

- 一定要有针对性，明确范围

- 算法和数据结构这么重要，为什么还不开始，如果从规划阶段就开始准备，现在也不至于这么怕吧

- 有突出点，比如网络知识方面比较突出，虽然没有分布式经验，但能被打个基础扎实的标签也是有优势的

- 回答问题、描述项目的时候尽量往自己的优势点引导，比如提一下 redis 的主从，一般面试官都不关心你项目有多复杂，而是想从你的项目里找点东西提问

- 面试官也只是例行公事，多给点他可以问的，问够几个问题，能达到他的面试预期就可以了，大家互相给台阶下

- 搞点图片会比较形象一点，不会太抽象不好理解

- 最难的还是数据结构和算法，只能靠平时积累的这两项

- 还是要有纲领性、指导性的思想、思路、计划；要不然做着做着不知道下一步要怎么办了，就会很容易半途而废；也并不是说随便立个宏大的目标就算完事了，肯定是要细化到每一项工作上的，包括该项工作的计划表、实施过程可能遇到的风险

- 第一阶段：确立了充满诱惑力的目标，然后充满斗志充满激情开始准备工作

- 第二阶段：准备了一段时间，觉得好无聊，很没意思；漫无目的的看，越走越偏

- 第三阶段：开始给自己找各种理由推脱，甚至有些抵触，认为自己懂了，这些题一看就很熟悉，一定没问题

- 第四阶段：开始幻想达成目标后的美好生活，自己可以给所有人炫耀这一结果

- 先过一遍全文，了解包含哪些内容，同时标记出那些事重要的，那些是遗忘的

- 写的太多并不是好事，打开一看那么多的文字，我都没心思看了

- 开始是成功的一半，这句话真没错，不敢开始才是最可怕的

- 最近部门也在招人面试，听到有些面试者都是 30+的，等我 30 多岁会是怎么样，那时候如果面试还是这个样子可不行

- 准备面试和学习要区分开来

- 有些基本内容一定要把握好，能拿的点确保不会丢

- 时间线拉的越长，越会懈怠，否则就越来越像《自控力》里说的 "虚假希望综合征" 了

# 施工记录

```log

## 202103

### 20210301 周

- 看雨神的面经，了解面试范围

### 20210308 周

- `MySQL` 必知必会基本整理看完

### 20210315 周

#### 任务

- 找 `redis` 的面试题集锦，梳理 `redis` 面试题分类

- 回顾上周内容，加强 `MVCC` 概念和 `MySQL` 的重点章节

#### 总结

- `redis` 基本过了一遍，但是集群、主从性能这几个项还没了解

- 星期六去加了一天班，星期天看不进去了，唉，fuck

### 20210322 周

#### 任务

- 找`操作系统`的面试题集锦

- 回顾上周内容，加强 `Redis` 重点章节

#### 总结

- 啥事没干成，耗了一星期在 bbc 优化上

- 周末喝酒

### 20210329 周

#### 任务

- 复习 `计算机网络` 题目

- 找 `python` 题目，把之前总结的 python 笔记看一遍

- 回顾上周内容

#### 总结

- 前面延期了，这周总结了下操作系统的知识点

- 感觉还是要有针对性，要不然看到什么题目都想多看两眼，按出现频率高低来排优先级

## 202104

### 20210405 周

#### 任务

- 复习 `c/cpp` 面试内容

- 趁着复习语言内容，看一下常用算法

#### 总结

- 正在看之前的 python 笔记

- 看 python 的吧，cpp 的有空再看看

- 能抽出来的时间太有限了，感觉做什么都力不从心，而且时间线越拉越长，越来越麻木，有时候看看 tx 面经，感觉差距还是蛮大的

### 20210412 周

#### 任务

- 计算机网络基础知识

- 算机网络编程知识

- 复习加强 `Mysql` / `redis` / 操作系统

#### 总结

- 说实话，看 `python` 会舒服很多，是我见识太短浅了吗

- 开始优点疲倦了，有双休都不想复习，只知道偷懒

### 20210419 周

#### 任务

- 数据结构必知必会

- 计算机网络基础

- 动态规划解题思想

- 看看 `cpp` 吧

#### 总结

- 看了一半计算机网络基础

### 20210426 周

#### 任务

- 对做过的项目做总结，总结出这个项目有哪些亮点，有哪些是可以拿出来面的

- 准备简历

#### 总结

- 把网络基础看完了

- 现在身上的工作真是让我无法抽身去做准备

## 202105

- 准备简历

- 总结做过的项目

- 找几个公司试水

### 20210503 周

#### 任务

- 还是先把网络部分补完吧

- 不能瞎搞，整个计划出来，算法和数据结构还是特殊一点的

- 有个五一假期，估计也没什么实质性的进展

#### 总结

- 算是把之前的网络基础和网络编程的总结看完了

- 开篇算法与数据结构

### 20210510 周

#### 任务

- 排序、栈、队列整理一下

- 有时间回顾一下操作系统、数据库、网络，查缺补漏

#### 总结

### 20210517 周

#### 任务

- 链表、二叉树整理一下

#### 总结

- 不用想了，链表、二叉树这么基础的肯定要拿的

- 剩余工作量
  - 链表
  - 二叉树
  - 堆排
  - 海量数据
  - 负载均衡、限流

### 20210524 周

#### 任务

- 每日一题

#### 总结

- 还行吧，开始了之后就好多了，一些链表基础题自己也能刷刷

- 比自己玩好多了，`leetcode`牛批

- 和腾讯大佬聊了下获取到的信息

  - 目前基本都招满了，`没有急招`的机会

  - 进来的`都要笔试`，有的是 `leetcode` 原题

  - 链表题不多，要关注下动态规划、字符串、二叉树

## 202106

### 20210601 周

#### 任务

#### 总结

- 刷了刷动态规划

### 20210607 周

#### 任务

- 背包问题

- 堆排

#### 总结

- 这周总结不出什么，感觉做了很多项目，到最后要总结的时候才发现，这些项目都没什么技术含量

- 开始研究下怎么写好简历，现在就到了六月底了，时间过得真快，感觉一个星期也没太大的进展，其他同事有的都已经面试好几家了，我却还没开始

### 20210614 周

#### 任务

#### 总结

- 一周就刷了下题，其他还没有，听说有同事拿到 offer 了，心里更急了

- 周日艰难地在写简历

### 20210621 周

#### 任务

- 熟悉下牛客网的面试系统

#### 总结

- 优化 BBC 的过程中想到的，记录一下：既然消息队列消费端缓慢，通过优化接口收益甚微，而且容易改动引发；之前也想到过，这个消息队列无法区分优先级、无法消息超时，所以现在类似集群的做法，多搞了一套 `ROUTER - DEALER` 消息队列，然后再 `db_client` 消息发送端`根据命令字做分流`，把重要的业务分流到这条新的通道上（其实就是一个新的 socket 连接），这样做可以确保重要业务不会因为一些次要业务的消息堆积而导致超时。

- 思来想去，想了好久，还没写好简历

## 202107

### 20210705 周

#### 任务

- 简历

- 做最后总结

#### 总结

- 森和俊都走了

- 简历差不多了

### 20210726 周

- 三个星期没更新了，这两周就刷题，但是感觉刷着刷着就麻木了，就像是故意让自己忙碌起来，觉得自己在位目标做着准备，实际上一点积极作用都没有

- 让朋友帮忙看了下简历，有些地方还要修改一下，尽量与自己准备的挂钩

- 不能再刷了，接下来看看 codetop.cc 上的高频题目

- 找一些练手的公司，赶紧热身起来

## 202109

- 2021 年 9 月 30 日 09:38:43

  这个简历实在不够看，每次都那 BBC 性能优化来说，这些优化技巧应该是开发者的基本技能；从项目中肯定是想知道你用过哪些技术、遇到过哪些问题难点；要不然给人的感觉就是项目简单，工作没难度，体现不出价值

```

# ★★★★★ 必考基础 ★★★★★

## Python

- GIL 锁

- 装饰器

  - 闭包的理解

- 生成器

- 迭代器

- 协程

- 垃圾回收机制

  - 引用计数

  - 分代回收

- 上下文管理器

  `__enter__、__exit__`

- 可变类型、不可变类型、鸭子类型

  数值、字符串、元组都是不可变类型

- 下划线的含义

- id、小整数

- datetime 模块

  ```py{cmd=true}
  from datetime import datetime
  dt = datetime.now()
  print(dt.strftime('%Y-%m-%d %H:%M:%S'))

  # 2022-03-17 19:01:47
  ```

- re 模块

## Cpp

- 四种类型转换

- 关键字

  - volatile

  - static

  - new / malloc

- 引用和指针的区别

- 面向对象

  - 虚函数

  - 虚函数和纯虚函数的区别

  - 多态的方式

  - 重载、隐藏、重写

  - 构造函数、析构函数

### Cpp11

- 智能指针

- 右值引用、完美转发

- `std::move`

- nullptr

- 委托构造

- 移动构造、移动赋值

### CPP-STL

- STL 包含哪些库

- vector

  - 扩容、缩容

  - capacity 和 size

- unordered_map、unordered_set

- 迭代器失效场景

## 数据库

### MySQL

- 锁和事务

  - 死锁怎么分析解决

  - 锁表锁行

  - 共享锁、排他锁、间隙锁、意向锁

  - 快照读的幻读是用 MVCC 解决的，当前读的幻读是用间隙锁解决的

  - 事务特性：ACID

  - 事务隔离级别

  - 脏读、幻读、不可重复读

  - MVCC、快照读、当前读

  - binlog、relaylog

- 索引

  - 索引分类

  - 聚簇索引、非聚簇索引

  - 密集索引、稀疏索引

  - 联合索引、前缀索引

  - 回表查询、覆盖索引

  - 为什么不用哈希做索引

  - AVL 树、B 树、B+ 树、红黑树

  - B 树、B+ 树的对比

  - 用不到索引的几种情况

    - like 模糊匹配时，通配符 % 的位置

    - 索引列存在数学运算

    - 索引列存在函数运算

    - 索引列存在隐式转换

    - 不按联合索引创建顺序

    - order by 的列在 where 中

    - <>、is not null、!= 等不等于运算

  - 最左匹配原则

  - 索引下推

- SQL

  - varchar 和 char 的区别

  - 分析是否会用到索引

  - limit 20000, 10 的问题

  - 左连接、右连接

  - 聚合、having、where 三者优先级

  - `select 1, select *, select file` 的区别

- 主从同步

  - 主从同步原理

  - 主从同步方式

  - binlog 录入方式

  - binlog、relaylog

  - 主从时延如何解决

- 分库分表

  - 为什么要分库分表

  - 怎么分库分表

### Redis

- 五种数据结构

- Redis 为什么快

  - 为什么快

  - Redis6.0 为什么要引入多线程

- 持久化机制

  - AOF

  - RDB

  - bgsave 和 save

  - AOF 重写 bgrewriteaof

- 缓存应用

  - 缓存穿透

  - 缓存击穿

  - 缓存雪崩

  - 数据一致性问题

- 过期策略

- 内存淘汰策略

- 主从同步

  - 同步原理

    run_id、偏移量、repl_back_buffer

  - bgsave、bgrewriteaof

- 哨兵和集群

  - 选举

  - Cluster

## 计算机网络

### 网络基础

- 三次握手、四次挥手

- TCP 状态迁移

- TIME_WAIT、CLOSE_WAIT

- TCP 和 UDP 的区别

- `可靠性机制`

- 流量控制

- 拥塞控制

- 拥塞避免算法

- RST 的作用

- HTTP 版本

- HTTP 错误码

- SSL 握手过程

- 粘包问题

### 网络编程

- `connect、accept` 和 TCP 状态的关系

- 五种 IO 模型

- select

  - 优缺点

- poll

  - 优缺点

- epoll

  - 两种触发模式的区别

  - 如何解决 select 的三个问题

- select 和 epoll 的区别

## Linux 操作系统

- 系统负载 top

### 进程线程协程

- 进程间通信

  - 匿名管道

  - 命名管道

  - 消息队列

  - 共享内存

  - 信号量

  - 信号

  - socket

- 进程状态

  - R

  - S

  - D

  - Z

- 线程同步

  - 临界区

  - 信号量

  - 互斥量

- 线程从进程中共享了什么资源

- 协程

### 虚拟内存

- Linux 虚拟地址空间

- 内存对齐

- 溢出和泄露的区别

- 零拷贝

- 写时复制

- malloc / new 原理

- EAGAIN 等几个错误码

## 数据结构与算法

- 堆排、快排、归并

- AVL 树、B 树、B+ 树、红黑树

- 哈希表

- 堆

## LeetCode

- 递归

  - 在数组中的应用

    快速幂

  - 在链表中的应用

  - 在二叉树中的应用

- 二分查找

  - 矩阵中查找

  - 旋转数组中查找

- 双指针

  - 归并排序

  - 滑动窗口

- 动态规划

  - 股票系列

  - 打家劫舍系列

- 前缀和数组

- 哈希

  - 多数元素

  - 常位词

- 二叉树（递归）

  - ▲ 各种遍历方式（DFS、BFS）

  - 重建二叉树

- 单调栈

  - 接雨水

  - 每日温度

  - 下一个更大的元素

- 单调队列

  - 滑动窗口最大值

- 优先队列

  - TopK

  - 合并 k 个升序链表

- 链表

  - 链表排序

  - 双指针的应用

- 模拟题

  - 整数反转

  - 矩阵遍历

- 数据结构设计

  - 实现 strstr

  - LRU

  - 最小栈

  - 链表

  - 栈实现队列

  - 队列实现栈

  - 哈希映射

## 海量数据处理

- 位图

- 布隆过滤器

- 哈希

- 归并

- 分治

## 系统架构

- 消息队列

  - 重复消费

  - 丢失

  - 顺序性

  - 幂等性

  - 堆积

- 限流

  - 计数器

  - 窗口

  - 滑动窗口

  - 漏桶

  - 令牌桶

- 负载均衡

  - 负载均衡方式

  - 负载均衡策略

  - 一致性哈希算法

- session 一致性

- 全局唯一 ID

- 分布式锁

- 分布式系统中接口顺序性

- 分布式系统中接口幂等性

- 秒杀、考察高并发

# 过程记录

## 目标岗位

- 随便什么岗位能进再说

- 其实我是不太喜欢用 C++ 来工作的，更喜欢用 Python，但是 Python 的岗位数量、薪资水平等都不如 C++；相对来说 golang 是一个折中方案，所以希望能找入职之后需要转 golang 的岗位；再者，算法和没有分布式经验确实造成了不少麻烦

- 如果只是想进的话，就要在岗位选择上做一些牺牲了，尽量避开挤破头的；有些岗位只要一两个人，挂了好几个月都还没招到，可见难度有多大；网上口碑差一点的、人人怨声载道的岗位倒是可以去试试

## 面经

- 列出第一、二、三阶段面试的公司，第一阶段是用来练手的，第二阶段是中厂保底的，第三阶段是想去的，然后在 Boss 直聘上开始找合适的岗位海投

- 那种刚发布没多久的岗位成功率会高一点，挂了很久的岗位都是供不应求，要求也会高一点

### 商汤

### 易捷讯

### vivo

#### 20210903 高级后台开发工程师（消息云服务平台方向）

[高级后台开发工程师（消息云服务平台方向）](https://www.zhipin.com/job_detail/7c8cfd2b359ed2ac1nZ739u0F1FX.html?ka=geek_chat_job_detail)

##### 背景

- 2021 年 9 月 3 日 20:24 - 2021 年 9 月 3 日 19:30

- 两个面试官对着我简历一通翻

##### 面经

> 记录一下吧，问的我都不懂。。。

- lambda 底层实现

- C++ 类函数类型有哪几种

- C++ 对象内存模型

- C++ 虚函数表存在哪里

- 虚析构

- new 和 malloc 的区别

- new 怎么知道要分配多大内存

- malloc 是怎么分配内存的

- free 怎么知道要释放多大内存

- free 一个对象数组？

  好像是问 delete test[]; 那一套，为什么要加 [] ，如果不加会怎么样

- ==STL 有哪些==

- 红黑树有什么特点

- 为什么是红色和黑色？

- 你们 MySQL 版本是多少？部署过主备吗

- MySQL 主从同步的方式

- relay_log 是什么

- 间隙锁的作用

  用来解决幻读的

- 意向锁会冲突吗

- MySQL 有哪些锁

- 聊项目

- 怎么发现哪里耗时？

  我说 cprofile 可以打出来，面试官说那如果是 c++ 程序呢？我所 打点、pidstat、top、strace、火焰图

- ==MySQL 写 qps 多少==

  我说数据库不是瓶颈，主要是业务接口的 qps 比较低..

##### 反馈

- 你们是面向企业的，不是面向客户的，没高并发的经验（集群、分布式这些都没有）

##### 结果

### Shopee

- [虾皮社招官网](https://app.mokahr.com/apply/shopee/2963#/jobs?zhineng=9055)

- [虾皮面经](https://github.com/Jun10ng/Gache/blob/master/shopee.md)

#### 20210903 高级后台开发工程师

- [高级后台开发工程师](https://www.zhipin.com/job_detail/6f71ab1be28f21d90HB839i4FlM~.html?ka=geek_chat_job_detail)

##### 背景

- 时间: 09 月 03 日 15:30 - 9 月 3 日 17:02

- 形式: 视频面试

##### 面经

- 自我介绍

- 聊项目

  过程中一直在对我们的架构提出质疑（确实很垃圾）

- 先来了三道 SQL 我是没想到的

- 有索引 `(a, b)`，这个语句会用到索引吗？

  - `select * from test where a > 1 and b = 2;`

  - `select * from test where a = 1 and b = 2;` 这个呢

- 给了一张表，让写了几个语句

  用到了 order by; group by; having count

- 问 `count(1)` 和 `count(*)` 和 `count(age)` 的区别，什么场景下他们有区别

- `group by` 可以和 where 一起用吗？和 having count 有什么区别

- [151. 翻转字符串里的单词](https://leetcode-cn.com/problems/reverse-words-in-a-string/description/)

  真实写和自己私下写还是有很大差别的。。。一些细节上一直在调试

- MySQL 聚簇索引和非聚簇索引的区别

- 索引覆盖、最左匹配原则

- 索引下推

- 二叉树和 B+ 树的区别

- 智能指针 auto_ptr 有什么问题

- 为什么要用虚析构

- select 和 epoll 的区别

##### 反馈

- 自我感觉不是很好，没想到会被问到 SQL

- 问 二叉树和 B+ 树的区别、索引下推、auto_ptr 也是一脸懵逼

- 终于让我看到了一条做过的题目，思路知道，就是写的时候很多细节没处理好，调试了挺久

- 而且像 epoll 原理、聚簇非聚簇这几个点最近刚想补充一下，结果被问到了

##### 结果

#### 20211222 生活服务后端开发工程师

[生活服务后端开发工程师](https://www.zhipin.com/job_detail/7d53a518877e26d21nJ72tW5FFdY.html)

##### 背景

- 时间: 2021 年 12 月 22 日 15 点 00 分 - 16 点 10 分

- 形式: 虾皮自己的面试平台（很垃圾，经常断线或没声音）

##### 面经

- 自我介绍

- 说说你的项目

- 一千万个数字中找 Top K

- 如何判断链表是否有环

- 问堆排实现细节

- 什么是大根堆、小根堆

- 插入一个数据到大根堆，会怎么样

- 堆的数据结构是怎么样的

  堆不需要用二叉树的结构，用数组就行了，根据节点关系来访问

- 什么是聚簇索引和非聚簇索引

- 一定要有聚簇索引吗

- 可以不用递增 ID 作为主键吗，为什么

- MySQL Innodb 和 MyISAM 的区别

- 如何实现行锁

- 你知道 MySQL 有哪些日志

- binlog 和 relaylog、undolog 和 redolog 的场景

- redolog 保存在哪

- 来问问网络吧， HTTP 302 错误码

- 重定向和转发的区别

- HTTP 和 HTTPS 的区别

- SSL 握手过程

- 服务端返回的证书内容包括什么

- 说说你的 DAP_ORM 项目吧

- 你怎么保证其他开发人员用你的这个框架呢

  - 我是做代码 review 的，遇到乱搞事情的，会指出来

  - 向 DAP 的部门推介了这个框架，把框架放到公司代码仓库，一起来维护

- 这个 DAP_ORM 除了易用性意外，还有其他的吗？像 Python 的众多 ORM 框架，是有做注入防护和优化的

  有，用到 Redis 来做排序和分页

- 留了 25 分钟，来做道题吧 [239. 滑动窗口最大值](https://leetcode-cn.com/problems/sliding-window-maximum/description/)

  吓我一跳，这不困难级别的吗，还是单调队列的典型题，gg

  只闻其名，没看过单调队列，用优先队列算了

##### 反馈

- 面试官

  - 基础还 OK 的

  - 这边做的有点像 美团 那种

  - 而且用的是 golang 语言（怪不得一句没问 C++）

- 自我感觉

  - 感觉还好吧，前面一开始挖排序细节还是有慌的

  - 八股还好，问到的都复习过

  - 没想到会考这道题，前面准备的链表和数组多一点，编码还不是很顺畅，继续加油吧

##### 结果

pass

#### 20211228 生活服务后端开发工程师 Ⅱ

[生活服务后端开发工程师](https://www.zhipin.com/job_detail/7d53a518877e26d21nJ72tW5FFdY.html)

##### 背景

- 时间: 2021 年 12 月 28 日 16:00 - 2021 年 12 月 28 日 17:03

- 形式: 虾皮的面试系统太卡了，所以电话

##### 面经

- 自我介绍

- 没聊项目，对着你说的工作内容猛怼

- 开放题：秒杀系统需要考虑什么

##### 反馈

- 没在互联网做过，对互联网的知识了解不太够

- fuck

##### 结果

gg

### 腾讯

#### 腾讯事业群

> wxg、ieg、teg、pcg、cdg 一般这么排

- [腾讯六大事业群介绍](https://zhuanlan.zhihu.com/p/164882387#%E8%85%BE%E8%AE%AF%E5%85%AD%E5%A4%A7%E4%BA%8B%E4%B8%9A%E7%BE%A4)

- [腾讯招聘官网](https://careers.tencent.com/zh-cn/home.html)

#### 20210821 28600-微信支付商户后台开发工程师

[28600-微信支付商户后台开发工程师](https://careers.tencent.com/jobdesc.html?postId=1407234067555950592)

##### 背景

不知道哪位帮我投了这个岗位，哪天突然接到 HR 电话，说没联系上我，就直接约了周六面试了（周六？）

- `时间`

  `2021年8月21日 19:30 - 2021年8月21日 20:35`

- `形式`

  微信自己的面试平台，有代码编辑器（支持语法体系、补全）、画板、视频等，功能还是很全面的

##### 面经

- 先来自我介绍一下

  说了基本信息、说了集中管理平台的作用（然后他就来兴趣了，他好像对我们的策略模板配置管理功能挺感兴趣）

- 你上一份工作是做什么的

  平安证券后台系统

- 为什么离职

  我说金融系统都比较保守，不会轻易尝试换架构，都是以稳定为主，技术氛围不行，对于刚毕业没多久的我来说，不利于自己的发展，于是想出去看看机会

- 那我们也是做金融的啊

  我说微信支付和平安证券还是有很大差别的，（被他绕进去了，我想说的是，我不是不喜欢这个行业，而是不喜欢这种技术氛围）

- 说一下你们的配置下发流程是怎么样的

  - 说了我们是 C/S 架构事件驱动模型，产品线会装我们的一个 SDK，然后我们中心端会像产品线发命令，让产品线来取

  - 说了不同的业务会用推和拉两种不同的方式，推的方式就是集中管理平台向产品线发命令，告诉他上来取配置

  - 说了比如配置同步这一块是由集中管理平台主动推的

- 先来一道题：给定一个数组 `[2, 3, 1, 2, 4, 3]`，找出和大于等于目标值 7 的长度最小的子数组，输出为 2，因为 4 + 3 = 7

  > [209.长度最小的子数组](https://leetcode-cn.com/problems/minimum-size-subarray-sum/description)，用到滑动窗口技巧，这时候还不知道这玩意。。。感觉我对这些技巧什么情况下使用还不够了解；有一点，我没审对题，题目只要长度，不要具体哪个子串，浪费了点时间

  - 想了下动态规划能不能做，感觉有点像最长递增子序列?

  - 好像不行，没说是递增的

  - 有点像两数之和

  - 算了，直接暴力吧

  - 写了一会儿，基础用例过了后，面试官就说，要不你说说你的想法吧，我就说动态规划、或者回溯，他就问回溯怎么做，说了回溯的解题基本思路，他又问，还有没有其他想法（估计等着我说滑动窗口了）

  - 那说一下你这个方法的时间复杂度吧，我说套了两层循环，是 O(n^2)

- 我看你代码里用到了 `vector`，vector 有什么缺点吗（？忘了，好像是问这个）

  - 说了 vector 是一个动态数组，有长度限制，当超过分配的内存的时候，需要重新申请内存，一般是原大小的两倍，然后把原来的数据拷贝过去

- 还有别的方式处理这种情况吗？比如只分配了 10 个元素的空间，现在已经用了 10 个元素了，怎么办

  > 和最终面试官的反馈一样，他确实是希望得到多种可能的方案

  - 我本来想说换个数据结构的，比如用链表，跟面试官确认后，他的意思是还是用 vector，然后怎么解决

  - 我说 vector 保存一个结构体指针，然后结构体里可以放很多的数据，就不受到这个限制了

- 我看你代码里用了 `auto`，用 auto 和不用 auto 的区别是什么

  说了 auto 会自动推断类型，对于比较复杂的类型使用起来会比较方便

- 那这个推断类型是在那个阶段，说说你这几行代码到最终可执行程序，中间经历了什么

  > 想不到会问这个，编译运行过程我都快忘了，是因为我简历上写了这个？

  - 说了预处理阶段，会把 include 的东西带进来、会进行宏替换、内联函数展开

  - 说了会链接基础的库，他问我你这个程序用了哪些库？我说基础的 c++库，比如 libstdc++ 还有 IO 库。。。

- 说说你们的配置下发流程是怎么样的

  > 我想把他引导到优化那里，或者是数据库中间件那里的，但是好像他对这个很感兴趣

  - 先给他一个概念吧，我们的功能是干什么的，配制是怎么管理的

  - 说了我们会遇到的问题，即，集中管理平台是做所有产品线的配置管控的，原先的做法是，我们用产品线给升级包进行升级，升级包中包含了这个产品线的配置页面，然后在集中管理平台上打开页面进行配置

  - 说了这种模式的缺点，就是耦合度太高；所以我们改用了 docker 的方案，产品线给我们一个镜像，然后我们处理拉起容器等管理操作

  - 我们拉起一个容器，客户在页面上进行操作，操作结果就是产生配置文件，配置文件所在目录会挂载在宿主机的磁盘上，然后下发的时候直接去这个持久化目录下面取

- 版本不一致的时候怎么升级的？配置回滚怎么做的？

  - 我说版本不一致是指配置的版本还是说产品线的版本

  - 如果是配置的版本，可以打开配置页面（拉起容器），然后进行配置，配置好下发的时候，产品线负责配置生效，比如配置平滑

  - 如果是设备版本，比如 A 设备关联了 4.0.1 版本的配置，然后 A 升级到了 4.0.2，这时候会触发一个分化的操作，把这台设备的 4.0.1 模板升级到 4.0.2

- 这个配置升级是怎么做的

  我说产品线会给我们新版本的镜像，我们会起一个容器，然后把新版本的镜像解压到这个容器里，再把这个容器导出成为新版本的镜像

- 说说有哪些具有挑战性的

  - 说了集中管理平台优化项目，但是问的不多，我主要还是说了数据库中间件这个模块的优化

  - 我说我们的的前端操作、后台服务操作等所有的数据库操作都会由数据库中间件来完成，数据库中间件再去操作数据库

  - 然后大批量设备上线的时候，比如数据上报，就会发起很多的数据库操作请求，这些操作全部堆积在数据库中间件的消息队列里面，数据库工作进程处理得太慢

- 面试官抢问：你们为什么不做主从？主库用来写，从库用来读，这种信息上报的主要是写操作吧？

  - 我说会的，然后说我们平台也是一台主机（垃圾玩意。。。）而且只运行了一个 MySQL 实例，后续版本迭代会用上主从；而且主库从库之间的时延也是可以接受的

  - 通过关键节点打点的方式，比如向数据库中间件发起操作前、数据库中间件接到消息时间点、数据库中间件真正开始业务处理得时间点，最终定位出时间消耗在数据库中间件消息排队上了

  - 然后我们还写了个工具，每次有请求经过数据库中间件，都会对外发布统计结果；然后写一个订阅者来订阅这些结果

  - 最终拿到数据进行整理，得到哪些接口的请求时间、请求频率等信息

  - 优化方向是横向扩展和纵向扩展

  - 纵向的话，就是优化工作进程，提高工作进程的处理效率，由于是采用 Python 写的，而且代码没有用上协程，如果有一个地方不用协程进行切换的话，真个流程都会堵着，所以我们会对其中的业务代码进行优化，比如在循环里进行耗时操作这种要优化掉，比如 SQL 语句写得慢要优化掉，Redis 操作慢的要优化掉（我还以为 MySQL 有的一战呢，结果没问什么）

  - 横向的话就是业务分流，主次业务走不通的通道，避免次要业务请求的堆积导致主要业务的超时，等等

##### 反馈

- `缺点`

  > 面试官比较委婉，没说什么缺点，说了下他的面试过程中会看的重点

  - 考察简历的真实性

  - 对自己的业务是否熟悉

  - 学习能力、对自己负责的系统的理解能力

  - 是否有方案决策的能力，就是 A 方案不一定是最好的，我们还可以用 B 方案，但是目前因为什么原因用的是 A 方案

- `优点`

  - 沟通能力没问题

  - 对自己的业务很了解（他说至少给他讲明白了）

  - 学习能力是 OK 的

##### 结果

没通过（短信通知）

#### 20210901 TME-QQ 音乐搜索后台开发工程师

- [TME-QQ 音乐搜索后台开发工程师](https://www.zhipin.com/job_detail/de930cdbfc6567871nN_3NW_GFNX.html?ka=geek_chat_job_detail)

##### 背景

- 时间: `2021年9月1日 19:30:00 - 2021年9月1日 20:53:00`

- 形式: 腾讯会议 + 牛客网

##### 面经

- 自我介绍

  哪年毕业的，毕业后在哪工作，工作中负责什么

- 挑一个项目来讲

- 有没有考虑过用分布式这种架构来解决你的多台设备信息上报的问题，比如 1 - 5000 ID 号的设备就由平台 A 进行处理

- 介绍了下项目背景、项目目标、问题分析

- 说了是先理清楚整个业务流程，然后在组件之间打点，得到需要优化的性能瓶颈

- 介绍数据库中间件的作用、瓶颈在哪，纵向优化，找出需要优化的业务接口、分析代码、看是业务逻辑写得差还是说 SQL 写得不好

- QPS 多少？为什么这么少

  随便说了个数、然后说这么少是因为我们中间件后端使用 Python 写的，Python 有全局解释锁无法发挥多核性能，而且业务上阻塞的，一个工作进程只能处理一个接口；还说到有些业务逻辑写得比较差，比如选用的数据结构不合理、SQL 写得不好

- 为什么要用 Python 呢

  我说数据库请求包括前端页面的请求已经后台服务的数据库请求，我们用 Python 一个是因为 Python 有 ORM 库，可以很方便的操作 MySQL，而且对于相同的业务，我们只需要写一份代码就可以了，开发效率也比较高

- SQL 不应该是瓶颈啊，哪些字段需要加索引这些在做的时候就应该设计好了，而且 SQL 优化的二三十毫秒对整体性能来说提升并不大

  我说是的，由于代码的历史包袱比较重，有些很不合理的操作，比如在循环里面进行一些耗时操作，就需要优化掉，然后这部分因为涉及到的业务比较多，而且面也比较广，对整体的性能提升不是很明显，所以后面在此基础上，进行横向扩展；

  横向扩展的话就是增加工作进程数量，提高工作进程的消息消费速度，避免消息队列堆积太多的请求；增加了工作进程后，效果也不是很明显

- 增加工作进程效果应该比较明显才对啊

  > 这里没说明白，应该表达的是即使增加了工作进程，消息还是非常多，而且是对部分业务没有好转，因为增加的进程都去处理其他次要业务了

  我说效果不是很明显，一个是因为 Python 的 GIL（面试官:GIL 也可以通过其他的库来解决啊），一个是因为业务是阻塞的，对于 16 核的设备，几时增加到 16 个进程，这个的效果其实也不明显

  所以我们就采用了一个业务分流的做法，就是重要业务和次要业务区分开

（项目差不多就这样吧，反反复复就这些）

- 我看你熟悉 Python 和 C++，那我问你一些 C++ 的问题吧，你熟悉 STL 吗？或者说 STL 是什么

  标准模板库，就是一些成熟的库，最终放到语言里面去了

- STL 库包含什么

> 其实还有内存分配起、适配器、函数对象，但是平时真没用到过

容器、算法、迭代器（想不出来了，面试官说没关系，）

- STL 容器你知道的有哪些

  vector、list、priority_queue、queue、map、set

- 说下 vector 和 map 的区别

  > 这里真的是，想到什么说什么了，不够系统

  说了 vector 是顺序存储的，当超过容量的时候会重新分配内存，然后把旧数据拷贝过来，插入效率比较低

  map 是关系型容器，有 unordered_map、map，map 底层实现是红黑树，unordered_map 是哈希

- map、unorderd_map 的查询时间复杂度是多少

  > 这里真不知道，随便说了

  map 是 O(nlongs)，unordered_map 是 O(1)

  （好像还问了其他的，不记得了）

- 你是在 Linux 环境下开发吧，你知道用户态和内核态吗

  > 这里连续问了几个问题，答完第一个，后面的问题都记不起来了

  - 说了为什么要有内核态、用户态；内核态用户态的区别

  - 还多余的得说了信号是如何传递，内核 把信号处理函数的地址放在用户栈栈顶 ，当进程从内核返回到用户态时最先弹出信号处理函数地址，于是就去执行信号处理函数了，然后再弹出，才是返回进入内核时的状态

  - 说了系统调用、IO、异常、中断、信号等，会陷入内核态

- 说说 Linux 的 IO

  > 面试官想问的好像不是这些

  说了阻塞 IO、非阻塞 IO、IO 多路复用、异步 IO（我寻思着不是五种吗？还有一种是啥，信号驱动没说）

- 说说这几种 IO 的区别，实现

  - 说了 IO 需要经过两个过程，数据从网卡或磁盘拷贝到内核、数据从内核拷贝到用户态

  - 说了阻塞 IO、非阻塞 IO（基本都说的差不多，阻塞就是会等两个过程都完成；非阻塞就需要不断轮询）

  - 说了 IO 多路复用复用的是系统调用，原来监控一个套接字就需要进入一次内核态，现在一次可以监控多个套接字， IO 多路复用，复用的是系统调用。通过有限次系统调用判断海量连接是否数据准备好了

  - 说了 select 跨平台、有最大文件描述符限制、需要改内核来调整这个参数、说了需要把套接字集合在用户态和内核态之间整体赋值、说了需要遍历才知道哪个套接字准备好了

  - 说了 pool 解决的是 select 的容量限制的问题，通过链表

  - 说了 epoll 解决了 select 的三个问题，低版本的内核底层采用的是哈希实现，高版本的改用红黑树 （==忘了提一下边缘触发、水平触发，而且这里想说原理的时候一时也想不起来==）

- 来做题吧

  面试官发了两个牛客网的链接过来，因为我登着账号，所以链接上直接就有我的答案了。。。尴尬，还好还没共享屏幕

  - [206. 反转链表](https://leetcode-cn.com/problems/reverse-linked-list/description/)

  - [剑指 Offer 40. 最小的 k 个数](https://leetcode-cn.com/problems/zui-xiao-de-kge-shu-lcof/)

- 第二道题，可不可以通过排序来解决，就尽量不要用语言或框架自带的库，就只用 vector 可不可以

  > 牛客网上面都写了分治。。。

  我说，可以初始化一个只有 k 个元素的 vector，然后像选择排序一样，从后面选择最小的数值进来，选够 k 个数

- 那如果 k 是 `1/2*n` 的话，或者说是 n 的话，你这个时间复杂度是多少

  我说因为每次都要遍历一遍原序列，是 O(n^2)

- 再想想有没有其他的方法

  > 我知道要用分治，但是怎么跟面试官说呢？这个过程

  简单描述了下流程，就不断的二分下去，比如 `[4, 5, 1, 6, 2, 7, 3, 8]`，不断对半分，`[[4, 5, 1, 6] [2, 7, 3, 8]]` ==> `[[4, 5] [1, 6]] [[2, 7] [3, 8]]`那么 4 5 中最小的是 4，1 6 中最小的是 1，然后再在 1 4 中去取最小的是 1（然后面试官就知道我想表达的内容了）

- 归并排序的时间复杂度是多少

  O(nlogn)

- 还知道有哪些排序算法吗

  冒泡、选择、插入、快排、堆排、归并等等

- 说一下这些排序算法的时间复杂度

- 对于这道题，用哪个算法会比较好

  > 这里我错了，忽略了题目要找的是 TopK，直接就脱口而出归并了

  然后说快排的效率跟基准有关那些、堆排需要不断调整节点，保持堆特性

- 最后再来了一道思考题，16G 内存的机器，如何对 100 亿 个 QQ 号进行排序

  这里我说先用哈希，mmap，把大文件哈希映射到小文件

  然后再对小文件做归并排序

- 大致方向是对的，能说的详细一点吗？比如哈希映射，那每个小文件存放多少个 qq 号，如果使用 int64 存储的话，就是一个号码占 8 字节

  > 这里乘错数了。。。

  一个就 8 字节，1k 就可以存储 125 个，`100 * 1000 * 1000` （计算大概量级）

- 这个知道大概多少量级就行了，因为我们这里也没有考虑程序自身数据结构的占用，那假设是 10 个文件，一个 10 亿，下一步怎么处理呢

  > 面试官说看出来我卡在哪里说，因为我的想法是大文件拆分成小文件，但是小文件最终合并合并还是会很大啊，这可怎么办

  面试官说，小文件合并是对的，我们也不需要一次读入整个文件，可以通过文件指针来读取，比如一次处理两个文件的一千行数据，一个文件处理完了，又处理下一个文件

- 其实还有一种方法是可以把整个文件映射进来的，通过一些特别的数据结构

  - 我说是通过 mmap 映射文件处理，以及位图做压缩吗？（这时候终于想起这玩意儿了）

  - 我说即使是位图，虚拟内存空间一共 16G，也无法一次性完全读完进去呢（这里算是发散了，面试官也没抓住细问）

  - 面试官说是一些比较特别的数据结构，也不需要考虑虚拟内存不够的问题，就可以一次性映射进来

##### 反馈

- C++、STL、Linux 基础都不错

- 这次面试主要考察了排序算法，不仅要会写这些算法，还要知道他们的区别，什么时候该选用什么样的算法（唉，那道题忘了说是要 TOP k 的，居然说用归并。。。）

- 项目的话，一些实现细节和流程都很清晰；但是不知道是不是因为你们的历史包袱比较重还是说业务问题需要迭代优化，感觉优化的点不够深入，没有从架构、方案选型上去做改变（前面好像有聊到过会做分库分表、读写分离的操作，但是从面试官的感觉来看的话，这点项目优化的不够）

- 这个面试官还是很不错的，人也很好，整个过程下来感觉都很舒服，而且有些问题也会互相交换想法，每个问题都有考察点，并不是那种走流程一样的面试（希望有个结果吧）

##### 结果

没反馈

#### 20210816 TME-QQ 音乐商业化后台开发工程师

[TME-QQ 音乐-商业化后台开发工程师](https://www.zhipin.com/job_detail/304f561a63c0dcca1nJz0t65EFpV.html?ka=geek_chat_job_detail)

##### 背景

- 出差招商局回来都晚七点十六了，吃了个八宝粥就开搞了，等到晚八点多一点面试官就进来了，后来腾讯视频会议网络太卡，换成电话面了

- 时间

  20210816 晚 8 点 - 20210816 晚 8 点 39 分

- 形式

  腾讯视频会议，后来发现太卡了，换成电话面试了

##### 面经

- 先自我介绍一下

  我说我哪年毕业的，现在在深信服是做什么的，还说了集中管理平台的作用

- 熟悉哪些语言，会 C++？ 好，那就问你 C++

  我说主要用 Python 和 C++，（其实问我 Python 会好点。。。）

- C++ 虚函数的作用是什么

  说了虚函数表，说了对象有虚函数指针指向这张表，说了继承的情况下，父类的虚函数会放在子类虚函数表里面

- 父类指针指向子类对象，然后调用函数的情况

  说了覆盖，说了多态

- 子类对象指向父类对象、会调用那个函数？什么鬼，听不懂题意

  没听懂，很尴尬。。。

- volatile 关键字是做什么的，它和其他原子性有什么区别

  - 多线程里，volatile 修饰的关键字变了其他线程会知道

  - 说了每次访问都会重新从内存读取这个变量的值

  - 说了不能实现原子操作，理由是这个也是从内存去取数据，不能避免 i++、++i 不是原子操作的问题

- 结构体字节对齐说一下

  - 平台移植、访问效率、节省空间

- STL map 底层是什么实现的

  - 说了 map 是红黑树；unordered_map 是哈希

- 红黑树有什么特点

- 最小的元素存放在红黑树哪个节点

- 快排、堆排的时间复杂度

- 快排和堆排，你会选择用哪个

- 说说你对 Linux 虚拟内存的理解

  > 这里说得比较乱了，应该包含 `为什么要有虚拟内存`、`什么是虚拟内存`

  - 说了虚拟内存就像网盘空间一样，说给你 1T，实际上并没有实际分配 1T 给你，但是你要用的话也可以

  - 说了 malloc 申请的是虚拟内存，在使用的时候才会实际分配物理内存

  - 说了每个进程都会分配一个 4G 的虚拟内存空间

- 如果 A 发个请求给 B，B 没收到，你会怎么进行排查，中间没有复杂的网络拓扑

  - 说了要了解网络拓扑，中间有没有防火墙什么的。。。（唉，深信服待久了。。。面试官都懵了，说我们就是一个简单的局域网）

  - 说了 B 的滑动窗口设置太小了（面试官：窗口？）

  - 说了问题定位方法，在 A 端、B 端分别抓包，看是 A 没发出去，还是 B 没收到，如果 B 收到了，在分析 B 这边的问题

  - 然后就没了。。。

- 如果有一个进程 CPU 占用很多，你怎么排查

  > 这个应该包含通过 `pidstat` 进行 CPU 采样，分析出 CPU 主要消耗在哪个阶段

  - top 看一下资源占用

  - strace 看一下系统调用，了解那个过程比较频繁

  - 然后去代码进行分析，看是不是业务导致的，或者是代码写得有问题

  - （感觉这个问题没回答的很好，面试官不是很满意）

- 《集中管理平台优化》项目说说你是怎么优化的

  - 首先讲一下我们的场景和需求

  - 然后讲了 db_service 的优化

- 《中登账户数据核对》项目讲一下

  - 同样，先讲一下项目背景和业务需求

  - 讲了用 mmap 来处理大文件（我以为这是个考点，面试官没有追问）

  - 讲了项目的具体流程，我说先把 dbf 文件读入，然后按照 客户为一信息作为键，客户信息作为值，把客户信息进行哈希映射保存到文件里；然后同样从数据库里也查出所有的用户信息，然后做哈希映射；在保存值的时候，就去文件里找，如果能找到一样的，说明用户信息没问题，然后从文件里删掉这个客户信息；最后剩下来的就是有差异的客户信息了

  - 面试官问，怎么知道这个差异数据是数据库的有问题还是文件有问题，我解释了一下，这个模块的作用就是比对出差异数据，后续有业务同事拿这份数据上报给交易所

- （项目环节没什么问题，第一个项目里面说到的业务分流、横向优化、纵向优化面试官反馈挺积极；第二个项目面试官问了个问题，但这个可能我没描述好背景，说了之后就没追问了）

##### 反馈

- `缺点`

  - 互联网涉及得比较少（我说我也有做过大数据量的项目，也懂得处理方案，但是面试官可能见我简历里没这些东西，就没问，直接给出这个评价了）

  - 底层技术，像 C++、算法、网络研究得不深

  - 说会进行综合评价的（还是比较委婉的，语言和算法这一关没好印象，唉）

- `优点`

  对自己的项目、业务很了解，分析出问题、排查问题的方向也正确

- `其他`

  - 这个岗位职责是做 QQ 音乐的商业化、营收

  - 我们这边已经逐步转 golang 了，你觉得换 golang 会有问题吗

  - 然后就是如果有后续的话，会有其他同事来找你面试的

##### 结果

没后文

#### 20211014 TME-QQ 音乐运营后台开发工程师

> [TME-QQ 音乐运营后台开发工程师](https://join.tencentmusic.com/social/post-details?id=11048)

##### 背景

- 时间：2021 年 10 月 14 日 19:30 - 20:30

- 形式：电话面试

- 面到 20:22 的时候，面试官听不到我说话了，我能听到

##### 面经

- 自我介绍，讲讲你负责的项目

- 实现多态的方式

- 运行时多态是如何实现的

- 虚函数表存在哪

- 虚函数表是怎么样的，即单继承、多继承时，虚函数表的存储情况

- 子类存储的是虚函数表还是虚函数表指针

- 基类指针转成子类 `dynamic_cast` 会做检查，这个是怎么实现的

- STL 包含什么

- move 函数了解吗

- 说说数组和 vector 的区别

- vector 扩容是怎么做的

- vector 缩容了解吗

- 有没有办法用 vector，但是又能尽量避免扩容

- map 底层实现

- 红黑树是怎么实现减少旋转的

- 解决哈希冲突有什么方法

- STL map 使用的是哪种方法

- 随着冲突数据增加，拉链法的链表也会越来越长，性能退化成 O(n)，有什么办法优化到常数级别吗

- nullptr 和 NULL

- 智能指针了解吗

- shared_ptr 的相互引用怎么解决

- TCP UDP 的区别

- TCP 可靠性手段

- 拥塞避免算法有哪些

- connect 函数发生在三次握手那个阶段

- TCP、UDP connect 函数的区别

- 到这里，然后面试官听不到我电话了，，，，再打就联系不上了

##### 反馈

##### 结果

第二天就跟 HR 反馈了电话面试出的状况，希望能够安排重新面试或者继续面试；但是 HR 的意思是让我等着，现在等了一个星期了，啥反应也没有，有点可惜的，这次感觉挺顺畅的

#### 20210827 TEG05-运营开发工程师

[TEG05-运营开发工程师](https://careers.tencent.com/jobdesc.html?postId=76873)

##### 背景

- 时间： 2021 年 8 月 27 日 15:00 - 15:30

- 形式： 电话面试

##### 面经

- 最近在做的一个项目

- 存储引擎了解多少

- 事务的特性是什么

- `char`、`varchar` 的区别

- 隔离级别有哪些

- 内连接、外连接

- 主从的 binlog 录入方式有哪些

- 主从时延问题的产生

- 闭包的概念

- 自动化测试用的什么框架

- 用过 Python 哪些 Web 框架

- Web 服务的代理是什么

- 有没有用过 XXX 大数据模块

##### 反馈

- 说了一下这个岗位的职责

- 反馈基础挺好

##### 结果

约了笔试时间，说会有 3 到 5 道题。。。

#### 20210827 TEG05-运营开发工程师 Ⅱ

[TEG05-运营开发工程师](https://careers.tencent.com/jobdesc.html?postId=76873)

##### 二面

> 一小时三道题

- [7. 整数反转](https://leetcode-cn.com/problems/reverse-integer/description/)

- [119. 杨辉三角 II](https://leetcode-cn.com/problems/pascals-triangle-ii/description/)

- [98. 验证二叉搜索树](https://leetcode-cn.com/problems/validate-binary-search-tree/description)

### 字节跳动

#### 20210915 直播服务 SRE 工程师职位

##### 背景

- 内蒙旅游第一天，收到 HR 电话安排面试，刚旅游回来，其实不太想搞了

- 时间: 2021 年 9 月 15 日 20:00:00 - 2021 年 9 月 15 日 20:50:35

- 形式: 飞书

##### 面经

- 先来自我介绍

- 没问项目

- 内核版本多少、为什么要用这个版本

- 进程状态有哪些、状态机

- Z 状态、D 状态

- Z 状态很多怎么办

- D 状态很多怎么办

- D 状态为什么不可中断啊

- D 状态占用 CPU 吗

- iowait

- 系统负载很高，但是 CPU 利用率不高，是什么原因

  我说了正常用 top、pidstat、strace 等方法去定位排查进程，但是面试官想要的是系统级别的，不是进程级别的的排查手段

- CLOSE_WAIT 状态是什么

- CLOSE_WAIT 很多怎么办

- 系统负载怎么排查

- load average 是怎么计算出来的

- load average 统计的是哪些状态的进程

- HTTP 的 1.1 和 2.0 版本差异

- HTTP 队头阻塞在哪个版本解决，怎么处理的

  答错了。。。

- MySQL 主从原理

- MySQL 全同步、半同步

- MySQL

- TCP / UDP 区别

- [KCP 协议](https://blog.csdn.net/dxpqxb/article/details/77253297)

- 了解 VLAN、VXLAN 吗

- TCP/IP 四层模型分别是什么

- ARP、free ARP 协议了解吗？ ARP 的作用是什么

- 我有一个服务想用 80 端口的时候，发现已经被占用了，怎么办

  我说通过 nginx apache 这种做反向代理，面试官除了通过代理还有别的方法吗

  我说了个端口复用，不知道对不对。。。

  [如何在同一个端口上运行多个程序或服务](https://blog.csdn.net/weixin_44221613/article/details/102783379)

- CDN 了解吗

- DNS 解析过程说一下

- DNS 劫持如何防止

- 普罗米修斯用过吗

- 直播服务了解吗？整个流程，经过那些服务节点，哪些问题需重点关注了解吗

- 主要语言是 golang 还是 java? golang 了解吗

- 问了好多专业名词，我都没接触过的。。。

##### 反馈

- 面试官人还是很和善的，虽然很多名词我都不懂，但还是过程聊的挺不错的

- 偏系统运维

- 说我的项目太简单，不知道从哪下口

##### 结果

这个岗位专业性太强，不太适合

#### 20210827 后台开发工程师 - 内容平台

##### 背景

- 时间: 2021 年 8 月 27 日 20:00:00 - 2021 年 8 月 27 日 21:06:44

- 形式: 牛客网

##### 面经

- 聊了集中管理平台优化项目

- 聊了中登数据核对项目

- MySQL 常用引擎有哪些

- 他们的区别是什么

- InnoDB 的存储方式什么

- B+ 树有什么特点

- MySQL 的事务隔离级别

- Redis 持久化方式有哪些

- Redis 的有序集合 zset 的底层实现

  说了跳表+压缩列表

- 说说项目中哪些场景会用到跳表

  我说链表插入性能高、跳跃表可以加快查询效率；所以是要求查询和插入都有较高要求的场景

  面试官说是排行榜

- HTTP 和 HTTPS 的区别

  说了端口不一样、HTTPS 是加密报文

- 说说 HTTPS 的过程

  流程太多了，没记得，就说了有一个协商的过程

- UDP 和 TCP 的区别

- 视频会议是用哪个协议

  我说 UDP，面试官说只有 UDP 吗？我说也有用改造过的 UDP 协议，这样即可以保证可靠性，又可以保证速度

- 进程、线程、协程的区别

- select、poll、epoll 的区别

  说的不是很全，简单说了三者的实现，select 跨平台，可监控的文件描述符有限，是 Linux 的最大文件描述符个数，是数组、需要整体在用户态、内核态之间拷贝、poll 改用了链表，解决了容量问题，但是没有解决效率问题；epoll 早起采用的是哈希，后面改用红黑树了，他不需要整体拷贝

- epoll 的水平触发和边缘触发模式区别

- [69. x 的平方根](https://leetcode-cn.com/problems/sqrtx/description/)

- [122. 买卖股票的最佳时机 II](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-ii/description/)

##### 反馈

> 前面项目和基础问答感觉都挺好的，但是在编程题这里卡住了。。。而且这两道题都是比较常见的。。。刷题的时候只刷高频题，这种题都没看。。。

- 编程题需要加强，拿到题目先理清楚自己的思路，设计细节，最后再写代码；而不是上手就直接写代码；还说他们那边大部分时间都是放在设计阶段

##### 结果

没过，前面项目和基础都挺好的，要是那两道 Easy 能写出来就好了

### 微众银行

### 微诺

### 荣耀

### 中金财富

### 顺丰

### 京东

### 富途

#### 20220420 金融业务-交易系统后台开发工程师

[金融业务-交易系统后台开发工程师](https://www.lagou.com/wn/jobs/10333413.html?show=4fa10ca762c6462f8bc3f345705f01a5)

##### 背景

- 时间: 2022 年 4 月 20 日 20 点 00 分 - 21 点 19 分

- 形式: 腾讯会议

##### 面经

- sizeof 考点，编程

- `int a = (int)(((int*)0)+4);`

- 结构体对齐，问 `sizeof` 结果

- 完善一个字符串翻转的 C 语言题目

- 网上一个 父类指针指向子类对象，多态的题目，并输出结果，考察 `重写`、虚析构

- 留了十分钟，白板写一个程序，把字符串的空格去掉，类似 [283. 移动零](https://leetcode-cn.com/problems/move-zeroes/description/)

- MySQL 的四种隔离级别，并阐述这几种隔离级别存在的问题

- MySQL limit 优化

- MySQL binlog 和 redolog 的差异

##### 反馈

- 上来就给了几道题目，自我介绍都省了

- 面试官感觉也挺疲惫的

- 三元运算符写错了。。。

  ```cpp
  // c++
  bool a = (1 > 2) ? true : false;
  ```

  ```py
  a = True if 1 > 2 else False
  ```

##### 结果

没后文

### 携程

### 美团

### 阿里巴巴

### 拉赞达

### 布谷鸟

### 元气森林

### 小鹏

### 蔚来

### 思迈特

### 福里斯 crypto.com

#### 20220422 Python 高级开发工程师

##### 背景

- 时间: 给了 48 小时做题

- 形式: 邮箱发了一道题目过来，让我 48 小时内完成，发回去

**这个岗位是猎头找的，招聘网站上没看到，特记录下**

- 面试流程

  简历筛选通过后，会发个测试题，测试题通过会约两轮面试就结束了，就谈薪 offer 了

- 职位描述:

  1. 参与自动化交易相关系统的需求分析、系统设计和开发，主要包括数据中台系统、回测系统、订单管理系统、风险管理系统、数据分析系统等；

  2. 开发交易策略，包括做市、对冲及套利等功能；

  3. 开发策略回测、交易数据分析、金融指标计算等功能；

  4. 自动化交易/核对/分析的工作流程；

  5. 线上问题定位和修复。

- 岗位要求：

  1. 本科及以上学历，计算机科学、统计学、电子工程或相关专业；

  2. 具备良好的计算机基础（如：数据结构、数据库、操作系统、网络基础等）；熟悉常用的 Linux 命令；

  3. 3 年以上的软件开发经验；熟练使用 Python 进行编程，具备良好的自测习惯；能够熟练使用 Go 或 C++或 Java 者优先考虑；

  4. 熟练使用 Django/Flask/FasAPI 等框架，熟悉 Pandas/Numpy 等三方库，熟悉高并发编程，对性能分析有一定的理解；

  5. 熟练使用 SQL/NO-SQL 数据库；熟悉 Redis 或 MemCached；

  6. 具备系统设计、模块设计能力的优先考虑；

  7. 具备基本的统计学知识 (例如：假设检验、概率分布等)优先考虑；

  8. 具备大规模数据管理 (TB+) 经验者优先考虑；

- 工作职责

  1. 参与公司现有系统平台的维护和迭代研发；

  2. 参与公司新项目的架构设计和迭代研发。

- 任职资格

  1. 本科及以上学历，计算机相关专业；

  2. 3 - 5 年相关经验，对技术有热情；

  3. 基本掌握 Python 的最佳实践方法，有 MySQL/PostgreSQL/MongoDB, Redis 和消息队列等常用的技术栈工具的使用经验；

  4. 具备大型网站服务器/数据库/部署/架构能力，对消息队列、任务调度、负载均衡、并发控制有较好理解，有微服务组合经验；

  5. 熟悉 Linux Shell 常用命令，熟悉 Git，熟悉 Https 协议，RESTful 规范，有良好的编码习惯；

  6. 要求思维活跃，有极客精神，执行力强，熟悉异步编程、事件编程，具有分析系统瓶颈，对系统进行性能调优的能力和经验；

  7. 具备良好的沟通、理解、表达能力，主动推动研发力量完成产品研发；

##### 面经

一道海量数据处理的题目，要求写出解决方案

有一个很大的文本文件，它的大小可能有 几 `TB`，其中存储的任何行的架构文本文件如下：

```json
{
    "id": string,         // uuid, it is unique in this file
    "symbol": string,     // symbol
    "price": double,      // the price of the symbol
    "quantity": double,   // the quantity of the symbol
    "type": string,       // the type, the optional value may be stock, future, option, fund.
    "datetime": string,   // the datetime of the current line
}
```

有一个函数可以处理一行，签名如下：

```py
def handle(id:str, symbol:str, price: Decimal, quantity:Decimal, type: str, dt: datetime) -> str:
    # Hide detail code
    pass

```

您需要将句柄函数的结果写入另一个名为 `result.txt` 的文本文件，并且随意将结果写入 `result.txt`，你可以乱写，如果逐行处理这个文件将很容易完成任务。

假设有`多台`电脑，其中任何一台都是 `64核、128GB内存，500GB 硬盘`，有一个数据存储服务器，配置是 `64核、128GB内存、1PB 硬盘`。

##### 反馈

##### 结果

pass

#### 20220428 Python 高级开发工程师 Ⅱ

##### 背景

额，他说上面做测试题不算一面，这才是一面。。。

- 时间: 18:00 - 19:11

- 形式: 腾讯会议

##### 面经

- 自我介绍

- 迭代器生成器区别

- 装饰器是什么

- 怎么实现一个 retry 装饰器，需要考虑什么

  需要支持重试次数、重试时间间隔、异常处理的入参

- 装饰器语法糖是怎么实现的

  装饰器其实就是一个函数，加了语法糖了直接调用函数是一样的

- 多层装饰器的执行顺序

- 讲一下一面的项目

  就关注了下代码规范、日志输出、异常处理，没具体看我的实现；估计是因为我写的太多了，说明文档都写了一大篇。

- python 中的 list 底层是什么结构

  插入的复杂度是多少

- python 中的 set 底层是什么结构

  插入的复杂度是多少

- 如果是哈希，那键和值分别是什么

- 链表的元素删除，说一下复杂度和删除流程

- 双链表时间复杂度和删除流程

- Web 的处理流程

  说了部署模式，先由 Nginx 做权限处理、代理转发，然后给到 uwsgi 服务器，根据 wsgi 协议把报文传输到 Flask 进行处理，产生响应

- MySQL 做过哪些性能优化

  我说做 SQL 语句优化，他有没问具体怎么优化

- Redis 持久化的两种方式

- web 是怎么和 MySQL 通信的

  SQLAlchemy ORM 框架

- SQLAlchemy 是长连接还是短连接

  长连接，我们用了连接池

- 你之前有做过大数据处理吗

  我说做过，在金证的时候，做过一个数据比对的项目，用交易所的文件和本地的账户文件做比对，找出系统数据和中登数据不一致的客户

- 讲一下方案

  这个项目使用 c++ 做的，首先是用 mmap 把文件引射进来，然后根据股东帐号作为键，把数据映射到 `文件` 小文件；从我们账户系统中读出这些数据，也是一样操作，把数据映射过来后，发现存在想通过的数据，就把数据删除；剩下来的就是有差异的文件了。

- 为什么要存储到小文件，这样不是会增加很多的 IO 吗

  可以吹是因为一个是文件太大了，不能一次性读入，所以用哈希映射的方式，分治地去处理

- 现在有个 python 程序，内存占用很高，该怎么处理

  我说用 memory_profile 这个可以定位到哪一个函数，哪一行的内存占用（但是面试官说和他理解的不一样）；我还说如果是一个系统服务的话，可以通过 iostat 看下是 CPU 密集型，还是 IO 密集型，或者用 strace 来看下哪些系统调用，然后根据这些信息再定位

##### 反馈

你觉得我一面的项目做的怎么样（我可花了不少心思），我的项目有哪些问题吗？你们有更好的方案吗

你的这个写的太多了，面试官所按他理解，应该是一个小程序；而且文档也太多，让人无法直接获取到最关注的信息，但是文档还是比较详细的，包括需求的分析和设计，都能抓到点子上；一些异常处理和日志打印没加上；业界？pada pickle（他说这个估计是想把结构 dump 下来，重试在载入，用这种方式来来做中断重试吧）啊，巴拉巴拉

因为我是当成一个项目来做的，所以第一个是先把功能做出来，后序会加上自定义异常、国际化处理、日志等，包括我的分布式处理方案，后序也会用上序列号

##### 结果

pass

要求提供以下信息

1. 换工作/离职的原因 ：

   部门业务变更，与本人的职业发展规划不符合，所以在了解外部的发展机会

2. 离职通知期：

   一个月左右

3. 薪资现况(列明详细结构)：

   月薪 27k，年终奖两到三个月

4. 期望薪资(列明详细结构)：

   期望薪资 36k，年终奖两到三个月

5. 目前手头的其他机会进展如何：

   目前 AmberGroup 已约三面，其他公司在一二面进行中

6. 未来的职业发展目标：

   技术方向上继续钻研和学习，对系统和架构上有突破；也会更注意代码质量、项目模块质量上的有效缺陷预防工作

#### 20220509 Python 高级开发工程师 Ⅲ

##### 背景

- 时间: 15:00 - 15:27

- 形式: 腾讯会议

##### 面经

- 自我介绍

- 为什么从金证离职

- 在金证主要负责什么

- 账户系统主要负责什么

  我说我做了那个中登账户数据核对的项目，我所有 2700w 用户，他说他是少了。。

- 你用金证的系统遇到过什么问题吗（这个面试官所对金证的系统很了解，经常出现问题）

- c++ 多态，编译时多态是怎么实现的，运行时多态

  我说编译器是重载，函数符号是不一样的，面试官好像不是很满意

  运行时多态就是虚函数表和虚函数指针

- 智能指针了解吗，shared_ptr 有什么问题，是不是线程安全的

  说了 shared_ptr、unique_ptr、weak_ptr（我把 98 的 auto_ptr 说成 shared_ptr 了。。。）

- 说说 Python 的 GIL 锁

- 说说 IP 层和 TCP 层主要作用

- 说说异步 IO

  我说了事件循环，他问我在 IO 准备完成到被处理这段时间怎么办？我说用回调的方式，后来问他，他说业界处理方式各不相同，可以用回调或者循环等待

##### 反馈

... 三十分钟。。。估计面试不想跟我浪费时间了

我也很奇怪这是 python 岗，为什么问我 c++ 的知识

这个面试官应该也很熟悉金证的系统

##### 结果

### AmberGroup

#### 20220421 Python 高级开发工程师

##### 背景

- 时间: 16 点 00 分 - 17 点 02 分

- 形式: 腾讯会议

和 福里斯 是同一个猎头推的

- 工作职责

  1. 参与公司现有系统平台的维护和迭代研发；

  2. 参与公司新项目的架构设计和迭代研发。

- AMBER 的薪资是 16 薪，年终奖四个月，

- 隐形福利：企业是交 6 险 1 金（有补充商业保险，本人和孩子都能享受），企业每个月有 500 元餐补（直接发在美团上直接可以订餐，不管在公司或在家都可以订餐），公司楼下有健身房，本人凭工作证可免费健身

##### 面经

> 问题完全自我发挥，没有指定的问题点。

- 项目讲了半天，感觉很难让外部人员知道我们做了什么东西， ==去看看互联网架构是怎么布置的==

- TCP（没指定，让我自由发挥）

  讲了三次握手、四次挥手；全连接、半连接；TIME_WAIT、CLOSE_WAIT；SYNC 防洪和防范机制

- MySQL 索引（没指定，让我自由发挥）

  讲了索引用的是 B+ 树，不用哈希索引的原因；B 树和 B+ 树的区别

- 给了条 SQL 问有什么问题

  考察了类型隐式转换，不会用到索引；limit 大页优化

- Redis 持久化机制（没指定，让我自由发挥）

- Redis 为什么这么快

- 单机 Redis 性能优化

- 了解 wsgi 协议吗？有没有看过源码

  我简单说了协议的对接内容，接受 `environ, start_response` 两个参数，实现 `application` 处理请求

- 讲讲多路复用（面试官好像考察的是事件循环）

- 异步 async 的机制，源码有没有看过？事件循环？

##### 反馈

- 基础还 OK

- 我感觉我表达的还是不够顺利啊，没有条理性；在面试过程中，面试官都是给一个大主题，然后让你自由发挥，还一直强调说清楚，这么做的原因是什么，应用场景是什么

##### 结果

pass

#### 20220428 Python 高级开发工程师 Ⅱ

##### 背景

- 时间: 15:00 - 15:45

- 形式: 腾讯会议

##### 面经

- 自我介绍

- 两家公司离职的原因是什么

  为了寻求技术上的更进一步突破

- 面对新的环境，新的业务，是怎么去熟悉上手的

  技术上的话，基础开发语言上手会很快，开源框架的学习资料也很多；内部技术的话，可以找一些文档和小模块来看，从一个 CGI 入口开始，由点及面，把整个流程、业务过一遍

  业务上，去找一些规划运营的资料，那些事给客户看的，对于我们这种门外汉，比较好了解；然后再去看内部的资料，了解一些内部的术语、开发流程等

- 为什么选择 AmberGroup

  因为你们是做区块链的，我大学时也了解过区块链，对去中心化比较感兴趣，你们公司是这一块的佼佼者，所以我对你们很感兴趣

- 你说离职是为了获得突破，是指什么？往管理发展吗

  我现在也在做一些质量把控的管理工作，但更希望能在技术上更上一层楼，接触更新、更前沿的架构和设计

- 用 Python 多还是用 C++ 多

  相对来说，Python 多，Python 做上层， C++ 做服务层

- 目前是否是离职状态吗？交接一般多长时间

  在职，一般需要两三个星期

- 拿到一个项目后，是怎么开展工作的

  （这个问题感觉很奇怪，怎么在问一些项目流程上的东西）

  - 需求分析阶段

  - 需求反讲

  - 预研阶段

  - 设计阶段

  - 工作量评估

  - 开发阶段

  - 转测阶段

  - 缺陷修复阶段

- 账户系统功能拆分

  - 开户、销户、资料更改

  - 开户：系统账户、资金账户、股东账户、期权账户、OTC 账户

  - 对接：账户登录与进行交易，与交易中心对接

  - 清算：与深交所上交所进行账户数据对比、与交易中心、OTC 等对接系统进行数据对齐

- 账户系统模块拆分

  - 分为外部和内部

  - 外部需要考虑通信、接口定义

  - 内部需要考虑底层通信、上层业务开发、数据库

  - 全部以微服务的形式存在

##### 反馈

自我感觉还行，没有卡住的地方，就是话说得太快了，没有慢条斯理把自己的想法表达清楚，容易给人一种你是个机器人，说话不经过脑子的感觉

**问答**

- 公司在哪；管理层是香港的吗；部门的主要业务是什么；当前遇到哪些瓶颈；是否会考虑更换架构、编程语言

- 公司在科兴；管理层都是外国人；部门（好像也是）做和账户有关的；后续打算演变为微服务、数据存储往大数据发展；当前用的 fastapi，内部招的大部分都是 Python 的，也有一些 Java 的

##### 结果

pass

#### 20220506 Python 高级开发工程师 Ⅲ

##### 背景

- 时间: 15:00 - 15:47

- 形式: 腾讯会议

##### 面经

- 自我介绍

- 问我们的技术架构

- 问我们的认证服务、配置下发服务

  是不是服务化（好像这个会往微服务发展）

  消息放在哪，用的什么消息队列

- 问项目，这是干什么的，为什么要这样，怎么不那样

- 有没有出现过生产事故

  我说没有，还拿了 xxxx 年优秀员工，但是在开发过程中，出现过

- 那你开发过程中遇到的是什么问题，说具体点

- 怎么去避免这种问题

  code review、方案 review

- 如果技术断层没人给你 review 呢（？？？）

- 智力题：假设一辆车最多可以跑 100 km，现在有 50 辆车，如果同时出发，问最远可以跑多少公里（要求同时出发，不需要同时到达，中途可以遗弃车辆）

  50 辆车同时出发，跑 2 km，刚好消耗掉一辆车的油；然后把其中一辆车的油输入到其他 49 辆车中，遗弃掉那辆车；剩下 49 辆车继续跑，同样也是跑一辆车的里程数，那么可以跑 100/49 km，依此类推

  ```sh
  result = 100 / 50 + 100 / 49 + 100 / 48 ... + 100 / 1
         = 454.79066370307237 km
  ```

##### 反馈

- 工作地点在哪；部门是做什么的；有没有晋升机制；部门技术栈是什么

- 在科兴；OTC（场外交易）；员工通过一定级，没有 T 几那种；我不是说了吗，OTC

感觉面试官挺不耐烦的到最后

##### 结果

fuck

# 强化记忆

可以看到把 I/O 事件的等待和监听任务交给了操作系统内核，内核在 I/O 状态发生改变后（例如 socket 连接已建立成功可发送数据），即发生了可读可写事件后 (EPOLLIN/EPOLLOUT)，`【回调】`我们注册的函数 (recv/send)，这样我们就收到了内核的通知完成收发数据操作。

**讲一下拥塞控制的过程**

> 拥塞控制是防止过多的数据注入网络，使得网络中的路由器或者链路过载。流量控制是点对点的通信量控制，而拥塞控制是全局的网络流量整体性的控制。发送双方都有一个拥塞窗口（cwnd）

`cwnd（congestion window）`拥塞窗口、`ssthresh（slow start threshold）` 慢启动阈值

- `慢启动阶段`

  拥塞窗口从 `1` 开始按 `指数增长`直到达到慢启动阈值 `ssthresh`（这个阈值一般是 `65535`），就进入拥塞避免算法。

- `拥塞避免阶段`

  达到慢启动阈值之后，需要把发送速度降低下来以免发生拥塞，原来是指数增长的，增长很快，`现在改为线性增长`，相对来说会减缓很多了

- `发生拥塞`

  虽然已经改成线性增长了，但还是在增长，如果增长到了 `慢启动阈值ssthresh`，就很`极端的快速将窗口重置为 1，并且将 慢启动阈值ssthresh 减半`；再次回到慢启动过程

- `快重传 + 快恢复`

  - 接收方每收到一个失序的报文段后就立即发出重复确认，`发送方只要收到 3 个重复确认就立即重传`。

  - 当发送方连续收到三个重复确认，就将慢启动门限减半，将当前的窗口设置为慢启动门限，并采用拥塞避免算法。（采用快恢复算法时，慢启动只在建立连接和网络超时时才使用）

- 查询优先级: `HAVING < 聚合语句 < WHERE`

- 哪些函数不可以作为虚函数

- ★ 虚函数和纯虚函数的区别

  - `纯虚函数没有定义，只有声明，子类必须实现纯虚函数` ，目的是提供一个统一的接口

  - 包含纯虚函数的类是抽象类，不能实例化；子类必须定义父类的纯虚函数

  - 纯虚函数相当于占位符, 先在`虚函数表`中占一个位置由子类实现后再把真正的函数指针填进去；除此之外和普通的虚函数没什么区别

- 父类指针指向子类对象，指向的是哪张虚函数表

  子类对象继承了父类的虚函数表，`重写也是重写子类的虚函数表，所以指向的是【子类的虚函数表】`

- 子类如果重写了父类的虚函数 fun；就会把子类虚函数表中原本父类的虚函数 fun 对应的记录（内容 BaseClass::fun）覆盖为子类的 fun 函数地址（内容 SonClass::fun）

  ![alt](https://p-blog.csdn.net/images/p_blog_csdn_net/haoel/15190/o_vtable3.JPG)

- 父类指针指向子类对象，通过该指针只能访问父类的成员，`但为了访问子类成员引入虚函数，而且只能访问重写了该父类的虚函数的函数`；依据的是【继承】+【重写】

- 父类指针指向子类对象，通过该指针只能访问父类的成员，`但为了访问子类成员引入虚函数，而且只能访问重写了该父类的虚函数的函数`；依据的是【继承】+【重写】

# 其他

- 主要针对自己最熟悉的项目，画出项目的架构图，主要的数据表结构，项目中使用到的技术点，项目的总峰值 qps，时延，以及有没有分析过时延出现的耗时分别出现在什么地方，项目有啥改进的地方没有

- [Leetcode 实战——二分搜索及其变形（寻找左右边界、查找插入位置）](http://sunshuyi.vip/2020/02/23/leetcode/leetcode-binary-search/)

- 行级锁并不是直接锁记录，而是锁索引

  - 用到了主键索引，MySQL 会锁住主键索引

  - 操作了非主键索引，MySQL 会先锁住非主键索引，再锁定主键索引

- 线程可以共用哪些资源

- 为什么说虚函数表并不安全

- 虚函数的入口地址和普通函数有什么不同

- 父类指针怎么调用子类的虚函数，调用流程是什么

- 父类指针指向子类对象，指向的是哪张虚函数表

- 密集索引、稀疏索引

- `extern int g_Int;` 作用是声明函数或全局变量的作用范围的关键字，`声明的函数和变量可以在本模块或其他模块中使用，不能重复初始化`

- `new` 在对象创建的同时会`【自动计算大小、自动执行构造函数】`做初始化，在对象在消亡时会自动执行析构函数；在自由存储区分配内存。

- `malloc` 只管分配内存，需要指定申请空间的大小，并不能对所得的内存进行初始化，所以得到的一片新内存中，其值将是随机的；在栈区分配内存。

**`malloc` 是怎么分配内存的**

- [malloc 是如何分配内存的](https://www.cnblogs.com/ysdu/p/4763077.html#_labelTop)

- 从堆里面获得空间。也就是说函数返回的指针是指向堆里面的一块内存

- 操作系统中有一个记录空闲内存地址的链表。当操作系统收到程序的申请时，就会遍历该链表，然后就`寻找第一个空间大于所申请空间的堆结点，然后就将该结点从空闲结点链表中删除，并将该结点的空间分配给程序`
