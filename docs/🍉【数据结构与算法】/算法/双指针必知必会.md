- [双指针必知必会](#双指针必知必会)
  - [参考资料](#参考资料)
  - [能不能用](#能不能用)
    - [出现明显的要进行区域划分的问题](#出现明显的要进行区域划分的问题)
    - [操作数组中某个元素的问题](#操作数组中某个元素的问题)
  - [怎么用](#怎么用)
  - [典型题](#典型题)
    - [需要对数组进行重新做整理的问题](#需要对数组进行重新做整理的问题)
      - [问题特点](#问题特点)
      - [解题思路](#解题思路)
      - [典型题](#典型题-1)
    - [双指针在数组中的应用](#双指针在数组中的应用)
    - [双指针在链表中的应用](#双指针在链表中的应用)
    - [进阶题](#进阶题)
- [滑动窗口](#滑动窗口)
  - [参考资料](#参考资料-1)
  - [能不能用](#能不能用-1)
  - [怎么用](#怎么用-1)
  - [典型题](#典型题-2)

# 双指针必知必会

解数组、字符串、链表时常用，这里统一记录

## 参考资料

- [labuladong - 双指针技巧总结](https://labuladong.gitee.io/algo/2/20/55/)

- [★ Leetcode 双指针操作合集（快慢指针 & 滑动窗口 & 双指针）](https://blog.csdn.net/qq_41605114/article/details/105982293)

## 能不能用

- 需要遍历一个数组或字符串进行 `两层循环`（比如暴力求解时），可以考虑用双指针指针；通过一个快指针和慢指针在一个 `for` 循环下完成两个 `for` 循环的工作

### 出现明显的要进行区域划分的问题

题目中出现明显的`要求进行区域划分的场景`

- 比如快排，需要把小于基准的和大于基准的进行区分

- 比如字符串翻转，需要把左边和右边的调换位置

- 比如把字符串进行区分，奇数放前面，偶数放后面

### 操作数组中某个元素的问题

- 无法高效获取长度，无法根据偏移快速访问元素，是链表的两个劣势。然而面试的时候经常碰见`诸如获取倒数第k个元素，获取中间位置的元素，判断链表是否存在环，判断环的长度等和长度与位置有关的问题`。这些问题都可以通过灵活运用双指针来解决

## 怎么用

- 指针应该怎么放

- 指针应该如何移动

- 指针移动与结果的关系，即双指针移动过程中，结果怎么变化

  每次都是`移动对自己最不利的一边`，虽然`可能`变得更差，但总比不移动强（可以通过 `min / max` 保持结果最优），而且可以确认，`移动动另一边肯定会使结果更差或不变`

- 快指针先移动，慢指针怎么变化

  ```cpp
  for (int fastIndex = 0, slowIndex = 0; fastIndex < nums.size(); fastIndex++)
  {
      if (nums[fastIndex] 满足条件)
      {
          do_something();

          /**
           * 慢指针移动，对于那些从数组中移除元素的题
           * 比如 283, 26, 27 题，都是用 slowIndex 作为【合法元素】新的下标，重新整理数组
           *
           * 什么是合法元素？
           * 就是能进入到这个 if 条件的时候，快指针已经指向，或可以通过快指针得到合法元素
           */
          nums[slowIndex++] = nums[fastIndex];
      }
  }
  ```

## 典型题

- 数组中，常用对撞指针、快慢指针

- 链表中，常用快慢指针

### 需要对数组进行重新做整理的问题

让元素回到它应该在的位置

#### 问题特点

- 本类题目特点在于长度为 n 的数组，`[1, n]` 之间的数有特殊意义，把它们放到排序后该在的位置，然后位置上不是正确数的数据可以推导出结果。

- 需要 `原地操作`，不允许申请空间的时候，可以使用慢指针指向元素该在的位置，快指针往前遍历元素，符合条件时，快指针指向的元素覆盖到慢指针

#### 解题思路

- `fastIndex` 去进行遍历

- `slowIndex` 作为【合法元素】新的下标，把满足要求的 `nums[fastIndex]` 替换到 slowIndex 的位置上，然后 slowIndex++ 指向下一个合法元素的位置

#### 典型题

- [26. 删除有序数组中的重复项](https://leetcode-cn.com/problems/remove-duplicates-from-sorted-array/description)

- [80. 删除有序数组中的重复项 II](https://leetcode-cn.com/problems/remove-duplicates-from-sorted-array-ii/description/)

- [27. 移除元素](https://leetcode-cn.com/problems/remove-element/description/)

- [88. 合并两个有序数组](https://leetcode-cn.com/problems/merge-sorted-array/description/)

- [283. 移动零](https://leetcode-cn.com/problems/move-zeroes/description)

- [448. 找到所有数组中消失的数字](https://leetcode-cn.com/problems/find-all-numbers-disappeared-in-an-array/)

- [977. 有序数组的平方](https://leetcode-cn.com/problems/squares-of-a-sorted-array/)

- [剑指 Offer 05. 替换空格.cpp](https://leetcode-cn.com/problems/ti-huan-kong-ge-lcof)

### 双指针在数组中的应用

- [167. 两数之和 II - 输入有序数组](https://leetcode-cn.com/problems/two-sum-ii-input-array-is-sorted/description/)

- [344. 反转字符串](https://leetcode-cn.com/problems/reverse-string/description/)

- [125. 验证回文串](https://leetcode-cn.com/problems/valid-palindrome/description/)

- [905. 按奇偶排序数组](https://leetcode-cn.com/problems/sort-array-by-parity/description/)

### 双指针在链表中的应用

- [19. 删除链表的倒数第 N 个节点](https://leetcode-cn.com/problems/remove-nth-node-from-end-of-list/description/)

- [141. 环形链表](https://leetcode-cn.com/problems/linked-list-cycle/description/)

- [142. 环形链表 II](https://leetcode-cn.com/problems/linked-list-cycle-ii/description/)

- [160. 相交链表](https://leetcode-cn.com/problems/intersection-of-two-linked-lists/description/)

- [234. 回文链表](https://leetcode-cn.com/problems/palindrome-linked-list/description/)

- [328. 奇偶链表](https://leetcode-cn.com/problems/odd-even-linked-list/description/)

- [876. 链表的中间结点](https://leetcode-cn.com/problems/middle-of-the-linked-list/description/)

### 进阶题

- [75. 颜色分类](https://leetcode-cn.com/problems/sort-colors/description/)

- [15. 三数之和](https://leetcode-cn.com/problems/3sum/description/)

- [581. 最短无序连续子数组](https://leetcode-cn.com/problems/shortest-unsorted-continuous-subarray/description/)

- [11. 盛最多水的容器](https://leetcode-cn.com/problems/container-with-most-result/description/)

- [42. 接雨水](https://leetcode-cn.com/problems/trapping-rain-water/description/)

# 滑动窗口

> 左右指针形成一个窗口，维护这个窗口，不断向前滑动，然后收集结果更新答案

## 参考资料

- [滑动窗口技巧](https://www.bookstack.cn/read/fucking-algorithm/%E7%AE%97%E6%B3%95%E6%80%9D%E7%BB%B4%E7%B3%BB%E5%88%97-%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E6%8A%80%E5%B7%A7.md)

- [从简单到复杂，一文带你搞懂滑动窗口在数组及字符串中的应用](https://mp.weixin.qq.com/s/D9feyUFjzfr_8SuaS_x4Og)

## 能不能用

- 遇到`【子串问题（不连续）】`，首先想到的就是滑动窗口技巧。

- 有时候分不清到用 动态规划 还是用滑动窗口，对于 DP 来说 `f(n) = fun(f(n-1))`，即当前项的值可以通过 `前一项` 的值推算出来（数学归纳法），所以动态规划一般都是求`子序列（连续）`时用

- 这类题目脱离不开主串（主数组）和子串（子数组）的关系，要求的时间复杂度往往是 O(n) ，空间复杂度往往是常数级的。

## 怎么用

- 在字符串 S 中使用双指针中的左右指针技巧，初始化 `int left(0), right(0);`，把索引闭区间 `[left, right]` 称为一个「窗口」

- 【不断地增加 `right` 指针，扩大窗口 `[left, right]`，`【直到窗口中的字符串符合要求】`

- 此时，停止增加 `right`，`【转而不断增加 left】` 指针缩小窗口 `[left, right]`，直到窗口中的字符串`不再符合要求`。同时，每次增加 `left`，我们都要更新一轮结果

- 重复第 2 和第 3 步，直到 `right` 到达字符串 S 的尽头

- 对窗口内的元素进行判断是否满足题目条件时，可以 `使用集合或哈希辅助处理`，否则很容易 TLE 的

```c++

// leetcode 209、3
int left(0), result(0), count_result;

// 【注意点一】 右边界放在这里处理
for (int right = 0; right < nums.size(); right++)
{
    // 【注意点二】元素进入窗口，计算该元素
    do_something(count_result, nums[right]);

    /**
     * 题目求满足条件的【最小结果】时（leetcode 209）
     *    while 循环条件为【满足要求时】的情况
     *    （因为求最小结果，所以在[满足要求]的前提下，才需要搜索左边界）
     *
     * 题目求满足条件的【最大结果】时（leetcode 3）
     *    while 循环条件为【不满足要求时】的情况
     *    （因为求最大结果，所以肯定一直右边界扩展最好，除非[不满足要求]了才要收缩左边界）
     */
    // 【注意点三】判断左窗口是否需要搜索
    while (xxx)
    {
        // 收缩左窗口，从计算结果中剔除左边界
        undo_something(count_result, nums[left]);
        left++;
    }

    if (满足题目条件)
    {
        // 更新结果
    }

    // 进入下一轮循环，继续扩展窗口右边界
}
```

## 典型题

[TAG: 滑动窗口](https://leetcode-cn.com/tag/sliding-window/problemset/)

- [★ 3. 无重复字符串的最长子串](https://leetcode-cn.com/problems/longest-substring-without-repeating-characters/description)

- [★ 209. 长度最小的子数组](https://leetcode-cn.com/problems/minimum-size-subarray-sum/description)

- [★ 438. 找到字符串中所有字母异位词](https://leetcode-cn.com/problems/find-all-anagrams-in-a-string/description/)

- [★ 76. 最小覆盖子串](https://leetcode-cn.com/problems/minimum-window-substring/description)

- [219. 存在重复元素 II](https://leetcode-cn.com/problems/contains-duplicate-ii/description/)

- [★ 567. 字符串的排列](https://leetcode-cn.com/problems/permutation-in-string/description/)
