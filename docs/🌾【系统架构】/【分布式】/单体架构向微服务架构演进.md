- [单体架构向云原生演变过程](#单体架构向云原生演变过程)
- [参考资料](#参考资料)
- [单体架构向微服务架构的演变](#单体架构向微服务架构的演变)
  - [单体架构遇到的问题](#单体架构遇到的问题)
  - [单体架构存在的问题](#单体架构存在的问题)
  - [微服务化需要解决的问题](#微服务化需要解决的问题)
- [过程中的疑问](#过程中的疑问)
- [其他](#其他)

# 单体架构向云原生演变过程

演变过程：物理单机 ----> 虚拟化 ----> 容器化 ----> 云原生；

# 参考资料

- [刘超的通俗云计算 - 微信公众号]

- [从单体架构到分布式架构，坑多 bug 多！](https://mp.weixin.qq.com/s/kIMu7h3diTJM0iMaImIvVw)

- [分布式系统遇到的十个问题](https://mp.weixin.qq.com/s?__biz=MzAwMjI0ODk0NA==&mid=2451964512&idx=2&sn=c8fc66cce3b43cd0f2c89aca1d6874bd&chksm=8d1ffbffba6872e9bc568bb3ef324ae7f254ab65456f9d5aa1ab9f0abe14fc70d38542539de3&scene=90&subscene=93&sessionid=1660215353&clicktime=1660215387&enterid=1660215387&ascene=56&realreporttime=1660215387488&forceh5=1&devicetype=android-31&version=28001b11&nettype=3gnet&abtest_cookie=AAACAA%3D%3D&lang=zh_CN&session_us=gh_33b54c2a2622&exportkey=A6rxtZD%2FdYnVjUKFqJoZlWA%3D&pass_ticket=jAAgBStwAVkj4lDhPdP3YcCYLDInGNYUXwT6fP7LRnmo%2BPZMrTxIir9pxgh00Rcj&wx_header=3)

- [从 1 到 2000 个微服务，史上最落地的实践云原生 25 个步骤](https://mp.weixin.qq.com/s/64cJJj14Ro4z0nAzQm4GGg)

- [以业务为核心的云原生体系建设](https://mp.weixin.qq.com/s?__biz=MzI1NzYzODk4OQ==&mid=2247485447&idx=1&sn=5aed0de927f7e799948db417bc7942dc&chksm=ea151f25dd629633663276fb90308b944394bee88f58d1f285311ee93eb12c485d24cb84e56d&scene=21#wechat_redirect)

# 单体架构向微服务架构的演变

## 单体架构遇到的问题

- 单机部署，如果要提高处理能力可以开多个实例，充分利用多核优势

  - 单机部署实现简单、维护成本低，不需要其他额外开销

  - 单点故障问题明显，一旦 Redis 挂了，所以请求将会直接打到数据库上

  - 一个 Redis 的并发能力有限，又要兼顾读写

  - 单机部署，存储也有限，数据量大，重启会变得很忙

## 单体架构存在的问题

- 无法为物理服务器中的应用程序定义资源边界，这会导致资源分配问题

  例如，如果在物理服务器上运行多个应用程序，则可能会出现一个应用程序占用大部分资源的情况，结果可能导致其他应用程序的性能下降。一种解决方案是在不同的物理服务器上运行每个应用程序，但是由于资源利用不足而无法扩展，并且维护许多物理服务器的成本很高。

  **虚拟化部署时代**

  作为解决方案，引入了虚拟化。虚拟化技术允许你在单个物理服务器的 CPU 上运行多个虚拟机（VM）。 虚拟化允许应用程序在 VM 之间隔离，并提供一定程度的安全，因为一个应用程序的信息 不能被另一应用程序随意访问。

  虚拟化技术能够更好地利用物理服务器上的资源，并且因为可轻松地添加或更新应用程序 而可以实现更好的可伸缩性，降低硬件成本等等。每个 VM 是一台完整的计算机，在虚拟化硬件之上运行所有组件，包括其自己的操作系统。

  **容器部署时代**

  容器类似于 VM，但是它们具有被放宽的隔离属性，可以在应用程序之间共享操作系统（OS）。 因此，容器被认为是轻量级的。容器与 VM 类似，具有自己的文件系统、CPU、内存、进程空间等。 由于它们与基础架构分离，因此可以跨云和 OS 发行版本进行移植。

  容器因具有许多优势而变得流行起来。下面列出的是容器的一些好处：

  1). 敏捷应用程序的创建和部署：与使用 VM 镜像相比，提高了容器镜像创建的简便性和效率。

  2). 持续开发、集成和部署：通过快速简单的回滚（由于镜像不可变性），支持可靠且频繁的 容器镜像构建和部署。

  3). 关注开发与运维的分离：在构建/发布时而不是在部署时创建应用程序容器镜像， 从而将应用程序与基础架构分离。

  4). 可观察性：不仅可以显示操作系统级别的信息和指标，还可以显示应用程序的运行状况和其他指标信号。

  5). 跨开发、测试和生产的环境一致性：在便携式计算机上与在云中相同地运行。

  6). 跨云和操作系统发行版本的可移植性：可在 Ubuntu、RHEL、CoreOS、本地、 Google Kubernetes Engine 和其他任何地方运行。

  7). 以应用程序为中心的管理：提高抽象级别，从在虚拟硬件上运行 OS 到使用逻辑资源在 OS 上运行应用程序。

  8). 松散耦合、分布式、弹性、解放的微服务：应用程序被分解成较小的独立部分， 并且可以动态部署和管理 - 而不是在一台大型单机上整体运行。

  9). 资源隔离：可预测的应用程序性能。

  10).资源利用：高效率和高密度。

## 微服务化需要解决的问题

# 过程中的疑问

# 其他

- 自测成了很大的问题，一套环境设计很多节点，大家都公用一套环境
