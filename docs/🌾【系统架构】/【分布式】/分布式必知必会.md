- [参考资料](#参考资料)
- [分布式系统](#分布式系统)
  - [QPS、TPS、OPS](#qpstpsops)
  - [分布式和集群的区别](#分布式和集群的区别)
  - [单体、集群、分布式、微服务、云原生、k8s 之间的关系](#单体集群分布式微服务云原生k8s-之间的关系)
- [其他](#其他)

# 参考资料

- [分布式专题](https://www.cnblogs.com/ming-blogs/category/1408568.html)

- [分布式锁看这篇就够了](https://www.cnblogs.com/zhisheng/p/8947996.html)

- [如何保证分布式系统数据一致性](https://blog.csdn.net/vcliy/article/details/85229062)

# 分布式系统

## QPS、TPS、OPS

- `QPS` 英文全称是 Queries Per Second，即每秒查询率

- `TPS` 英文全称是 Transactions Per Second，即服务器每秒处理的事务数

## 分布式和集群的区别

> - `分布式`: 一个业务`拆分为多个子业务`，部署在多个服务器上，共同完成
> - `集群`: `同一个业务`，部署在多个服务器上，分担单机压力，更容易扩展

- 分布式是指`多个系统协同合作完成一个特定任务`的系统

  - 分布式是解决中心化管理的问题，把所有的任务叠加到一个节点处理，太慢了。

  - 所以`把一个大的问题拆分为多个小的问题`，并分别解决，最终协同合作。分布式的主要工作是分解任务，将职能拆解。

- 集群主要的使用场景是为了`分担请求的压力`，也就是在几个服务器上`部署相同的应用程序`，来分担客户端请求。

  当压力进一步增大的时候，可能在需要存储的部分，`mysql` 无法面对很多的写压力。因为在 `mysql` 做成集群之后，主要的写压力还是在 `master` 的机器上面，其他 `slave` 机器无法分担写压力，从而这个时候，也就引出来分布式。

- 分布式的主要应用场景是单台机器已经无法满足这种性能的要求，必须要融合多个节点，并且节点之间是相关之间有交互的。相当于在写 mysql 的时候，每个节点存储部分数据，也就是`分布式存储`的由来。存储一些非结构化数据：静态文件、图片、小视频等等，这些也就是`分布式文件系统`的由来。

- 分布式处理里必然包含任务分解与答案归并。分布式中的某个子任务节点，可能由一个集群来代替；集群中任一节点，都是做一个完整的任务

- 集群和分布式都是由多个节点组成，但是`集群之间的通信协调基本不需要；而分布式各个节点的通信协调必不可少`

## 单体、集群、分布式、微服务、云原生、k8s 之间的关系

[10 分钟了解微服务、容器和 Kubernetes](https://zhuanlan.zhihu.com/p/441566794?utm_source=com.microsoft.emmx&utm_medium=social&utm_oi=70255225339904)

- 单体架构：什么都放在一起

- 集群架构：横向扩展分担请求

- 分布式：任务拆分，一起协作完成

- 微服务：微服务是分布式的一种实施风格

- docker: 一种打包、部署和运行 Linux 程序 / 进程的方法

- kubernetes: 编排管理容器，动态分配计算资源以满足需求

- 云原生：微服务上云，产品快速迭代、不依赖环境、故障探测、弹性伸缩；敏捷、DevOps 开发运维一体化

# 其他

- [如何在 Linux 实现一个网卡配置多个 IP 地址与多个网卡的负载均衡和冗余](https://blog.51cto.com/qingzhu/565501)

- 集群、分布式问题都是在怎么解决集群后的数据访问问题

- 高并系统通常离不开 `锁`、`消息队列`、`Redis`

- 消息队列常见的重复消费、顺序性、幂等性问题都要通过表（保存、记录状态）来解决

- 目前遇到的组件是怎么主从选举的

  - kafka:

  - redis-sentinel: 投票

- 目前遇到的组件是怎么进行协调的

  - kafka: zookeeper（新版是 kraft）

  - redis: gossip 协议
